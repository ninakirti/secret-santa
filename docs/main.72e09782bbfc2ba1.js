(self.webpackChunksecret_santa=self.webpackChunksecret_santa||[]).push([[792],{408:(Ge,L,B)=>{"use strict";function N(e){return"function"==typeof e}function Q(e){const t=e(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const xe=Q(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function X(e,n){if(e){const t=e.indexOf(n);0<=t&&e.splice(t,1)}}class _{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(N(r))try{r()}catch(o){n=o instanceof xe?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{T(o)}catch(s){n=n??[],s instanceof xe?n=[...n,...s.errors]:n.push(s)}}if(n)throw new xe(n)}}add(n){var t;if(n&&n!==this)if(this.closed)T(n);else{if(n instanceof _){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(n)}}_hasParent(n){const{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){const{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&X(t,n)}remove(n){const{_finalizers:t}=this;t&&X(t,n),n instanceof _&&n._removeParent(this)}}_.EMPTY=(()=>{const e=new _;return e.closed=!0,e})();const D=_.EMPTY;function I(e){return e instanceof _||e&&"closed"in e&&N(e.remove)&&N(e.add)&&N(e.unsubscribe)}function T(e){N(e)?e():e.unsubscribe()}const k={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ue={setTimeout(e,n,...t){const{delegate:r}=ue;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){const{delegate:n}=ue;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function le(e){ue.setTimeout(()=>{const{onUnhandledError:n}=k;if(!n)throw e;n(e)})}function ie(){}const Ie=$t("C",void 0,void 0);function $t(e,n,t){return{kind:e,value:n,error:t}}let ce=null;function qe(e){if(k.useDeprecatedSynchronousErrorHandling){const n=!ce;if(n&&(ce={errorThrown:!1,error:null}),e(),n){const{errorThrown:t,error:r}=ce;if(ce=null,t)throw r}}else e()}class On extends _{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,I(n)&&n.add(this)):this.destination=d0}static create(n,t,r){return new fn(n,t,r)}next(n){this.isStopped?Il(function Vt(e){return $t("N",e,void 0)}(n),this):this._next(n)}error(n){this.isStopped?Il(function it(e){return $t("E",void 0,e)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Il(Ie,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Cr=Function.prototype.bind;function Ws(e,n){return Cr.call(e,n)}class br{constructor(n){this.partialObserver=n}next(n){const{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){Nn(r)}}error(n){const{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){Nn(r)}else Nn(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){Nn(t)}}}class fn extends On{constructor(n,t,r){let i;if(super(),N(n)||!n)i={next:n??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&k.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&Ws(n.next,o),error:n.error&&Ws(n.error,o),complete:n.complete&&Ws(n.complete,o)}):i=n}this.destination=new br(i)}}function Nn(e){k.useDeprecatedSynchronousErrorHandling?function lo(e){k.useDeprecatedSynchronousErrorHandling&&ce&&(ce.errorThrown=!0,ce.error=e)}(e):le(e)}function Il(e,n){const{onStoppedNotification:t}=k;t&&ue.setTimeout(()=>t(e,n))}const d0={closed:!0,next:ie,error:function c0(e){throw e},complete:ie},Sl="function"==typeof Symbol&&Symbol.observable||"@@observable";function Jn(e){return e}function gp(e){return 0===e.length?Jn:1===e.length?e[0]:function(t){return e.reduce((r,i)=>i(r),t)}}let Le=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function p0(e){return e&&e instanceof On||function h0(e){return e&&N(e.next)&&N(e.error)&&N(e.complete)}(e)&&I(e)}(t)?t:new fn(t,r,i);return qe(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=mp(r))((i,o)=>{const s=new fn({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Sl](){return this}pipe(...t){return gp(t)(this)}toPromise(t){return new(t=mp(t))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=n=>new e(n),e})();function mp(e){var n;return null!==(n=e??k.Promise)&&void 0!==n?n:Promise}const g0=Q(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Jt=(()=>{class e extends Le{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new vp(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new g0}next(t){qe(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){qe(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){qe(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?D:(this.currentObservers=null,o.push(t),new _(()=>{this.currentObservers=null,X(o,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new Le;return t.source=this,t}}return e.create=(n,t)=>new vp(n,t),e})();class vp extends Jt{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,n)}error(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,n)}complete(){var n,t;null===(t=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===t||t.call(n)}_subscribe(n){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(n))&&void 0!==r?r:D}}function yp(e){return N(e?.lift)}function Ue(e){return n=>{if(yp(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function je(e,n,t,r,i){return new m0(e,n,t,r,i)}class m0 extends On{constructor(n,t,r,i,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){n.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){n.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function me(e,n){return Ue((t,r)=>{let i=0;t.subscribe(je(r,o=>{r.next(e.call(n,o,i++))}))})}function Xn(e){return this instanceof Xn?(this.v=e,this):new Xn(e)}function Cp(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function xl(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=e[o]&&function(s){return new Promise(function(a,u){!function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}(a,u,(s=e[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const bp=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Ep(e){return N(e?.then)}function Ip(e){return N(e[Sl])}function Sp(e){return Symbol.asyncIterator&&N(e?.[Symbol.asyncIterator])}function Mp(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Ap=function H0(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Tp(e){return N(e?.[Ap])}function xp(e){return function wp(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(e,n||[]),o=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function s(h){return function(p){return Promise.resolve(p).then(h,d)}}),i[Symbol.asyncIterator]=function(){return this},i;function a(h,p){r[h]&&(i[h]=function(g){return new Promise(function(y,C){o.push([h,g,y,C])>1||u(h,g)})},p&&(i[h]=p(i[h])))}function u(h,p){try{!function l(h){h.value instanceof Xn?Promise.resolve(h.value.v).then(c,d):f(o[0][2],h)}(r[h](p))}catch(g){f(o[0][3],g)}}function c(h){u("next",h)}function d(h){u("throw",h)}function f(h,p){h(p),o.shift(),o.length&&u(o[0][0],o[0][1])}}(this,arguments,function*(){const t=e.getReader();try{for(;;){const{value:r,done:i}=yield Xn(t.read());if(i)return yield Xn(void 0);yield yield Xn(r)}}finally{t.releaseLock()}})}function Op(e){return N(e?.getReader)}function xt(e){if(e instanceof Le)return e;if(null!=e){if(Ip(e))return function z0(e){return new Le(n=>{const t=e[Sl]();if(N(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(bp(e))return function G0(e){return new Le(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}(e);if(Ep(e))return function q0(e){return new Le(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,le)})}(e);if(Sp(e))return Np(e);if(Tp(e))return function W0(e){return new Le(n=>{for(const t of e)if(n.next(t),n.closed)return;n.complete()})}(e);if(Op(e))return function Z0(e){return Np(xp(e))}(e)}throw Mp(e)}function Np(e){return new Le(n=>{(function Y0(e,n){var t,r,i,o;return function _p(e,n,t,r){return new(t||(t=Promise))(function(o,s){function a(c){try{l(r.next(c))}catch(d){s(d)}}function u(c){try{l(r.throw(c))}catch(d){s(d)}}function l(c){c.done?o(c.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(c.value).then(a,u)}l((r=r.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){try{for(t=Cp(e);!(r=yield t.next()).done;)if(n.next(r.value),n.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}n.complete()})})(e,n).catch(t=>n.error(t))})}function Rn(e,n,t,r=0,i=!1){const o=n.schedule(function(){t(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function Ke(e,n,t=1/0){return N(n)?Ke((r,i)=>me((o,s)=>n(r,o,i,s))(xt(e(r,i))),t):("number"==typeof n&&(t=n),Ue((r,i)=>function Q0(e,n,t,r,i,o,s,a){const u=[];let l=0,c=0,d=!1;const f=()=>{d&&!u.length&&!l&&n.complete()},h=g=>l<r?p(g):u.push(g),p=g=>{o&&n.next(g),l++;let y=!1;xt(t(g,c++)).subscribe(je(n,C=>{i?.(C),o?h(C):n.next(C)},()=>{y=!0},void 0,()=>{if(y)try{for(l--;u.length&&l<r;){const C=u.shift();s?Rn(n,s,()=>p(C)):p(C)}f()}catch(C){n.error(C)}}))};return e.subscribe(je(n,h,()=>{d=!0,f()})),()=>{a?.()}}(r,i,e,t)))}function Zr(e=1/0){return Ke(Jn,e)}const hn=new Le(e=>e.complete());function Nl(e){return e[e.length-1]}function Rp(e){return N(Nl(e))?e.pop():void 0}function co(e){return function J0(e){return e&&N(e.schedule)}(Nl(e))?e.pop():void 0}function Pp(e,n=0){return Ue((t,r)=>{t.subscribe(je(r,i=>Rn(r,e,()=>r.next(i),n),()=>Rn(r,e,()=>r.complete(),n),i=>Rn(r,e,()=>r.error(i),n)))})}function kp(e,n=0){return Ue((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function Fp(e,n){if(!e)throw new Error("Iterable cannot be null");return new Le(t=>{Rn(t,n,()=>{const r=e[Symbol.asyncIterator]();Rn(t,n,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function We(e,n){return n?function oI(e,n){if(null!=e){if(Ip(e))return function eI(e,n){return xt(e).pipe(kp(n),Pp(n))}(e,n);if(bp(e))return function nI(e,n){return new Le(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}(e,n);if(Ep(e))return function tI(e,n){return xt(e).pipe(kp(n),Pp(n))}(e,n);if(Sp(e))return Fp(e,n);if(Tp(e))return function rI(e,n){return new Le(t=>{let r;return Rn(t,n,()=>{r=e[Ap](),Rn(t,n,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void t.error(s)}o?t.complete():t.next(i)},0,!0)}),()=>N(r?.return)&&r.return()})}(e,n);if(Op(e))return function iI(e,n){return Fp(xp(e),n)}(e,n)}throw Mp(e)}(e,n):xt(e)}class Ut extends Jt{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){const{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}function H(...e){return We(e,co(e))}function Lp(e={}){const{connector:n=(()=>new Jt),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return o=>{let s,a,u,l=0,c=!1,d=!1;const f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),s=u=void 0,c=d=!1},p=()=>{const g=s;h(),g?.unsubscribe()};return Ue((g,y)=>{l++,!d&&!c&&f();const C=u=u??n();y.add(()=>{l--,0===l&&!d&&!c&&(a=Rl(p,i))}),C.subscribe(y),!s&&l>0&&(s=new fn({next:v=>C.next(v),error:v=>{d=!0,f(),a=Rl(h,t,v),C.error(v)},complete:()=>{c=!0,f(),a=Rl(h,r),C.complete()}}),xt(g).subscribe(s))})(o)}}function Rl(e,n,...t){if(!0===n)return void e();if(!1===n)return;const r=new fn({next:()=>{r.unsubscribe(),e()}});return xt(n(...t)).subscribe(r)}function pn(e,n){return Ue((t,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();t.subscribe(je(r,u=>{i?.unsubscribe();let l=0;const c=o++;xt(e(u,c)).subscribe(i=je(r,d=>r.next(n?n(u,d,c,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function uI(e,n){return e===n}function de(e){for(let n in e)if(e[n]===de)return n;throw Error("Could not find renamed property on target object.")}function Zs(e,n){for(const t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function Be(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Be).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const t=n.indexOf("\n");return-1===t?n:n.substring(0,t)}function Pl(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const lI=de({__forward_ref__:de});function ye(e){return e.__forward_ref__=ye,e.toString=function(){return Be(this())},e}function $(e){return kl(e)?e():e}function kl(e){return"function"==typeof e&&e.hasOwnProperty(lI)&&e.__forward_ref__===ye}function Fl(e){return e&&!!e.\u0275providers}class b extends Error{constructor(n,t){super(function Ys(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}(n,t)),this.code=n}}function z(e){return"string"==typeof e?e:null==e?"":String(e)}function Ll(e,n){throw new b(-201,!1)}function Bt(e,n){null==e&&function j(e,n,t,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${t} ${r} ${n} <=Actual]`))}(n,e,null,"!=")}function R(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Xt(e){return{providers:e.providers||[],imports:e.imports||[]}}function Qs(e){return Vp(e,Js)||Vp(e,$p)}function Vp(e,n){return e.hasOwnProperty(n)?e[n]:null}function Ks(e){return e&&(e.hasOwnProperty(jl)||e.hasOwnProperty(vI))?e[jl]:null}const Js=de({\u0275prov:de}),jl=de({\u0275inj:de}),$p=de({ngInjectableDef:de}),vI=de({ngInjectorDef:de});var K=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(K||{});let Vl;function wt(e){const n=Vl;return Vl=e,n}function Bp(e,n,t){const r=Qs(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&K.Optional?null:void 0!==n?n:void Ll(Be(e))}const _e=globalThis;class x{constructor(n,t){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=R({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const fo={},zl="__NG_DI_FLAG__",Xs="ngTempTokenPath",DI=/\n/gm,zp="__source";let Yr;function er(e){const n=Yr;return Yr=e,n}function bI(e,n=K.Default){if(void 0===Yr)throw new b(-203,!1);return null===Yr?Bp(e,void 0,n):Yr.get(e,n&K.Optional?null:void 0,n)}function P(e,n=K.Default){return(function Up(){return Vl}()||bI)($(e),n)}function M(e,n=K.Default){return P(e,ea(n))}function ea(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Gl(e){const n=[];for(let t=0;t<e.length;t++){const r=$(e[t]);if(Array.isArray(r)){if(0===r.length)throw new b(900,!1);let i,o=K.Default;for(let s=0;s<r.length;s++){const a=r[s],u=EI(a);"number"==typeof u?-1===u?i=a.token:o|=u:i=a}n.push(P(i,o))}else n.push(P(r))}return n}function ho(e,n){return e[zl]=n,e.prototype[zl]=n,e}function EI(e){return e[zl]}function Pn(e){return{toString:e}.toString()}var ta=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(ta||{}),en=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(en||{});const gn={},re=[],na=de({\u0275cmp:de}),ql=de({\u0275dir:de}),Wl=de({\u0275pipe:de}),qp=de({\u0275mod:de}),kn=de({\u0275fac:de}),po=de({__NG_ELEMENT_ID__:de}),Wp=de({__NG_ENV_ID__:de});function Zp(e,n,t){let r=e.length;for(;;){const i=e.indexOf(n,t);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const o=n.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}t=i+1}}function Zl(e,n,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const o=t[r++],s=t[r++],a=t[r++];e.setAttribute(n,s,a,o)}else{const o=i,s=t[++r];Qp(o)?e.setProperty(n,o,s):e.setAttribute(n,o,s),r++}}return r}function Yp(e){return 3===e||4===e||6===e}function Qp(e){return 64===e.charCodeAt(0)}function go(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){const i=n[r];"number"==typeof i?t=i:0===t||Kp(e,t,i,null,-1===t||2===t?n[++r]:null)}}return e}function Kp(e,n,t,r,i){let o=0,s=e.length;if(-1===n)s=-1;else for(;o<e.length;){const a=e[o++];if("number"==typeof a){if(a===n){s=-1;break}if(a>n){s=o-1;break}}}for(;o<e.length;){const a=e[o];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(e.splice(s,0,n),o=s+1),e.splice(o++,0,t),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}const Jp="ng-template";function MI(e,n,t){let r=0,i=!0;for(;r<e.length;){let o=e[r++];if("string"==typeof o&&i){const s=e[r++];if(t&&"class"===o&&-1!==Zp(s.toLowerCase(),n,0))return!0}else{if(1===o){for(;r<e.length&&"string"==typeof(o=e[r++]);)if(o.toLowerCase()===n)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function Xp(e){return 4===e.type&&e.value!==Jp}function AI(e,n,t){return n===(4!==e.type||t?e.value:Jp)}function TI(e,n,t){let r=4;const i=e.attrs||[],o=function NI(e){for(let n=0;n<e.length;n++)if(Yp(e[n]))return n;return e.length}(i);let s=!1;for(let a=0;a<n.length;a++){const u=n[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!AI(e,u,t)||""===u&&1===n.length){if(tn(r))return!1;s=!0}}else{const l=8&r?u:n[++a];if(8&r&&null!==e.attrs){if(!MI(e.attrs,l,t)){if(tn(r))return!1;s=!0}continue}const d=xI(8&r?"class":u,i,Xp(e),t);if(-1===d){if(tn(r))return!1;s=!0;continue}if(""!==l){let f;f=d>o?"":i[d+1].toLowerCase();const h=8&r?f:null;if(h&&-1!==Zp(h,l,0)||2&r&&l!==f){if(tn(r))return!1;s=!0}}}}else{if(!s&&!tn(r)&&!tn(u))return!1;if(s&&tn(u))continue;s=!1,r=u|1&r}}return tn(r)||s}function tn(e){return 0==(1&e)}function xI(e,n,t,r){if(null===n)return-1;let i=0;if(r||!t){let o=!1;for(;i<n.length;){const s=n[i];if(s===e)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=n[++i];for(;"string"==typeof a;)a=n[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function RI(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){const r=e[t];if("number"==typeof r)return-1;if(r===n)return t;t++}return-1}(n,e)}function eg(e,n,t=!1){for(let r=0;r<n.length;r++)if(TI(e,n[r],t))return!0;return!1}function tg(e,n){return e?":not("+n.trim()+")":n}function kI(e){let n=e[0],t=1,r=2,i="",o=!1;for(;t<e.length;){let s=e[t];if("string"==typeof s)if(2&r){const a=e[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!tn(s)&&(n+=tg(o,i),i=""),r=s,o=o||!tn(r);t++}return""!==i&&(n+=tg(o,i)),n}function mo(e){return Pn(()=>{const n=rg(e),t={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===ta.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||en.Emulated,styles:e.styles||re,_:null,schemas:e.schemas||null,tView:null,id:""};ig(t);const r=e.dependencies;return t.directiveDefs=ra(r,!1),t.pipeDefs=ra(r,!0),t.id=function HI(e){let n=0;const t=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const i of t)n=Math.imul(31,n)+i.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(t),t})}function VI(e){return te(e)||Je(e)}function $I(e){return null!==e}function mn(e){return Pn(()=>({type:e.type,bootstrap:e.bootstrap||re,declarations:e.declarations||re,imports:e.imports||re,exports:e.exports||re,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function ng(e,n){if(null==e)return gn;const t={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),t[i]=r,n&&(n[i]=o)}return t}function U(e){return Pn(()=>{const n=rg(e);return ig(n),n})}function te(e){return e[na]||null}function Je(e){return e[ql]||null}function ct(e){return e[Wl]||null}function Nt(e,n){const t=e[qp]||null;if(!t&&!0===n)throw new Error(`Type ${Be(e)} does not have '\u0275mod' property.`);return t}function rg(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||gn,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||re,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ng(e.inputs,n),outputs:ng(e.outputs)}}function ig(e){e.features?.forEach(n=>n(e))}function ra(e,n){if(!e)return null;const t=n?ct:VI;return()=>("function"==typeof e?e():e).map(r=>t(r)).filter($I)}const Oe=0,S=1,W=2,Se=3,nn=4,vo=5,ot=6,Kr=7,Pe=8,tr=9,Jr=10,G=11,yo=12,og=13,Xr=14,ke=15,_o=16,ei=17,vn=18,Do=19,sg=20,nr=21,Fn=22,wo=23,Co=24,J=25,Yl=1,ag=2,yn=7,ti=9,Xe=11;function bt(e){return Array.isArray(e)&&"object"==typeof e[Yl]}function dt(e){return Array.isArray(e)&&!0===e[Yl]}function Ql(e){return 0!=(4&e.flags)}function Ir(e){return e.componentOffset>-1}function oa(e){return 1==(1&e.flags)}function rn(e){return!!e.template}function Kl(e){return 0!=(512&e[W])}function Sr(e,n){return e.hasOwnProperty(kn)?e[kn]:null}let et=null,sa=!1;function Ht(e){const n=et;return et=e,n}const cg={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function fg(e){if(!Eo(e)||e.dirty){if(!e.producerMustRecompute(e)&&!gg(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function pg(e){e.dirty=!0,function hg(e){if(void 0===e.liveConsumerNode)return;const n=sa;sa=!0;try{for(const t of e.liveConsumerNode)t.dirty||pg(t)}finally{sa=n}}(e),e.consumerMarkedDirty?.(e)}function Xl(e){return e&&(e.nextProducerIndex=0),Ht(e)}function ec(e,n){if(Ht(n),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Eo(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)aa(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function gg(e){ni(e);for(let n=0;n<e.producerNode.length;n++){const t=e.producerNode[n],r=e.producerLastReadVersion[n];if(r!==t.version||(fg(t),r!==t.version))return!0}return!1}function mg(e){if(ni(e),Eo(e))for(let n=0;n<e.producerNode.length;n++)aa(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function aa(e,n){if(function yg(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),ni(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)aa(e.producerNode[r],e.producerIndexOfThis[r]);const t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[n],i=e.liveConsumerNode[n];ni(i),i.producerIndexOfThis[r]=n}}function Eo(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function ni(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let _g=null;const bg=()=>{},nS=(()=>({...cg,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:bg}))();class rS{constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function zt(){return Eg}function Eg(e){return e.type.prototype.ngOnChanges&&(e.setInput=oS),iS}function iS(){const e=Sg(this),n=e?.current;if(n){const t=e.previous;if(t===gn)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function oS(e,n,t,r){const i=this.declaredInputs[t],o=Sg(e)||function sS(e,n){return e[Ig]=n}(e,{previous:gn,current:null}),s=o.current||(o.current={}),a=o.previous,u=a[i];s[i]=new rS(u&&u.currentValue,n,a===gn),e[r]=n}zt.ngInherit=!0;const Ig="__ngSimpleChanges__";function Sg(e){return e[Ig]||null}const _n=function(e,n,t){};function De(e){for(;Array.isArray(e);)e=e[Oe];return e}function ua(e,n){return De(n[e])}function Et(e,n){return De(n[e.index])}function Tg(e,n){return e.data[n]}function Rt(e,n){const t=n[e];return bt(t)?t:t[Oe]}function ir(e,n){return null==n?null:e[n]}function xg(e){e[ei]=0}function fS(e){1024&e[W]||(e[W]|=1024,Ng(e,1))}function Og(e){1024&e[W]&&(e[W]&=-1025,Ng(e,-1))}function Ng(e,n){let t=e[Se];if(null===t)return;t[vo]+=n;let r=t;for(t=t[Se];null!==t&&(1===n&&1===r[vo]||-1===n&&0===r[vo]);)t[vo]+=n,r=t,t=t[Se]}const V={lFrame:Hg(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function kg(){return V.bindingsEnabled}function w(){return V.lFrame.lView}function ne(){return V.lFrame.tView}function Io(e){return V.lFrame.contextLView=e,e[Pe]}function So(e){return V.lFrame.contextLView=null,e}function tt(){let e=Fg();for(;null!==e&&64===e.type;)e=e.parent;return e}function Fg(){return V.lFrame.currentTNode}function Dn(e,n){const t=V.lFrame;t.currentTNode=e,t.isParent=n}function oc(){return V.lFrame.isParent}function sc(){V.lFrame.isParent=!1}function oi(){return V.lFrame.bindingIndex++}function ES(e,n){const t=V.lFrame;t.bindingIndex=t.bindingRootIndex=e,ac(n)}function ac(e){V.lFrame.currentDirectiveIndex=e}function lc(e){V.lFrame.currentQueryIndex=e}function SS(e){const n=e[S];return 2===n.type?n.declTNode:1===n.type?e[ot]:null}function Ug(e,n,t){if(t&K.SkipSelf){let i=n,o=e;for(;!(i=i.parent,null!==i||t&K.Host||(i=SS(o),null===i||(o=o[Xr],10&i.type))););if(null===i)return!1;n=i,e=o}const r=V.lFrame=Bg();return r.currentTNode=n,r.lView=e,!0}function cc(e){const n=Bg(),t=e[S];V.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function Bg(){const e=V.lFrame,n=null===e?null:e.child;return null===n?Hg(e):n}function Hg(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function zg(){const e=V.lFrame;return V.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Gg=zg;function dc(){const e=zg();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function ht(){return V.lFrame.selectedIndex}function Mr(e){V.lFrame.selectedIndex=e}function Ae(){const e=V.lFrame;return Tg(e.tView,e.selectedIndex)}let Wg=!0;function la(){return Wg}function or(e){Wg=e}function ca(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){const o=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:c}=o;s&&(e.contentHooks??=[]).push(-t,s),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),u&&(e.viewHooks??=[]).push(-t,u),l&&((e.viewHooks??=[]).push(t,l),(e.viewCheckHooks??=[]).push(t,l)),null!=c&&(e.destroyHooks??=[]).push(t,c)}}function da(e,n,t){Zg(e,n,3,t)}function fa(e,n,t,r){(3&e[W])===t&&Zg(e,n,t,r)}function fc(e,n){let t=e[W];(3&t)===n&&(t&=8191,t+=1,e[W]=t)}function Zg(e,n,t,r){const o=r??-1,s=n.length-1;let a=0;for(let u=void 0!==r?65535&e[ei]:0;u<s;u++)if("number"==typeof n[u+1]){if(a=n[u],null!=r&&a>=r)break}else n[u]<0&&(e[ei]+=65536),(a<o||-1==o)&&(PS(e,t,n,u),e[ei]=(4294901760&e[ei])+u+2),u++}function Yg(e,n){_n(4,e,n);const t=Ht(null);try{n.call(e)}finally{Ht(t),_n(5,e,n)}}function PS(e,n,t,r){const i=t[r]<0,o=t[r+1],a=e[i?-t[r]:t[r]];i?e[W]>>13<e[ei]>>16&&(3&e[W])===n&&(e[W]+=8192,Yg(a,o)):Yg(a,o)}const si=-1;class Ao{constructor(n,t,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function pc(e){return e!==si}function To(e){return 32767&e}function xo(e,n){let t=function jS(e){return e>>16}(e),r=n;for(;t>0;)r=r[Xr],t--;return r}let gc=!0;function ha(e){const n=gc;return gc=e,n}const Qg=255,Kg=5;let VS=0;const wn={};function pa(e,n){const t=Jg(e,n);if(-1!==t)return t;const r=n[S];r.firstCreatePass&&(e.injectorIndex=n.length,mc(r.data,e),mc(n,null),mc(r.blueprint,null));const i=ga(e,n),o=e.injectorIndex;if(pc(i)){const s=To(i),a=xo(i,n),u=a[S].data;for(let l=0;l<8;l++)n[o+l]=a[s+l]|u[s+l]}return n[o+8]=i,o}function mc(e,n){e.push(0,0,0,0,0,0,0,0,n)}function Jg(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function ga(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let t=0,r=null,i=n;for(;null!==i;){if(r=om(i),null===r)return si;if(t++,i=i[Xr],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return si}function vc(e,n,t){!function $S(e,n,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(po)&&(r=t[po]),null==r&&(r=t[po]=VS++);const i=r&Qg;n.data[e+(i>>Kg)]|=1<<i}(e,n,t)}function Xg(e,n,t){if(t&K.Optional||void 0!==e)return e;Ll()}function em(e,n,t,r){if(t&K.Optional&&void 0===r&&(r=null),!(t&(K.Self|K.Host))){const i=e[tr],o=wt(void 0);try{return i?i.get(n,r,t&K.Optional):Bp(n,r,t&K.Optional)}finally{wt(o)}}return Xg(r,0,t)}function tm(e,n,t,r=K.Default,i){if(null!==e){if(2048&n[W]&&!(r&K.Self)){const s=function qS(e,n,t,r,i){let o=e,s=n;for(;null!==o&&null!==s&&2048&s[W]&&!(512&s[W]);){const a=nm(o,s,t,r|K.Self,wn);if(a!==wn)return a;let u=o.parent;if(!u){const l=s[sg];if(l){const c=l.get(t,wn,r);if(c!==wn)return c}u=om(s),s=s[Xr]}o=u}return i}(e,n,t,r,wn);if(s!==wn)return s}const o=nm(e,n,t,r,wn);if(o!==wn)return o}return em(n,t,r,i)}function nm(e,n,t,r,i){const o=function HS(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(po)?e[po]:void 0;return"number"==typeof n?n>=0?n&Qg:GS:n}(t);if("function"==typeof o){if(!Ug(n,e,r))return r&K.Host?Xg(i,0,r):em(n,t,r,i);try{let s;if(s=o(r),null!=s||r&K.Optional)return s;Ll()}finally{Gg()}}else if("number"==typeof o){let s=null,a=Jg(e,n),u=si,l=r&K.Host?n[ke][ot]:null;for((-1===a||r&K.SkipSelf)&&(u=-1===a?ga(e,n):n[a+8],u!==si&&im(r,!1)?(s=n[S],a=To(u),n=xo(u,n)):a=-1);-1!==a;){const c=n[S];if(rm(o,a,c.data)){const d=BS(a,n,t,s,r,l);if(d!==wn)return d}u=n[a+8],u!==si&&im(r,n[S].data[a+8]===l)&&rm(o,a,n)?(s=c,a=To(u),n=xo(u,n)):a=-1}}return i}function BS(e,n,t,r,i,o){const s=n[S],a=s.data[e+8],c=function ma(e,n,t,r,i){const o=e.providerIndexes,s=n.data,a=1048575&o,u=e.directiveStart,c=o>>20,f=i?a+c:e.directiveEnd;for(let h=r?a:a+c;h<f;h++){const p=s[h];if(h<u&&t===p||h>=u&&p.type===t)return h}if(i){const h=s[u];if(h&&rn(h)&&h.type===t)return u}return null}(a,s,t,null==r?Ir(a)&&gc:r!=s&&0!=(3&a.type),i&K.Host&&o===a);return null!==c?Ar(n,s,c,a):wn}function Ar(e,n,t,r){let i=e[t];const o=n.data;if(function kS(e){return e instanceof Ao}(i)){const s=i;s.resolving&&function cI(e,n){const t=n?`. Dependency path: ${n.join(" > ")} > ${e}`:"";throw new b(-200,`Circular dependency in DI detected for ${e}${t}`)}(function ae(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():z(e)}(o[t]));const a=ha(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?wt(s.injectImpl):null;Ug(e,r,K.Default);try{i=e[t]=s.factory(void 0,o,e,r),n.firstCreatePass&&t>=r.directiveStart&&function RS(e,n,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=n.type.prototype;if(r){const s=Eg(n);(t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s)}i&&(t.preOrderHooks??=[]).push(0-e,i),o&&((t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o))}(t,o[t],n)}finally{null!==l&&wt(l),ha(a),s.resolving=!1,Gg()}}return i}function rm(e,n,t){return!!(t[n+(e>>Kg)]&1<<e)}function im(e,n){return!(e&K.Self||e&K.Host&&n)}class pt{constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return tm(this._tNode,this._lView,n,ea(r),t)}}function GS(){return new pt(tt(),w())}function nt(e){return Pn(()=>{const n=e.prototype.constructor,t=n[kn]||yc(n),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const o=i[kn]||yc(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function yc(e){return kl(e)?()=>{const n=yc($(e));return n&&n()}:Sr(e)}function om(e){const n=e[S],t=n.type;return 2===t?n.declTNode:1===t?e[ot]:null}const ui="__parameters__";function ci(e,n,t){return Pn(()=>{const r=function _c(e){return function(...t){if(e){const r=e(...t);for(const i in r)this[i]=r[i]}}}(n);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(u,l,c){const d=u.hasOwnProperty(ui)?u[ui]:Object.defineProperty(u,ui,{value:[]})[ui];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(s),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function fi(e,n){e.forEach(t=>Array.isArray(t)?fi(t,n):n(t))}function am(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function ya(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function Pt(e,n,t){let r=hi(e,n);return r>=0?e[1|r]=t:(r=~r,function XS(e,n,t,r){let i=e.length;if(i==n)e.push(t,r);else if(1===i)e.push(r,e[0]),e[0]=t;else{for(i--,e.push(e[i-1],e[i]);i>n;)e[i]=e[i-2],i--;e[n]=t,e[n+1]=r}}(e,r,n,t)),r}function Dc(e,n){const t=hi(e,n);if(t>=0)return e[1|t]}function hi(e,n){return function um(e,n,t){let r=0,i=e.length>>t;for(;i!==r;){const o=r+(i-r>>1),s=e[o<<t];if(n===s)return o<<t;s>n?i=o:r=o+1}return~(i<<t)}(e,n,1)}const Da=ho(ci("Optional"),8),wa=ho(ci("SkipSelf"),4);function Sa(e){return 128==(128&e.flags)}var sr=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(sr||{});const DM=/^>|^->|<!--|-->|--!>|<!-$/g,wM=/(<|>)/g,CM="\u200b$1\u200b";const Ic=new Map;let bM=0;const Mc="__ngContext__";function st(e,n){bt(n)?(e[Mc]=n[Do],function IM(e){Ic.set(e[Do],e)}(n)):e[Mc]=n}let Ac;function Tc(e,n){return Ac(e,n)}function Fo(e){const n=e[Se];return dt(n)?n[Se]:n}function Am(e){return xm(e[yo])}function Tm(e){return xm(e[nn])}function xm(e){for(;null!==e&&!dt(e);)e=e[nn];return e}function mi(e,n,t,r,i){if(null!=r){let o,s=!1;dt(r)?o=r:bt(r)&&(s=!0,r=r[Oe]);const a=De(r);0===e&&null!==t?null==i?Pm(n,t,a):Tr(n,t,a,i||null,!0):1===e&&null!==t?Tr(n,t,a,i||null,!0):2===e?function Ra(e,n,t){const r=Oa(e,n);r&&function zM(e,n,t,r){e.removeChild(n,t,r)}(e,r,n,t)}(n,a,s):3===e&&n.destroyNode(a),null!=o&&function WM(e,n,t,r,i){const o=t[yn];o!==De(t)&&mi(n,e,r,o,i);for(let a=Xe;a<t.length;a++){const u=t[a];jo(u[S],u,e,n,r,o)}}(n,e,o,t,i)}}function xc(e,n){return e.createComment(function Dm(e){return e.replace(DM,n=>n.replace(wM,CM))}(n))}function Ta(e,n,t){return e.createElement(n,t)}function Nm(e,n){const t=e[ti],r=t.indexOf(n);Og(n),t.splice(r,1)}function xa(e,n){if(e.length<=Xe)return;const t=Xe+n,r=e[t];if(r){const i=r[_o];null!==i&&i!==e&&Nm(i,r),n>0&&(e[t-1][nn]=r[nn]);const o=ya(e,Xe+n);!function FM(e,n){jo(e,n,n[G],2,null,null),n[Oe]=null,n[ot]=null}(r[S],r);const s=o[vn];null!==s&&s.detachView(o[S]),r[Se]=null,r[nn]=null,r[W]&=-129}return r}function Oc(e,n){if(!(256&n[W])){const t=n[G];n[wo]&&mg(n[wo]),n[Co]&&mg(n[Co]),t.destroyNode&&jo(e,n,t,3,null,null),function VM(e){let n=e[yo];if(!n)return Nc(e[S],e);for(;n;){let t=null;if(bt(n))t=n[yo];else{const r=n[Xe];r&&(t=r)}if(!t){for(;n&&!n[nn]&&n!==e;)bt(n)&&Nc(n[S],n),n=n[Se];null===n&&(n=e),bt(n)&&Nc(n[S],n),t=n&&n[nn]}n=t}}(n)}}function Nc(e,n){if(!(256&n[W])){n[W]&=-129,n[W]|=256,function HM(e,n){let t;if(null!=e&&null!=(t=e.destroyHooks))for(let r=0;r<t.length;r+=2){const i=n[t[r]];if(!(i instanceof Ao)){const o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],u=o[s+1];_n(4,a,u);try{u.call(a)}finally{_n(5,a,u)}}else{_n(4,i,o);try{o.call(i)}finally{_n(5,i,o)}}}}}(e,n),function BM(e,n){const t=e.cleanup,r=n[Kr];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else t[o].call(r[t[o+1]]);null!==r&&(n[Kr]=null);const i=n[nr];if(null!==i){n[nr]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(e,n),1===n[S].type&&n[G].destroy();const t=n[_o];if(null!==t&&dt(n[Se])){t!==n[Se]&&Nm(t,n);const r=n[vn];null!==r&&r.detachView(e)}!function SM(e){Ic.delete(e[Do])}(n)}}function Rc(e,n,t){return function Rm(e,n,t){let r=n;for(;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return t[Oe];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=e.data[r.directiveStart+i];if(o===en.None||o===en.Emulated)return null}return Et(r,t)}}(e,n.parent,t)}function Tr(e,n,t,r,i){e.insertBefore(n,t,r,i)}function Pm(e,n,t){e.appendChild(n,t)}function km(e,n,t,r,i){null!==r?Tr(e,n,t,r,i):Pm(e,n,t)}function Oa(e,n){return e.parentNode(n)}let Pc,jc,jm=function Lm(e,n,t){return 40&e.type?Et(e,t):null};function Na(e,n,t,r){const i=Rc(e,r,n),o=n[G],a=function Fm(e,n,t){return jm(e,n,t)}(r.parent||n[ot],r,n);if(null!=i)if(Array.isArray(t))for(let u=0;u<t.length;u++)km(o,i,t[u],a,!1);else km(o,i,t,a,!1);void 0!==Pc&&Pc(o,r,n,t,i)}function Lo(e,n){if(null!==n){const t=n.type;if(3&t)return Et(n,e);if(4&t)return kc(-1,e[n.index]);if(8&t){const r=n.child;if(null!==r)return Lo(e,r);{const i=e[n.index];return dt(i)?kc(-1,i):De(i)}}if(32&t)return Tc(n,e)()||De(e[n.index]);{const r=$m(e,n);return null!==r?Array.isArray(r)?r[0]:Lo(Fo(e[ke]),r):Lo(e,n.next)}}return null}function $m(e,n){return null!==n?e[ke][ot].projection[n.projection]:null}function kc(e,n){const t=Xe+e+1;if(t<n.length){const r=n[t],i=r[S].firstChild;if(null!==i)return Lo(r,i)}return n[yn]}function Fc(e,n,t,r,i,o,s){for(;null!=t;){const a=r[t.index],u=t.type;if(s&&0===n&&(a&&st(De(a),r),t.flags|=2),32!=(32&t.flags))if(8&u)Fc(e,n,t.child,r,i,o,!1),mi(n,e,i,a,o);else if(32&u){const l=Tc(t,r);let c;for(;c=l();)mi(n,e,i,c,o);mi(n,e,i,a,o)}else 16&u?Bm(e,n,r,t,i,o):mi(n,e,i,a,o);t=s?t.projectionNext:t.next}}function jo(e,n,t,r,i,o){Fc(t,r,e.firstChild,n,i,o,!1)}function Bm(e,n,t,r,i,o){const s=t[ke],u=s[ot].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++)mi(n,e,i,u[l],o);else{let l=u;const c=s[Se];Sa(r)&&(l.flags|=128),Fc(e,n,l,c,i,o,!0)}}function Hm(e,n,t){""===t?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function zm(e,n,t){const{mergedAttrs:r,classes:i,styles:o}=t;null!==r&&Zl(e,n,r),null!==i&&Hm(e,n,i),null!==o&&function YM(e,n,t){e.setAttribute(n,"style",t)}(e,n,o)}class Zm{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const Bo=new x("ENVIRONMENT_INITIALIZER"),iv=new x("INJECTOR",-1),ov=new x("INJECTOR_DEF_TYPES");class zc{get(n,t=fo){if(t===fo){const r=new Error(`NullInjectorError: No provider for ${Be(n)}!`);throw r.name="NullInjectorError",r}return t}}function CA(...e){return{\u0275providers:av(0,e),\u0275fromNgModule:!0}}function av(e,...n){const t=[],r=new Set;let i;const o=s=>{t.push(s)};return fi(n,s=>{const a=s;La(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&uv(i,o),t}function uv(e,n){for(let t=0;t<e.length;t++){const{ngModule:r,providers:i}=e[t];Gc(i,o=>{n(o,r)})}}function La(e,n,t,r){if(!(e=$(e)))return!1;let i=null,o=Ks(e);const s=!o&&te(e);if(o||s){if(s&&!s.standalone)return!1;i=e}else{const u=e.ngModule;if(o=Ks(u),!o)return!1;i=u}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const u="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of u)La(l,n,t,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let l;r.add(i);try{fi(o.imports,c=>{La(c,n,t,r)&&(l||=[],l.push(c))})}finally{}void 0!==l&&uv(l,n)}if(!a){const l=Sr(i)||(()=>new i);n({provide:i,useFactory:l,deps:re},i),n({provide:ov,useValue:i,multi:!0},i),n({provide:Bo,useValue:()=>P(i),multi:!0},i)}const u=o.providers;if(null!=u&&!a){const l=e;Gc(u,c=>{n(c,l)})}}}return i!==e&&void 0!==e.providers}function Gc(e,n){for(let t of e)Fl(t)&&(t=t.\u0275providers),Array.isArray(t)?Gc(t,n):n(t)}const bA=de({provide:String,useValue:de});function qc(e){return null!==e&&"object"==typeof e&&bA in e}function xr(e){return"function"==typeof e}const Wc=new x("Set Injector scope."),ja={},IA={};let Zc;function Va(){return void 0===Zc&&(Zc=new zc),Zc}class qt{}class Di extends qt{get destroyed(){return this._destroyed}constructor(n,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Qc(n,s=>this.processProvider(s)),this.records.set(iv,wi(void 0,this)),i.has("environment")&&this.records.set(qt,wi(void 0,this));const o=this.records.get(Wc);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(ov.multi,re,K.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of n)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const t=er(this),r=wt(void 0);try{return n()}finally{er(t),wt(r)}}get(n,t=fo,r=K.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Wp))return n[Wp](this);r=ea(r);const o=er(this),s=wt(void 0);try{if(!(r&K.SkipSelf)){let u=this.records.get(n);if(void 0===u){const l=function xA(e){return"function"==typeof e||"object"==typeof e&&e instanceof x}(n)&&Qs(n);u=l&&this.injectableDefInScope(l)?wi(Yc(n),ja):null,this.records.set(n,u)}if(null!=u)return this.hydrate(n,u)}return(r&K.Self?Va():this.parent).get(n,t=r&K.Optional&&t===fo?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[Xs]=a[Xs]||[]).unshift(Be(n)),o)throw a;return function II(e,n,t,r){const i=e[Xs];throw n[zp]&&i.unshift(n[zp]),e.message=function SI(e,n,t,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=Be(n);if(Array.isArray(n))i=n.map(Be).join(" -> ");else if("object"==typeof n){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Be(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${e.replace(DI,"\n  ")}`}("\n"+e.message,i,t,r),e.ngTokenPath=i,e[Xs]=null,e}(a,n,"R3InjectorError",this.source)}throw a}finally{wt(s),er(o)}}resolveInjectorInitializers(){const n=er(this),t=wt(void 0);try{const i=this.get(Bo.multi,re,K.Self);for(const o of i)o()}finally{er(n),wt(t)}}toString(){const n=[],t=this.records;for(const r of t.keys())n.push(Be(r));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new b(205,!1)}processProvider(n){let t=xr(n=$(n))?n:$(n&&n.provide);const r=function MA(e){return qc(e)?wi(void 0,e.useValue):wi(dv(e),ja)}(n);if(xr(n)||!0!==n.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=wi(void 0,ja,!0),i.factory=()=>Gl(i.multi),this.records.set(t,i)),t=n,i.multi.push(n)}this.records.set(t,r)}hydrate(n,t){return t.value===ja&&(t.value=IA,t.value=t.factory()),"object"==typeof t.value&&t.value&&function TA(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(n){if(!n.providedIn)return!1;const t=$(n.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){const t=this._onDestroyHooks.indexOf(n);-1!==t&&this._onDestroyHooks.splice(t,1)}}function Yc(e){const n=Qs(e),t=null!==n?n.factory:Sr(e);if(null!==t)return t;if(e instanceof x)throw new b(204,!1);if(e instanceof Function)return function SA(e){const n=e.length;if(n>0)throw function Ro(e,n){const t=[];for(let r=0;r<e;r++)t.push(n);return t}(n,"?"),new b(204,!1);const t=function mI(e){return e&&(e[Js]||e[$p])||null}(e);return null!==t?()=>t.factory(e):()=>new e}(e);throw new b(204,!1)}function dv(e,n,t){let r;if(xr(e)){const i=$(e);return Sr(i)||Yc(i)}if(qc(e))r=()=>$(e.useValue);else if(function cv(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Gl(e.deps||[]));else if(function lv(e){return!(!e||!e.useExisting)}(e))r=()=>P($(e.useExisting));else{const i=$(e&&(e.useClass||e.provide));if(!function AA(e){return!!e.deps}(e))return Sr(i)||Yc(i);r=()=>new i(...Gl(e.deps))}return r}function wi(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function Qc(e,n){for(const t of e)Array.isArray(t)?Qc(t,n):t&&Fl(t)?Qc(t.\u0275providers,n):n(t)}const $a=new x("AppId",{providedIn:"root",factory:()=>OA}),OA="ng",fv=new x("Platform Initializer"),Ci=new x("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),hv=new x("CSP nonce",{providedIn:"root",factory:()=>function yi(){if(void 0!==jc)return jc;if(typeof document<"u")return document;throw new b(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let pv=(e,n,t)=>null;function id(e,n,t=!1){return pv(e,n,t)}class UA{}class vv{}class HA{resolveComponentFactory(n){throw function BA(e){const n=Error(`No component factory found for ${Be(e)}.`);return n.ngComponent=e,n}(n)}}let qa=(()=>{class e{static{this.NULL=new HA}}return e})();function zA(){return Ii(tt(),w())}function Ii(e,n){return new kt(Et(e,n))}let kt=(()=>{class e{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=zA}}return e})();class _v{}let $n=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function qA(){const e=w(),t=Rt(tt().index,e);return(bt(t)?t:e)[G]}()}}return e})(),WA=(()=>{class e{static{this.\u0275prov=R({token:e,providedIn:"root",factory:()=>null})}}return e})();class Go{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const ZA=new Go("16.2.12"),ad={};function bv(e,n=null,t=null,r){const i=Ev(e,n,t,r);return i.resolveInjectorInitializers(),i}function Ev(e,n=null,t=null,r,i=new Set){const o=[t||re,CA(e)];return r=r||("object"==typeof e?void 0:Be(e)),new Di(o,n||Va(),r||null,i)}let Ft=(()=>{class e{static{this.THROW_IF_NOT_FOUND=fo}static{this.NULL=new zc}static create(t,r){if(Array.isArray(t))return bv({name:""},r,t,"");{const i=t.name??"";return bv({name:i},t.parent,t.providers,i)}}static{this.\u0275prov=R({token:e,providedIn:"any",factory:()=>P(iv)})}static{this.__NG_ELEMENT_ID__=-1}}return e})();function ld(e){return e.ngOriginalError}class Un{constructor(){this._console=console}handleError(n){const t=this._findOriginalError(n);this._console.error("ERROR",n),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(n){let t=n&&ld(n);for(;t&&ld(t);)t=ld(t);return t||null}}function cd(e){return n=>{setTimeout(e,void 0,n)}}const Ne=class nT extends Jt{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,t,r){let i=n,o=t||(()=>null),s=r;if(n&&"object"==typeof n){const u=n;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=cd(o),i&&(i=cd(i)),s&&(s=cd(s)));const a=super.subscribe({next:i,error:o,complete:s});return n instanceof _&&n.add(a),a}};function Sv(...e){}class we{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ne(!1),this.onMicrotaskEmpty=new Ne(!1),this.onStable=new Ne(!1),this.onError=new Ne(!1),typeof Zone>"u")throw new b(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function rT(){const e="function"==typeof _e.requestAnimationFrame;let n=_e[e?"requestAnimationFrame":"setTimeout"],t=_e[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&t){const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function sT(e){const n=()=>{!function oT(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(_e,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,fd(e),e.isCheckStableRunning=!0,dd(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),fd(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{if(function uT(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(i,o,s,a);try{return Mv(e),t.invokeTask(i,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&n(),Av(e)}},onInvoke:(t,r,i,o,s,a,u)=>{try{return Mv(e),t.invoke(i,o,s,a,u)}finally{e.shouldCoalesceRunChangeDetection&&n(),Av(e)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,fd(e),dd(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!we.isInAngularZone())throw new b(909,!1)}static assertNotInAngularZone(){if(we.isInAngularZone())throw new b(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,n,iT,Sv,Sv);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}}const iT={};function dd(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function fd(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Mv(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Av(e){e._nesting--,dd(e)}class aT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ne,this.onMicrotaskEmpty=new Ne,this.onStable=new Ne,this.onError=new Ne}run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,i){return n.apply(t,r)}}const Tv=new x("",{providedIn:"root",factory:xv});function xv(){const e=M(we);let n=!0;return function sI(...e){const n=co(e),t=function X0(e,n){return"number"==typeof Nl(e)?e.pop():n}(e,1/0),r=e;return r.length?1===r.length?xt(r[0]):Zr(t)(We(r,n)):hn}(new Le(i=>{n=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{i.next(n),i.complete()})}),new Le(i=>{let o;e.runOutsideAngular(()=>{o=e.onStable.subscribe(()=>{we.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(n=!0,i.next(!0))})})});const s=e.onUnstable.subscribe(()=>{we.assertInAngularZone(),n&&(n=!1,e.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(Lp()))}function Bn(e){return e instanceof Function?e():e}let hd=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=R({token:e,providedIn:"root",factory:()=>new e})}}return e})();function qo(e){for(;e;){e[W]|=64;const n=Fo(e);if(Kl(e)&&!n)return e;e=n}return null}const kv=new x("",{providedIn:"root",factory:()=>!1});let Ya=null;function Vv(e,n){return e[n]??Bv()}function $v(e,n){const t=Bv();t.producerNode?.length&&(e[n]=Ya,t.lView=e,Ya=Uv())}const yT={...cg,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{qo(e.lView)},lView:null};function Uv(){return Object.create(yT)}function Bv(){return Ya??=Uv(),Ya}const q={};function Te(e){Hv(ne(),w(),ht()+e,!1)}function Hv(e,n,t,r){if(!r)if(3==(3&n[W])){const o=e.preOrderCheckHooks;null!==o&&da(n,o,t)}else{const o=e.preOrderHooks;null!==o&&fa(n,o,0,t)}Mr(t)}function E(e,n=K.Default){const t=w();return null===t?P(e,n):tm(tt(),t,$(e),n)}function Qa(e,n,t,r,i,o,s,a,u,l,c){const d=n.blueprint.slice();return d[Oe]=i,d[W]=140|r,(null!==l||e&&2048&e[W])&&(d[W]|=2048),xg(d),d[Se]=d[Xr]=e,d[Pe]=t,d[Jr]=s||e&&e[Jr],d[G]=a||e&&e[G],d[tr]=u||e&&e[tr]||null,d[ot]=o,d[Do]=function EM(){return bM++}(),d[Fn]=c,d[sg]=l,d[ke]=2==n.type?e[ke]:d,d}function Ai(e,n,t,r,i){let o=e.data[n];if(null===o)o=function pd(e,n,t,r,i){const o=Fg(),s=oc(),u=e.data[n]=function ST(e,n,t,r,i,o){let s=n?n.injectorIndex:-1,a=0;return function ii(){return null!==V.skipHydrationRootTNode}()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,n,r,i);return null===e.firstChild&&(e.firstChild=u),null!==o&&(s?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u,u.prev=o)),u}(e,n,t,r,i),function bS(){return V.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const s=function Mo(){const e=V.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Dn(o,!0),o}function Wo(e,n,t,r){if(0===t)return-1;const i=n.length;for(let o=0;o<t;o++)n.push(r),e.blueprint.push(r),e.data.push(null);return i}function Gv(e,n,t,r,i){const o=Vv(n,wo),s=ht(),a=2&r;try{Mr(-1),a&&n.length>J&&Hv(e,n,J,!1),_n(a?2:0,i);const l=a?o:null,c=Xl(l);try{null!==l&&(l.dirty=!1),t(r,i)}finally{ec(l,c)}}finally{a&&null===n[wo]&&$v(n,wo),Mr(s),_n(a?3:1,i)}}function gd(e,n,t){if(Ql(n)){const r=Ht(null);try{const o=n.directiveEnd;for(let s=n.directiveStart;s<o;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{Ht(r)}}}function md(e,n,t){kg()&&(function RT(e,n,t,r){const i=t.directiveStart,o=t.directiveEnd;Ir(t)&&function $T(e,n,t){const r=Et(n,e),i=qv(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=Ka(e,Qa(e,i,null,s,r,n,null,e[Jr].rendererFactory.createRenderer(r,t),null,null,null));e[n.index]=a}(n,t,e.data[i+t.componentOffset]),e.firstCreatePass||pa(t,n),st(r,n);const s=t.initialInputs;for(let a=i;a<o;a++){const u=e.data[a],l=Ar(n,e,a,t);st(l,n),null!==s&&UT(0,a-i,l,u,0,s),rn(u)&&(Rt(t.index,n)[Pe]=Ar(n,e,a,t))}}(e,n,t,Et(t,n)),64==(64&t.flags)&&Kv(e,n,t))}function vd(e,n,t=Et){const r=n.localNames;if(null!==r){let i=n.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?t(n,e):e[s];e[i++]=a}}}function qv(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=yd(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function yd(e,n,t,r,i,o,s,a,u,l,c){const d=J+r,f=d+i,h=function DT(e,n){const t=[];for(let r=0;r<n;r++)t.push(r<e?null:q);return t}(d,f),p="function"==typeof l?l():l;return h[S]={type:e,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:n,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:c}}let Wv=e=>null;function Zv(e,n,t,r){for(let i in e)if(e.hasOwnProperty(i)){t=null===t?{}:t;const o=e[i];null===r?Yv(t,n,i,o):r.hasOwnProperty(i)&&Yv(t,n,r[i],o)}return t}function Yv(e,n,t,r){e.hasOwnProperty(t)?e[t].push(n,r):e[t]=[n,r]}function _d(e,n,t,r){if(kg()){const i=null===r?null:{"":-1},o=function kT(e,n){const t=e.directiveRegistry;let r=null,i=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(eg(n,s.selectors,!1))if(r||(r=[]),rn(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),Dd(e,n,a.length)}else r.unshift(s),Dd(e,n,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(e,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&Qv(e,n,t,s,i,a),i&&function FT(e,n,t){if(n){const r=e.localNames=[];for(let i=0;i<n.length;i+=2){const o=t[n[i+1]];if(null==o)throw new b(-301,!1);r.push(n[i],o)}}}(t,r,i)}t.mergedAttrs=go(t.mergedAttrs,t.attrs)}function Qv(e,n,t,r,i,o){for(let l=0;l<r.length;l++)vc(pa(t,n),e,r[l].type);!function jT(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}(t,e.data.length,r.length);for(let l=0;l<r.length;l++){const c=r[l];c.providersResolver&&c.providersResolver(c)}let s=!1,a=!1,u=Wo(e,n,r.length,null);for(let l=0;l<r.length;l++){const c=r[l];t.mergedAttrs=go(t.mergedAttrs,c.hostAttrs),VT(e,t,n,u,c),LT(u,c,i),null!==c.contentQueries&&(t.flags|=4),(null!==c.hostBindings||null!==c.hostAttrs||0!==c.hostVars)&&(t.flags|=64);const d=c.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),a=!0),u++}!function MT(e,n,t){const i=n.directiveEnd,o=e.data,s=n.attrs,a=[];let u=null,l=null;for(let c=n.directiveStart;c<i;c++){const d=o[c],f=t?t.get(d):null,p=f?f.outputs:null;u=Zv(d.inputs,c,u,f?f.inputs:null),l=Zv(d.outputs,c,l,p);const g=null===u||null===s||Xp(n)?null:BT(u,c,s);a.push(g)}null!==u&&(u.hasOwnProperty("class")&&(n.flags|=8),u.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=a,n.inputs=u,n.outputs=l}(e,t,o)}function Kv(e,n,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,s=function IS(){return V.lFrame.currentDirectiveIndex}();try{Mr(o);for(let a=r;a<i;a++){const u=e.data[a],l=n[a];ac(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&PT(u,l)}}finally{Mr(-1),ac(s)}}function PT(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function Dd(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function LT(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;rn(n)&&(t[""]=e)}}function VT(e,n,t,r,i){e.data[r]=i;const o=i.factory||(i.factory=Sr(i.type)),s=new Ao(o,rn(i),E);e.blueprint[r]=s,t[r]=s,function OT(e,n,t,r,i){const o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~n.index;(function NT(e){let n=e.length;for(;n>0;){const t=e[--n];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,r,o)}}(e,n,r,Wo(e,t,i.hostVars,q),i)}function Cn(e,n,t,r,i,o){const s=Et(e,n);!function wd(e,n,t,r,i,o,s){if(null==o)e.removeAttribute(n,i,t);else{const a=null==s?z(o):s(o,r||"",i);e.setAttribute(n,i,a,t)}}(n[G],s,o,e.value,t,r,i)}function UT(e,n,t,r,i,o){const s=o[n];if(null!==s)for(let a=0;a<s.length;)Jv(r,t,s[a++],s[a++],s[a++])}function Jv(e,n,t,r,i){const o=Ht(null);try{const s=e.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(n,i)),null!==e.setInput?e.setInput(n,i,t,r):n[r]=i}finally{Ht(o)}}function BT(e,n,t){let r=null,i=0;for(;i<t.length;){const o=t[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(e.hasOwnProperty(o)){null===r&&(r=[]);const s=e[o];for(let a=0;a<s.length;a+=2)if(s[a]===n){r.push(o,s[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function Xv(e,n,t,r){return[e,!0,!1,n,null,0,r,t,null,null,null]}function ey(e,n){const t=e.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const o=t[r+1];if(-1!==o){const s=e.data[o];lc(t[r]),s.contentQueries(2,n[o],o)}}}function Ka(e,n){return e[yo]?e[og][nn]=n:e[yo]=n,e[og]=n,n}function Cd(e,n,t){lc(0);const r=Ht(null);try{n(e,t)}finally{Ht(r)}}function iy(e,n){const t=e[tr],r=t?t.get(Un,null):null;r&&r.handleError(n)}function bd(e,n,t,r,i){for(let o=0;o<t.length;){const s=t[o++],a=t[o++];Jv(e.data[s],n[s],r,a,i)}}function HT(e,n){const t=Rt(n,e),r=t[S];!function zT(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}(r,t);const i=t[Oe];null!==i&&null===t[Fn]&&(t[Fn]=id(i,t[tr])),Ed(r,t,t[Pe])}function Ed(e,n,t){cc(n);try{const r=e.viewQuery;null!==r&&Cd(1,r,t);const i=e.template;null!==i&&Gv(e,n,i,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&ey(e,n),e.staticViewQueries&&Cd(2,e.viewQuery,t);const o=e.components;null!==o&&function GT(e,n){for(let t=0;t<n.length;t++)HT(e,n[t])}(n,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[W]&=-5,dc()}}let oy=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(t,r,i){const o=typeof Zone>"u"?null:Zone.current,s=function tS(e,n,t){const r=Object.create(nS);t&&(r.consumerAllowSignalWrites=!0),r.fn=e,r.schedule=n;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>pg(r),run:()=>{if(r.dirty=!1,r.hasRun&&!gg(r))return;r.hasRun=!0;const s=Xl(r);try{r.cleanupFn(),r.cleanupFn=bg,r.fn(i)}finally{ec(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(t,l=>{this.all.has(l)&&this.queue.set(l,o)},i);let a;this.all.add(s),s.notify();const u=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[t,r]of this.queue)this.queue.delete(t),r?r.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=R({token:e,providedIn:"root",factory:()=>new e})}}return e})();function Ja(e,n,t){let r=t?e.styles:null,i=t?e.classes:null,o=0;if(null!==n)for(let s=0;s<n.length;s++){const a=n[s];"number"==typeof a?o=a:1==o?i=Pl(i,a):2==o&&(r=Pl(r,a+": "+n[++s]+";"))}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=i:e.classesWithoutHost=i}function Zo(e,n,t,r,i=!1){for(;null!==t;){const o=n[t.index];null!==o&&r.push(De(o)),dt(o)&&sy(o,r);const s=t.type;if(8&s)Zo(e,n,t.child,r);else if(32&s){const a=Tc(t,n);let u;for(;u=a();)r.push(u)}else if(16&s){const a=$m(n,t);if(Array.isArray(a))r.push(...a);else{const u=Fo(n[ke]);Zo(u[S],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function sy(e,n){for(let t=Xe;t<e.length;t++){const r=e[t],i=r[S].firstChild;null!==i&&Zo(r[S],r,i,n)}e[yn]!==e[Oe]&&n.push(e[yn])}function Xa(e,n,t,r=!0){const i=n[Jr],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{ay(e,n,e.template,t)}catch(u){throw r&&iy(n,u),u}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function ay(e,n,t,r){const i=n[W];if(256!=(256&i)){n[Jr].effectManager?.flush(),cc(n);try{xg(n),function jg(e){return V.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&Gv(e,n,t,2,r);const s=3==(3&i);if(s){const l=e.preOrderCheckHooks;null!==l&&da(n,l,null)}else{const l=e.preOrderHooks;null!==l&&fa(n,l,0,null),fc(n,0)}if(function ZT(e){for(let n=Am(e);null!==n;n=Tm(n)){if(!n[ag])continue;const t=n[ti];for(let r=0;r<t.length;r++){fS(t[r])}}}(n),uy(n,2),null!==e.contentQueries&&ey(e,n),s){const l=e.contentCheckHooks;null!==l&&da(n,l)}else{const l=e.contentHooks;null!==l&&fa(n,l,1),fc(n,1)}!function _T(e,n){const t=e.hostBindingOpCodes;if(null===t)return;const r=Vv(n,Co);try{for(let i=0;i<t.length;i++){const o=t[i];if(o<0)Mr(~o);else{const s=o,a=t[++i],u=t[++i];ES(a,s),r.dirty=!1;const l=Xl(r);try{u(2,n[s])}finally{ec(r,l)}}}}finally{null===n[Co]&&$v(n,Co),Mr(-1)}}(e,n);const a=e.components;null!==a&&cy(n,a,0);const u=e.viewQuery;if(null!==u&&Cd(2,u,r),s){const l=e.viewCheckHooks;null!==l&&da(n,l)}else{const l=e.viewHooks;null!==l&&fa(n,l,2),fc(n,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[W]&=-73,Og(n)}finally{dc()}}}function uy(e,n){for(let t=Am(e);null!==t;t=Tm(t))for(let r=Xe;r<t.length;r++)ly(t[r],n)}function YT(e,n,t){ly(Rt(n,e),t)}function ly(e,n){if(!function cS(e){return 128==(128&e[W])}(e))return;const t=e[S],r=e[W];if(80&r&&0===n||1024&r||2===n)ay(t,e,t.template,e[Pe]);else if(e[vo]>0){uy(e,1);const i=t.components;null!==i&&cy(e,i,1)}}function cy(e,n,t){for(let r=0;r<n.length;r++)YT(e,n[r],t)}class Yo{get rootNodes(){const n=this._lView,t=n[S];return Zo(t,n,t.firstChild,[])}constructor(n,t){this._lView=n,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Pe]}set context(n){this._lView[Pe]=n}get destroyed(){return 256==(256&this._lView[W])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Se];if(dt(n)){const t=n[8],r=t?t.indexOf(this):-1;r>-1&&(xa(n,r),ya(t,r))}this._attachedToViewContainer=!1}Oc(this._lView[S],this._lView)}onDestroy(n){!function Rg(e,n){if(256==(256&e[W]))throw new b(911,!1);null===e[nr]&&(e[nr]=[]),e[nr].push(n)}(this._lView,n)}markForCheck(){qo(this._cdRefInjectingView||this._lView)}detach(){this._lView[W]&=-129}reattach(){this._lView[W]|=128}detectChanges(){Xa(this._lView[S],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new b(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function jM(e,n){jo(e,n,n[G],2,null,null)}(this._lView[S],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new b(902,!1);this._appRef=n}}class QT extends Yo{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;Xa(n[S],n,n[Pe],!1)}checkNoChanges(){}get context(){return null}}class dy extends qa{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const t=te(n);return new Qo(t,this.ngModule)}}function fy(e){const n=[];for(let t in e)e.hasOwnProperty(t)&&n.push({propName:e[t],templateName:t});return n}class JT{constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){r=ea(r);const i=this.injector.get(n,ad,r);return i!==ad||t===ad?i:this.parentInjector.get(n,t,r)}}class Qo extends vv{get inputs(){const n=this.componentDef,t=n.inputTransforms,r=fy(n.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return fy(this.componentDef.outputs)}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=function FI(e){return e.map(kI).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!t}create(n,t,r,i){let o=(i=i||this.ngModule)instanceof qt?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new JT(n,o):n,a=s.get(_v,null);if(null===a)throw new b(407,!1);const d={rendererFactory:a,sanitizer:s.get(WA,null),effectManager:s.get(oy,null),afterRenderEventManager:s.get(hd,null)},f=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=r?function wT(e,n,t,r){const o=r.get(kv,!1)||t===en.ShadowDom,s=e.selectRootElement(n,o);return function CT(e){Wv(e)}(s),s}(f,r,this.componentDef.encapsulation,s):Ta(f,h,function KT(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(h)),C=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let v=null;null!==p&&(v=id(p,s,!0));const A=yd(0,null,null,1,0,null,null,null,null,null,null),O=Qa(null,A,null,C,null,null,d,f,s,null,v);let F,rt;cc(O);try{const Kn=this.componentDef;let uo,pp=null;Kn.findHostDirectiveDefs?(uo=[],pp=new Map,Kn.findHostDirectiveDefs(Kn,uo,pp),uo.push(Kn)):uo=[Kn];const g2=function ex(e,n){const t=e[S],r=J;return e[r]=n,Ai(t,r,2,"#host",null)}(O,p),m2=function tx(e,n,t,r,i,o,s){const a=i[S];!function nx(e,n,t,r){for(const i of e)n.mergedAttrs=go(n.mergedAttrs,i.hostAttrs);null!==n.mergedAttrs&&(Ja(n,n.mergedAttrs,!0),null!==t&&zm(r,t,n))}(r,e,n,s);let u=null;null!==n&&(u=id(n,i[tr]));const l=o.rendererFactory.createRenderer(n,t);let c=16;t.signals?c=4096:t.onPush&&(c=64);const d=Qa(i,qv(t),null,c,i[e.index],e,o,l,null,null,u);return a.firstCreatePass&&Dd(a,e,r.length-1),Ka(i,d),i[e.index]=d}(g2,p,Kn,uo,O,d,f);rt=Tg(A,J),p&&function ix(e,n,t,r){if(r)Zl(e,t,["ng-version",ZA.full]);else{const{attrs:i,classes:o}=function LI(e){const n=[],t=[];let r=1,i=2;for(;r<e.length;){let o=e[r];if("string"==typeof o)2===i?""!==o&&n.push(o,e[++r]):8===i&&t.push(o);else{if(!tn(i))break;i=o}r++}return{attrs:n,classes:t}}(n.selectors[0]);i&&Zl(e,t,i),o&&o.length>0&&Hm(e,t,o.join(" "))}}(f,Kn,p,r),void 0!==t&&function ox(e,n,t){const r=e.projection=[];for(let i=0;i<n.length;i++){const o=t[i];r.push(null!=o?Array.from(o):null)}}(rt,this.ngContentSelectors,t),F=function rx(e,n,t,r,i,o){const s=tt(),a=i[S],u=Et(s,i);Qv(a,i,s,t,null,r);for(let c=0;c<t.length;c++)st(Ar(i,a,s.directiveStart+c,s),i);Kv(a,i,s),u&&st(u,i);const l=Ar(i,a,s.directiveStart+s.componentOffset,s);if(e[Pe]=i[Pe]=l,null!==o)for(const c of o)c(l,n);return gd(a,s,e),l}(m2,Kn,uo,pp,O,[sx]),Ed(A,O,null)}finally{dc()}return new XT(this.componentType,F,Ii(rt,O),O,rt)}}class XT extends UA{constructor(n,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new QT(i),this.componentType=n}setInput(n,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;const o=this._rootLView;bd(o[S],o,i,n,t),this.previousInputValues.set(n,t),qo(Rt(this._tNode.index,o))}}get injector(){return new pt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function sx(){const e=tt();ca(w()[S],e)}function fe(e){let n=function hy(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),t=!0;const r=[e];for(;n;){let i;if(rn(e))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new b(903,!1);i=n.\u0275dir}if(i){if(t){r.push(i);const s=e;s.inputs=eu(e.inputs),s.inputTransforms=eu(e.inputTransforms),s.declaredInputs=eu(e.declaredInputs),s.outputs=eu(e.outputs);const a=i.hostBindings;a&&cx(e,a);const u=i.viewQuery,l=i.contentQueries;if(u&&ux(e,u),l&&lx(e,l),Zs(e.inputs,i.inputs),Zs(e.declaredInputs,i.declaredInputs),Zs(e.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),Zs(s.inputTransforms,i.inputTransforms)),rn(i)&&i.data.animation){const c=e.data;c.animation=(c.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(e),a===fe&&(t=!1)}}n=Object.getPrototypeOf(n)}!function ax(e){let n=0,t=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=n+=i.hostVars,i.hostAttrs=go(i.hostAttrs,t=go(t,i.hostAttrs))}}(r)}function eu(e){return e===gn?{}:e===re?[]:e}function ux(e,n){const t=e.viewQuery;e.viewQuery=t?(r,i)=>{n(r,i),t(r,i)}:n}function lx(e,n){const t=e.contentQueries;e.contentQueries=t?(r,i,o)=>{n(r,i,o),t(r,i,o)}:n}function cx(e,n){const t=e.hostBindings;e.hostBindings=t?(r,i)=>{n(r,i),t(r,i)}:n}function tu(e){return!!function Id(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function at(e,n,t){return!Object.is(e[n],t)&&(e[n]=t,!0)}function En(e,n,t,r){const i=w();return at(i,oi(),n)&&(ne(),Cn(Ae(),i,e,n,t,r)),En}function gt(e,n,t,r,i,o,s,a){const u=w(),l=ne(),c=e+J,d=l.firstCreatePass?function kx(e,n,t,r,i,o,s,a,u){const l=n.consts,c=Ai(n,e,4,s||null,ir(l,a));_d(n,t,c,ir(l,u)),ca(n,c);const d=c.tView=yd(2,c,r,i,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,l,null);return null!==n.queries&&(n.queries.template(n,c),d.queries=n.queries.embeddedTView(c)),c}(c,l,u,n,t,r,i,o,s):l.data[c];Dn(d,!1);const f=xy(l,u,d,e);la()&&Na(l,u,f,d),st(f,u),Ka(u,u[c]=Xv(f,u,f,d)),oa(d)&&md(l,u,d),null!=s&&vd(u,d,a)}let xy=function Oy(e,n,t,r){return or(!0),n[G].createComment("")};function Ve(e,n,t){const r=w();return at(r,oi(),n)&&function Lt(e,n,t,r,i,o,s,a){const u=Et(n,t);let c,l=n.inputs;!a&&null!=l&&(c=l[r])?(bd(e,t,c,r,i),Ir(n)&&function TT(e,n){const t=Rt(n,e);16&t[W]||(t[W]|=64)}(t,n.index)):3&n.type&&(r=function AT(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=s?s(i,n.value||"",r):i,o.setProperty(u,r,i))}(ne(),Ae(),r,e,n,r[G],t,!1),Ve}function Od(e,n,t,r,i){const s=i?"class":"style";bd(e,t,n.inputs[s],s,r)}function he(e,n,t,r){const i=w(),o=ne(),s=J+e,a=i[G],u=o.firstCreatePass?function $x(e,n,t,r,i,o){const s=n.consts,u=Ai(n,e,2,r,ir(s,i));return _d(n,t,u,ir(s,o)),null!==u.attrs&&Ja(u,u.attrs,!1),null!==u.mergedAttrs&&Ja(u,u.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,u),u}(s,o,i,n,t,r):o.data[s],l=Ny(o,i,u,a,n,e);i[s]=l;const c=oa(u);return Dn(u,!0),zm(a,l,u),32!=(32&u.flags)&&la()&&Na(o,i,l,u),0===function pS(){return V.lFrame.elementDepthCount}()&&st(l,i),function gS(){V.lFrame.elementDepthCount++}(),c&&(md(o,i,u),gd(o,u,i)),null!==r&&vd(i,u),he}function ge(){let e=tt();oc()?sc():(e=e.parent,Dn(e,!1));const n=e;(function vS(e){return V.skipHydrationRootTNode===e})(n)&&function wS(){V.skipHydrationRootTNode=null}(),function mS(){V.lFrame.elementDepthCount--}();const t=ne();return t.firstCreatePass&&(ca(t,e),Ql(e)&&t.queries.elementEnd(e)),null!=n.classesWithoutHost&&function FS(e){return 0!=(8&e.flags)}(n)&&Od(t,n,w(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function LS(e){return 0!=(16&e.flags)}(n)&&Od(t,n,w(),n.stylesWithoutHost,!1),ge}function su(e,n,t,r){return he(e,n,t,r),ge(),su}let Ny=(e,n,t,r,i,o)=>(or(!0),Ta(r,i,function qg(){return V.lFrame.currentNamespace}()));function au(e,n,t){const r=w(),i=ne(),o=e+J,s=i.firstCreatePass?function Hx(e,n,t,r,i){const o=n.consts,s=ir(o,r),a=Ai(n,e,8,"ng-container",s);return null!==s&&Ja(a,s,!0),_d(n,t,a,ir(o,i)),null!==n.queries&&n.queries.elementStart(n,a),a}(o,i,r,n,t):i.data[o];Dn(s,!0);const a=Py(i,r,s,e);return r[o]=a,la()&&Na(i,r,a,s),st(a,r),oa(s)&&(md(i,r,s),gd(i,s,r)),null!=t&&vd(r,s),au}function uu(){let e=tt();const n=ne();return oc()?sc():(e=e.parent,Dn(e,!1)),n.firstCreatePass&&(ca(n,e),Ql(e)&&n.queries.elementEnd(e)),uu}let Py=(e,n,t,r)=>(or(!0),xc(n[G],""));function lu(){return w()}function ts(e){return!!e&&"function"==typeof e.then}function ky(e){return!!e&&"function"==typeof e.subscribe}function Ze(e,n,t,r){const i=w(),o=ne(),s=tt();return function Ly(e,n,t,r,i,o,s){const a=oa(r),l=e.firstCreatePass&&function ny(e){return e.cleanup||(e.cleanup=[])}(e),c=n[Pe],d=function ty(e){return e[Kr]||(e[Kr]=[])}(n);let f=!0;if(3&r.type||s){const g=Et(r,n),y=s?s(g):g,C=d.length,v=s?O=>s(De(O[r.index])):r.index;let A=null;if(!s&&a&&(A=function qx(e,n,t,r){const i=e.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===t&&i[o+1]===r){const a=n[Kr],u=i[o+2];return a.length>u?a[u]:null}"string"==typeof s&&(o+=2)}return null}(e,n,i,r.index)),null!==A)(A.__ngLastListenerFn__||A).__ngNextListenerFn__=o,A.__ngLastListenerFn__=o,f=!1;else{o=Vy(r,n,c,o,!1);const O=t.listen(y,i,o);d.push(o,O),l&&l.push(i,v,C,C+1)}}else o=Vy(r,n,c,o,!1);const h=r.outputs;let p;if(f&&null!==h&&(p=h[i])){const g=p.length;if(g)for(let y=0;y<g;y+=2){const F=n[p[y]][p[y+1]].subscribe(o),rt=d.length;d.push(o,F),l&&l.push(i,r.index,rt,-(rt+1))}}}(o,i,i[G],s,e,n,r),Ze}function jy(e,n,t,r){try{return _n(6,n,t),!1!==t(r)}catch(i){return iy(e,i),!1}finally{_n(7,n,t)}}function Vy(e,n,t,r,i){return function o(s){if(s===Function)return r;qo(e.componentOffset>-1?Rt(e.index,n):n);let u=jy(n,t,r,s),l=o.__ngNextListenerFn__;for(;l;)u=jy(n,t,l,s)&&u,l=l.__ngNextListenerFn__;return i&&!1===u&&s.preventDefault(),u}}function mt(e=1){return function MS(e){return(V.lFrame.contextLView=function AS(e,n){for(;e>0;)n=n[Xr],e--;return n}(e,V.lFrame.contextLView))[Pe]}(e)}function cu(e,n){return e<<17|n<<2}function ur(e){return e>>17&32767}function Rd(e){return 2|e}function Nr(e){return(131068&e)>>2}function Pd(e,n){return-131069&e|n<<2}function kd(e){return 1|e}function Yy(e,n,t,r,i){const o=e[t+1],s=null===n;let a=r?ur(o):Nr(o),u=!1;for(;0!==a&&(!1===u||s);){const c=e[a+1];tO(e[a],n)&&(u=!0,e[a+1]=r?kd(c):Rd(c)),a=r?ur(c):Nr(c)}u&&(e[t+1]=r?Rd(o):kd(o))}function tO(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&hi(e,n)>=0}function Fd(e,n,t){return on(e,n,t,!1),Fd}function ns(e,n){return on(e,n,null,!0),ns}function on(e,n,t,r){const i=w(),o=ne(),s=function jn(e){const n=V.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}(2);o.firstUpdatePass&&function r_(e,n,t,r){const i=e.data;if(null===i[t+1]){const o=i[ht()],s=function n_(e,n){return n>=e.expandoStartIndex}(e,t);(function a_(e,n){return 0!=(e.flags&(n?8:16))})(o,r)&&null===n&&!s&&(n=!1),n=function cO(e,n,t,r){const i=function uc(e){const n=V.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let o=r?n.residualClasses:n.residualStyles;if(null===i)0===(r?n.classBindings:n.styleBindings)&&(t=rs(t=Ld(null,e,n,t,r),n.attrs,r),o=null);else{const s=n.directiveStylingLast;if(-1===s||e[s]!==i)if(t=Ld(i,e,n,t,r),null===o){let u=function dO(e,n,t){const r=t?n.classBindings:n.styleBindings;if(0!==Nr(r))return e[ur(r)]}(e,n,r);void 0!==u&&Array.isArray(u)&&(u=Ld(null,e,n,u[1],r),u=rs(u,n.attrs,r),function fO(e,n,t,r){e[ur(t?n.classBindings:n.styleBindings)]=r}(e,n,r,u))}else o=function hO(e,n,t){let r;const i=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<i;o++)r=rs(r,e[o].hostAttrs,t);return rs(r,n.attrs,t)}(e,n,r)}return void 0!==o&&(r?n.residualClasses=o:n.residualStyles=o),t}(i,o,n,r),function Xx(e,n,t,r,i,o){let s=o?n.classBindings:n.styleBindings,a=ur(s),u=Nr(s);e[r]=t;let c,l=!1;if(Array.isArray(t)?(c=t[1],(null===c||hi(t,c)>0)&&(l=!0)):c=t,i)if(0!==u){const f=ur(e[a+1]);e[r+1]=cu(f,a),0!==f&&(e[f+1]=Pd(e[f+1],r)),e[a+1]=function Kx(e,n){return 131071&e|n<<17}(e[a+1],r)}else e[r+1]=cu(a,0),0!==a&&(e[a+1]=Pd(e[a+1],r)),a=r;else e[r+1]=cu(u,0),0===a?a=r:e[u+1]=Pd(e[u+1],r),u=r;l&&(e[r+1]=Rd(e[r+1])),Yy(e,c,r,!0),Yy(e,c,r,!1),function eO(e,n,t,r,i){const o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof n&&hi(o,n)>=0&&(t[r+1]=kd(t[r+1]))}(n,c,e,r,o),s=cu(a,u),o?n.classBindings=s:n.styleBindings=s}(i,o,n,t,s,r)}}(o,e,s,r),n!==q&&at(i,s,n)&&function o_(e,n,t,r,i,o,s,a){if(!(3&n.type))return;const u=e.data,l=u[a+1],c=function Jx(e){return 1==(1&e)}(l)?s_(u,n,t,i,Nr(l),s):void 0;du(c)||(du(o)||function Qx(e){return 2==(2&e)}(l)&&(o=s_(u,null,t,i,a,s)),function ZM(e,n,t,r,i){if(n)i?e.addClass(t,r):e.removeClass(t,r);else{let o=-1===r.indexOf("-")?void 0:sr.DashCase;null==i?e.removeStyle(t,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=sr.Important),e.setStyle(t,r,i,o))}}(r,s,ua(ht(),t),i,o))}(o,o.data[ht()],i,i[G],e,i[s+1]=function vO(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=Be(function ar(e){return e instanceof Zm?e.changingThisBreaksApplicationSecurity:e}(e)))),e}(n,t),r,s)}function Ld(e,n,t,r,i){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=n[a],r=rs(r,o.hostAttrs,i),o!==e);)a++;return null!==e&&(t.directiveStylingLast=a),r}function rs(e,n,t){const r=t?1:2;let i=-1;if(null!==n)for(let o=0;o<n.length;o++){const s=n[o];"number"==typeof s?i=s:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Pt(e,s,!!t||n[++o]))}return void 0===e?null:e}function s_(e,n,t,r,i,o){const s=null===n;let a;for(;i>0;){const u=e[i],l=Array.isArray(u),c=l?u[1]:u,d=null===c;let f=t[i+1];f===q&&(f=d?re:void 0);let h=d?Dc(f,r):c===r?f:void 0;if(l&&!du(h)&&(h=Dc(u,r)),du(h)&&(a=h,s))return a;const p=e[i+1];i=s?ur(p):Nr(p)}if(null!==n){let u=o?n.residualClasses:n.residualStyles;null!=u&&(a=Dc(u,r))}return a}function du(e){return void 0!==e}function Ye(e,n=""){const t=w(),r=ne(),i=e+J,o=r.firstCreatePass?Ai(r,i,1,n,null):r.data[i],s=u_(r,t,o,n,e);t[i]=s,la()&&Na(r,t,s,o),Dn(o,!1)}let u_=(e,n,t,r,i)=>(or(!0),function Aa(e,n){return e.createText(n)}(n[G],r));function fu(e){return Rr("",e,""),fu}function Rr(e,n,t){const r=w(),i=function xi(e,n,t,r){return at(e,oi(),t)?n+z(t)+r:q}(r,e,n,t);return i!==q&&function Hn(e,n,t){const r=ua(n,e);!function Om(e,n,t){e.setValue(n,t)}(e[G],r,t)}(r,ht(),i),Rr}const $i="en-US";let x_=$i;function $d(e,n,t,r,i){if(e=$(e),Array.isArray(e))for(let o=0;o<e.length;o++)$d(e[o],n,t,r,i);else{const o=ne(),s=w(),a=tt();let u=xr(e)?e:$(e.provide);const l=dv(e),c=1048575&a.providerIndexes,d=a.directiveStart,f=a.providerIndexes>>20;if(xr(e)||!e.multi){const h=new Ao(l,i,E),p=Bd(u,n,i?c:c+f,d);-1===p?(vc(pa(a,s),o,u),Ud(o,e,n.length),n.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(h),s.push(h)):(t[p]=h,s[p]=h)}else{const h=Bd(u,n,c+f,d),p=Bd(u,n,c,c+f),y=p>=0&&t[p];if(i&&!y||!i&&!(h>=0&&t[h])){vc(pa(a,s),o,u);const C=function jN(e,n,t,r,i){const o=new Ao(e,t,E);return o.multi=[],o.index=n,o.componentProviders=0,tD(o,i,r&&!t),o}(i?LN:FN,t.length,i,r,l);!i&&y&&(t[p].providerFactory=C),Ud(o,e,n.length,0),n.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(C),s.push(C)}else Ud(o,e,h>-1?h:p,tD(t[i?p:h],l,!i&&r));!i&&r&&y&&t[p].componentProviders++}}}function Ud(e,n,t,r){const i=xr(n),o=function EA(e){return!!e.useClass}(n);if(i||o){const u=(o?$(n.useClass):n).prototype.ngOnDestroy;if(u){const l=e.destroyHooks||(e.destroyHooks=[]);if(!i&&n.multi){const c=l.indexOf(t);-1===c?l.push(t,[r,u]):l[c+1].push(r,u)}else l.push(t,u)}}}function tD(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function Bd(e,n,t,r){for(let i=t;i<r;i++)if(n[i]===e)return i;return-1}function FN(e,n,t,r){return Hd(this.multi,[])}function LN(e,n,t,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Ar(t,t[S],this.providerFactory.index,r);o=a.slice(0,s),Hd(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],Hd(i,o);return o}function Hd(e,n){for(let t=0;t<e.length;t++)n.push((0,e[t])());return n}function Me(e,n=[]){return t=>{t.providersResolver=(r,i)=>function kN(e,n,t){const r=ne();if(r.firstCreatePass){const i=rn(e);$d(t,r.data,r.blueprint,i,!0),$d(n,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,n)}}class kr{}class nD{}class zd extends kr{constructor(n,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new dy(this);const i=Nt(n);this._bootstrapComponents=Bn(i.bootstrap),this._r3Injector=Ev(n,t,[{provide:kr,useValue:this},{provide:qa,useValue:this.componentFactoryResolver},...r],Be(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Gd extends nD{constructor(n){super(),this.moduleType=n}create(n){return new zd(this.moduleType,n,[])}}class rD extends kr{constructor(n){super(),this.componentFactoryResolver=new dy(this),this.instance=null;const t=new Di([...n.providers,{provide:kr,useValue:this},{provide:qa,useValue:this.componentFactoryResolver}],n.parent||Va(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function qd(e,n,t=null){return new rD({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}let UN=(()=>{class e{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=av(0,t.type),i=r.length>0?qd([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=R({token:e,providedIn:"environment",factory:()=>new e(P(qt))})}}return e})();function iD(e){e.getStandaloneInjector=n=>n.get(UN).getOrCreateStandaloneInjector(e)}function gR(e,n,t,r=!0){const i=n[S];if(function $M(e,n,t,r){const i=Xe+r,o=t.length;r>0&&(t[i-1][nn]=n),r<o-Xe?(n[nn]=t[i],am(t,Xe+r,n)):(t.push(n),n[nn]=null),n[Se]=t;const s=n[_o];null!==s&&t!==s&&function UM(e,n){const t=e[ti];n[ke]!==n[Se][Se][ke]&&(e[ag]=!0),null===t?e[ti]=[n]:t.push(n)}(s,n);const a=n[vn];null!==a&&a.insertView(e),n[W]|=128}(i,n,e,t),r){const o=kc(t,e),s=n[G],a=Oa(s,e[yn]);null!==a&&function LM(e,n,t,r,i,o){r[Oe]=i,r[ot]=n,jo(e,r,t,1,i,o)}(i,e[ot],s,n,a,o)}}let zn=(()=>{class e{static{this.__NG_ELEMENT_ID__=yR}}return e})();const mR=zn,vR=class extends mR{constructor(n,t,r){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,t){return this.createEmbeddedViewImpl(n,t)}createEmbeddedViewImpl(n,t,r){const i=function pR(e,n,t,r){const i=n.tView,a=Qa(e,i,t,4096&e[W]?4096:16,null,n,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[_o]=e[n.index];const l=e[vn];return null!==l&&(a[vn]=l.createEmbeddedView(i)),Ed(i,a,t),a}(this._declarationLView,this._declarationTContainer,n,{injector:t,hydrationInfo:r});return new Yo(i)}};function yR(){return function vu(e,n){return 4&e.type?new vR(n,e,Ii(e,n)):null}(tt(),w())}let an=(()=>{class e{static{this.__NG_ELEMENT_ID__=ER}}return e})();function ER(){return function CD(e,n){let t;const r=n[e.index];return dt(r)?t=r:(t=Xv(r,n,null,e),n[e.index]=t,Ka(n,t)),bD(t,n,e,r),new DD(t,e,n)}(tt(),w())}const IR=an,DD=class extends IR{constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return Ii(this._hostTNode,this._hostLView)}get injector(){return new pt(this._hostTNode,this._hostLView)}get parentInjector(){const n=ga(this._hostTNode,this._hostLView);if(pc(n)){const t=xo(n,this._hostLView),r=To(n);return new pt(t[S].data[r+8],t)}return new pt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const t=wD(this._lContainer);return null!==t&&t[n]||null}get length(){return this._lContainer.length-Xe}createEmbeddedView(n,t,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=n.createEmbeddedViewImpl(t||{},o,null);return this.insertImpl(a,i,false),a}createComponent(n,t,r,i,o){const s=n&&!function No(e){return"function"==typeof e}(n);let a;if(s)a=t;else{const g=t||{};a=g.index,r=g.injector,i=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}const u=s?n:new Qo(te(n)),l=r||this.parentInjector;if(!o&&null==u.ngModule){const y=(s?l:this.parentInjector).get(qt,null);y&&(o=y)}te(u.componentType??{});const h=u.create(l,i,null,o);return this.insertImpl(h.hostView,a,false),h}insert(n,t){return this.insertImpl(n,t,!1)}insertImpl(n,t,r){const i=n._lView;if(function dS(e){return dt(e[Se])}(i)){const u=this.indexOf(n);if(-1!==u)this.detach(u);else{const l=i[Se],c=new DD(l,l[ot],l[Se]);c.detach(c.indexOf(n))}}const s=this._adjustIndex(t),a=this._lContainer;return gR(a,i,s,!r),n.attachToViewContainerRef(),am(Yd(a),s,n),n}move(n,t){return this.insert(n,t)}indexOf(n){const t=wD(this._lContainer);return null!==t?t.indexOf(n):-1}remove(n){const t=this._adjustIndex(n,-1),r=xa(this._lContainer,t);r&&(ya(Yd(this._lContainer),t),Oc(r[S],r))}detach(n){const t=this._adjustIndex(n,-1),r=xa(this._lContainer,t);return r&&null!=ya(Yd(this._lContainer),t)?new Yo(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function wD(e){return e[8]}function Yd(e){return e[8]||(e[8]=[])}let bD=function ED(e,n,t,r){if(e[yn])return;let i;i=8&t.type?De(r):function SR(e,n){const t=e[G],r=t.createComment(""),i=Et(n,e);return Tr(t,Oa(t,i),r,function GM(e,n){return e.nextSibling(n)}(t,i),!1),r}(n,t),e[yn]=i};const uf=new x("Application Initializer");let lf=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=M(uf,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const o=i();if(ts(o))t.push(o);else if(ky(o)){const s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),YD=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();const Gn=new x("LocaleId",{providedIn:"root",factory:()=>M(Gn,K.Optional|K.SkipSelf)||function rP(){return typeof $localize<"u"&&$localize.locale||$i}()});let QD=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ut(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();class sP{constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}}let KD=(()=>{class e{compileModuleSync(t){return new Gd(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),o=Bn(Nt(t).declarations).reduce((s,a)=>{const u=te(a);return u&&s.push(new Qo(u)),s},[]);return new sP(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const tw=new x(""),wu=new x("");let pf,ff=(()=>{class e{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,pf||(function AP(e){pf=e}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{we.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static{this.\u0275fac=function(r){return new(r||e)(P(we),P(hf),P(wu))}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac})}}return e})(),hf=(()=>{class e{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return pf?.findTestabilityInTree(this,t,r)??null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})(),lr=null;const nw=new x("AllowMultipleToken"),gf=new x("PlatformDestroyListeners"),mf=new x("appBootstrapListener");class iw{constructor(n,t){this.name=n,this.token=t}}function sw(e,n,t=[]){const r=`Platform: ${n}`,i=new x(r);return(o=[])=>{let s=vf();if(!s||s.injector.get(nw,!1)){const a=[...t,...o,{provide:i,useValue:!0}];e?e(a):function OP(e){if(lr&&!lr.get(nw,!1))throw new b(400,!1);(function rw(){!function QI(e){_g=e}(()=>{throw new b(600,!1)})})(),lr=e;const n=e.get(uw);(function ow(e){e.get(fv,null)?.forEach(t=>t())})(e)}(function aw(e=[],n){return Ft.create({name:n,providers:[{provide:Wc,useValue:"platform"},{provide:gf,useValue:new Set([()=>lr=null])},...e]})}(a,r))}return function RP(e){const n=vf();if(!n)throw new b(401,!1);return n}()}}function vf(){return lr?.get(uw)??null}let uw=(()=>{class e{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function PP(e="zone.js",n){return"noop"===e?new aT:"zone.js"===e?new we(n):e}(r?.ngZone,function lw(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function $N(e,n,t){return new zd(e,n,t)}(t.moduleType,this.injector,function pw(e){return[{provide:we,useFactory:e},{provide:Bo,multi:!0,useFactory:()=>{const n=M(FP,{optional:!0});return()=>n.initialize()}},{provide:hw,useFactory:kP},{provide:Tv,useFactory:xv}]}(()=>i)),s=o.injector.get(Un,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{s.handleError(u)}});o.onDestroy(()=>{Cu(this._modules,o),a.unsubscribe()})}),function cw(e,n,t){try{const r=t();return ts(r)?r.catch(i=>{throw n.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>e.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(lf);return a.runInitializers(),a.donePromise.then(()=>(function O_(e){Bt(e,"Expected localeId to be defined"),"string"==typeof e&&(x_=e.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Gn,$i)||$i),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,r=[]){const i=dw({},r);return function TP(e,n,t){const r=new Gd(t);return Promise.resolve(r)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(t){const r=t.injector.get(Hi);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new b(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new b(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(gf,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||e)(P(Ft))}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function dw(e,n){return Array.isArray(n)?n.reduce(dw,e):{...e,...n}}let Hi=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=M(hw),this.zoneIsStable=M(Tv),this.componentTypes=[],this.components=[],this.isStable=M(QD).hasPendingTasks.pipe(pn(t=>t?H(!1):this.zoneIsStable),function aI(e,n=Jn){return e=e??uI,Ue((t,r)=>{let i,o=!0;t.subscribe(je(r,s=>{const a=n(s);(o||!e(i,a))&&(o=!1,i=a,r.next(s))}))})}(),Lp()),this._injector=M(qt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof vv;if(!this._injector.get(lf).done)throw!i&&function Qr(e){const n=te(e)||Je(e)||ct(e);return null!==n&&n.standalone}(t),new b(405,!1);let s;s=i?t:this._injector.get(qa).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function xP(e){return e.isBoundToModule}(s)?void 0:this._injector.get(kr),l=s.create(Ft.NULL,[],r||s.selector,a),c=l.location.nativeElement,d=l.injector.get(tw,null);return d?.registerApplication(c),l.onDestroy(()=>{this.detachView(l.hostView),Cu(this.components,l),d?.unregisterApplication(c)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new b(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Cu(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(mf,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Cu(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new b(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Cu(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}const hw=new x("",{providedIn:"root",factory:()=>M(Un).handleError.bind(void 0)});function kP(){const e=M(we),n=M(Un);return t=>e.runOutsideAngular(()=>n.handleError(t))}let FP=(()=>{class e{constructor(){this.zone=M(we),this.applicationRef=M(Hi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();let bu=(()=>{class e{static{this.__NG_ELEMENT_ID__=jP}}return e})();function jP(e){return function VP(e,n,t){if(Ir(e)&&!t){const r=Rt(e.index,n);return new Yo(r,r)}return 47&e.type?new Yo(n[ke],n):null}(tt(),w(),16==(16&e))}class _w{constructor(){}supports(n){return tu(n)}create(n){return new zP(n)}}const HP=(e,n)=>n;class zP{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||HP}forEachItem(n){let t;for(t=this._itHead;null!==t;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const s=!r||t&&t.currentIndex<ww(r,i,o)?t:r,a=ww(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{o||(o=[]);const l=a-i,c=u-i;if(l!=c){for(let f=0;f<l;f++){const h=f<o.length?o[f]:o[f]=0,p=h+f;c<=p&&p<l&&(o[f]=h+1)}o[s.previousIndex]=c-l}}a!==u&&n(s,a,u)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)n(t)}diff(n){if(null==n&&(n=[]),!tu(n))throw new b(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i,o,s,t=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),r=!0),t=t._next}else i=0,function vx(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{const t=e[Symbol.iterator]();let r;for(;!(r=t.next()).done;)n(r.value)}}(n,a=>{s=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,r,i){let o;return null===n?o=this._itTail:(o=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,o,i)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,o,i)):n=this._addAfter(new GP(t,r),o,i),n}_verifyReinsertion(n,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?n=this._reinsertAfter(o,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;null!==n;){const t=n._next;this._addToRemovals(this._unlink(n)),n=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const i=n._prevRemoved,o=n._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(n,t,r),this._addToMoves(n,r),n}_moveAfter(n,t,r){return this._unlink(n),this._insertAfter(n,t,r),this._addToMoves(n,r),n}_addAfter(n,t,r){return this._insertAfter(n,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,t,r){const i=null===t?this._itHead:t._next;return n._next=i,n._prev=t,null===i?this._itTail=n:i._prev=n,null===t?this._itHead=n:t._next=n,null===this._linkedRecords&&(this._linkedRecords=new Dw),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const t=n._prev,r=n._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Dw),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class GP{constructor(n,t){this.item=n,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class qP{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const t=n._prevDup,r=n._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class Dw{constructor(){this.map=new Map}put(n){const t=n.trackById;let r=this.map.get(t);r||(r=new qP,this.map.set(t,r)),r.add(n)}get(n,t){const i=this.map.get(n);return i?i.get(n,t):null}remove(n){const t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ww(e,n,t){const r=e.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+n+i}function bw(){return new Su([new _w])}let Su=(()=>{class e{static{this.\u0275prov=R({token:e,providedIn:"root",factory:bw})}constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||bw()),deps:[[e,new wa,new Da]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new b(901,!1)}}return e})();const KP=sw(null,"core",[]);let JP=(()=>{class e{constructor(t){}static{this.\u0275fac=function(r){return new(r||e)(P(Hi))}}static{this.\u0275mod=mn({type:e})}static{this.\u0275inj=Xt({})}}return e})();function zi(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}let bf=null;function cr(){return bf}class fk{}const Zt=new x("DocumentToken");let Ef=(()=>{class e{historyGo(t){throw new Error("Not implemented")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=R({token:e,factory:function(){return M(pk)},providedIn:"platform"})}}return e})();const hk=new x("Location Initialized");let pk=(()=>{class e extends Ef{constructor(){super(),this._doc=M(Zt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return cr().getBaseHref(this._doc)}onPopState(t){const r=cr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=cr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=R({token:e,factory:function(){return new e},providedIn:"platform"})}}return e})();function If(e,n){if(0==e.length)return n;if(0==n.length)return e;let t=0;return e.endsWith("/")&&t++,n.startsWith("/")&&t++,2==t?e+n.substring(1):1==t?e+n:e+"/"+n}function Rw(e){const n=e.match(/#|\?|$/),t=n&&n.index||e.length;return e.slice(0,t-("/"===e[t-1]?1:0))+e.slice(t)}function qn(e){return e&&"?"!==e[0]?"?"+e:e}let Lr=(()=>{class e{historyGo(t){throw new Error("Not implemented")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=R({token:e,factory:function(){return M(kw)},providedIn:"root"})}}return e})();const Pw=new x("appBaseHref");let kw=(()=>{class e extends Lr{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??M(Zt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return If(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+qn(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const s=this.prepareExternalUrl(i+qn(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){const s=this.prepareExternalUrl(i+qn(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||e)(P(Ef),P(Pw,8))}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),gk=(()=>{class e extends Lr{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=If(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+qn(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+qn(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||e)(P(Ef),P(Pw,8))}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac})}}return e})(),Sf=(()=>{class e{constructor(t){this._subject=new Ne,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function yk(e){if(new RegExp("^(https?:)?//").test(e)){const[,t]=e.split(/\/\/[^\/]+/);return t}return e}(Rw(Fw(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+qn(r))}normalize(t){return e.stripTrailingSlash(function vk(e,n){if(!e||!n.startsWith(e))return n;const t=n.substring(e.length);return""===t||["/",";","?","#"].includes(t[0])?t:n}(this._basePath,Fw(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+qn(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+qn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=qn}static{this.joinWithSlash=If}static{this.stripTrailingSlash=Rw}static{this.\u0275fac=function(r){return new(r||e)(P(Lr))}}static{this.\u0275prov=R({token:e,factory:function(){return function mk(){return new Sf(P(Lr))}()},providedIn:"root"})}}return e})();function Fw(e){return e.replace(/\/index.html$/,"")}class o1{constructor(n,t,r,i){this.$implicit=n,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Lf=(()=>{class e{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new o1(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),Ww(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Ww(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(E(an),E(zn),E(Su))}}static{this.\u0275dir=U({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return e})();function Ww(e,n){e.context.$implicit=n.item}let ju=(()=>{class e{constructor(t,r){this._viewContainer=t,this._context=new s1,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Zw("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Zw("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(E(an),E(zn))}}static{this.\u0275dir=U({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return e})();class s1{constructor(){this.$implicit=null,this.ngIf=null}}function Zw(e,n){if(n&&!n.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Be(n)}'.`)}let O1=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=mn({type:e})}static{this.\u0275inj=Xt({})}}return e})();function Jw(e){return"server"===e}let k1=(()=>{class e{static{this.\u0275prov=R({token:e,providedIn:"root",factory:()=>new F1(P(Zt),window)})}}return e})();class F1{constructor(n,t){this.document=n,this.window=t,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const t=function L1(e,n){const t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){this.supportsScrolling()&&(this.window.history.scrollRestoration=n)}scrollToElement(n){const t=n.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class aF extends fk{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class zf extends aF{static makeCurrent(){!function dk(e){bf||(bf=e)}(new zf)}onAndCancel(n,t,r){return n.addEventListener(t,r),()=>{n.removeEventListener(t,r)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,t){return(t=t||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return"window"===t?window:"document"===t?n:"body"===t?n.body:null}getBaseHref(n){const t=function uF(){return vs=vs||document.querySelector("base"),vs?vs.getAttribute("href"):null}();return null==t?null:function lF(e){Uu=Uu||document.createElement("a"),Uu.setAttribute("href",e);const n=Uu.pathname;return"/"===n.charAt(0)?n:`/${n}`}(t)}resetBaseElement(){vs=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function n1(e,n){n=encodeURIComponent(n);for(const t of e.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===n)return decodeURIComponent(o)}return null}(document.cookie,n)}}let Uu,vs=null,dF=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac})}}return e})();const Gf=new x("EventManagerPlugins");let rC=(()=>{class e{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new b(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||e)(P(Gf),P(we))}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac})}}return e})();class iC{constructor(n){this._doc=n}}const qf="ng-app-id";let oC=(()=>{class e{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Jw(o),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${qf}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(qf),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(qf,this.appId),s}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||e)(P(Zt),P($a),P(hv,8),P(Ci))}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac})}}return e})();const Wf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Zf=/%COMP%/g,gF=new x("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function aC(e,n){return n.map(t=>t.replace(Zf,e))}let uC=(()=>{class e{constructor(t,r,i,o,s,a,u,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Jw(a),this.defaultRenderer=new Yf(t,s,u,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===en.ShadowDom&&(r={...r,encapsulation:en.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof cC?i.applyToHost(t):i instanceof Qf&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,c=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case en.Emulated:o=new cC(u,l,r,this.appId,c,s,a,d);break;case en.ShadowDom:return new _F(u,l,t,r,s,a,this.nonce,d);default:o=new Qf(u,l,r,c,s,a,d)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||e)(P(rC),P(oC),P($a),P(gF),P(Zt),P(Ci),P(we),P(hv))}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac})}}return e})();class Yf{constructor(n,t,r,i){this.eventManager=n,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,t){return t?this.doc.createElementNS(Wf[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(lC(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(lC(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){n&&n.removeChild(t)}selectRootElement(n,t){let r="string"==typeof n?this.doc.querySelector(n):n;if(!r)throw new b(-5104,!1);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,i){if(i){t=i+":"+t;const o=Wf[i];o?n.setAttributeNS(o,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){const i=Wf[r];i?n.removeAttributeNS(i,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,i){i&(sr.DashCase|sr.Important)?n.style.setProperty(t,r,i&sr.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&sr.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n[t]=r}setValue(n,t){n.nodeValue=t}listen(n,t,r){if("string"==typeof n&&!(n=cr().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${t}`);return this.eventManager.addEventListener(n,t,this.decoratePreventDefault(r))}decoratePreventDefault(n){return t=>{if("__ngUnwrap__"===t)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))&&t.preventDefault()}}}function lC(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class _F extends Yf{constructor(n,t,r,i,o,s,a,u){super(n,o,s,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=aC(i.id,i.styles);for(const c of l){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=c,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(this.nodeOrShadowRoot(n),t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Qf extends Yf{constructor(n,t,r,i,o,s,a,u){super(n,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=u?aC(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class cC extends Qf{constructor(n,t,r,i,o,s,a,u){const l=i+"-"+r.id;super(n,t,r,o,s,a,u,l),this.contentAttr=function mF(e){return"_ngcontent-%COMP%".replace(Zf,e)}(l),this.hostAttr=function vF(e){return"_nghost-%COMP%".replace(Zf,e)}(l)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){const r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}}let DF=(()=>{class e extends iC{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||e)(P(Zt))}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac})}}return e})();const dC=["alt","control","meta","shift"],wF={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},CF={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let bF=(()=>{class e extends iC{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,r,i){const o=e.parseEventName(r),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>cr().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=e._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),dC.forEach(l=>{const c=r.indexOf(l);c>-1&&(r.splice(c,1),s+=l+".")}),s+=o,0!=r.length||0===o.length)return null;const u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=wF[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),dC.forEach(s=>{s!==i&&(0,CF[s])(t)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{e.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static{this.\u0275fac=function(r){return new(r||e)(P(Zt))}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac})}}return e})();const MF=sw(KP,"browser",[{provide:Ci,useValue:"browser"},{provide:fv,useValue:function EF(){zf.makeCurrent()},multi:!0},{provide:Zt,useFactory:function SF(){return function XM(e){jc=e}(document),document},deps:[]}]),AF=new x(""),pC=[{provide:wu,useClass:class cF{addToWindow(n){_e.getAngularTestability=(r,i=!0)=>{const o=n.findTestabilityInTree(r,i);if(null==o)throw new b(5103,!1);return o},_e.getAllAngularTestabilities=()=>n.getAllTestabilities(),_e.getAllAngularRootElements=()=>n.getAllRootElements(),_e.frameworkStabilizers||(_e.frameworkStabilizers=[]),_e.frameworkStabilizers.push(r=>{const i=_e.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(u){s=s||u,o--,0==o&&r(s)};i.forEach(u=>{u.whenStable(a)})})}findTestabilityInTree(n,t,r){return null==t?null:n.getTestability(t)??(r?cr().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null)}},deps:[]},{provide:tw,useClass:ff,deps:[we,hf,wu]},{provide:ff,useClass:ff,deps:[we,hf,wu]}],gC=[{provide:Wc,useValue:"root"},{provide:Un,useFactory:function IF(){return new Un},deps:[]},{provide:Gf,useClass:DF,multi:!0,deps:[Zt,we,Ci]},{provide:Gf,useClass:bF,multi:!0,deps:[Zt]},uC,oC,rC,{provide:_v,useExisting:uC},{provide:class j1{},useClass:dF,deps:[]},[]];let TF=(()=>{class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:$a,useValue:t.appId}]}}static{this.\u0275fac=function(r){return new(r||e)(P(AF,12))}}static{this.\u0275mod=mn({type:e})}static{this.\u0275inj=Xt({providers:[...gC,...pC],imports:[O1,JP]})}}return e})(),mC=(()=>{class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||e)(P(Zt))}}static{this.\u0275prov=R({token:e,factory:function(r){let i=null;return i=r?new r:function OF(){return new mC(P(Zt))}(),i},providedIn:"root"})}}return e})();typeof window<"u"&&window;const{isArray:LF}=Array,{getPrototypeOf:jF,prototype:VF,keys:$F}=Object;function DC(e){if(1===e.length){const n=e[0];if(LF(n))return{args:n,keys:null};if(function UF(e){return e&&"object"==typeof e&&jF(e)===VF}(n)){const t=$F(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}const{isArray:BF}=Array;function wC(e){return me(n=>function HF(e,n){return BF(n)?e(...n):e(n)}(e,n))}function CC(e,n){return e.reduce((t,r,i)=>(t[r]=n[i],t),{})}function Jf(...e){const n=co(e),t=Rp(e),{args:r,keys:i}=DC(e);if(0===r.length)return We([],n);const o=new Le(function zF(e,n,t=Jn){return r=>{bC(n,()=>{const{length:i}=e,o=new Array(i);let s=i,a=i;for(let u=0;u<i;u++)bC(n,()=>{const l=We(e[u],n);let c=!1;l.subscribe(je(r,d=>{o[u]=d,c||(c=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,n,i?s=>CC(i,s):Jn));return t?o.pipe(wC(t)):o}function bC(e,n,t){e?Rn(t,e,n):n()}const Bu=Q(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Xf(...e){return function GF(){return Zr(1)}()(We(e,co(e)))}function EC(e){return new Le(n=>{xt(e()).subscribe(n)})}function ys(e,n){const t=N(e)?e:()=>e,r=i=>i.error(t());return new Le(n?i=>n.schedule(r,0,i):r)}function eh(){return Ue((e,n)=>{let t=null;e._refCount++;const r=je(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(t=null);const i=e._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),n.unsubscribe()});e.subscribe(r),r.closed||(t=e.connect())})}class IC extends Le{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,yp(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new _;const t=this.getSubject();n.add(this.source.subscribe(je(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=_.EMPTY)}return n}refCount(){return eh()(this)}}function qi(e){return e<=0?()=>hn:Ue((n,t)=>{let r=0;n.subscribe(je(t,i=>{++r<=e&&(t.next(i),e<=r&&t.complete())}))})}function fr(e,n){return Ue((t,r)=>{let i=0;t.subscribe(je(r,o=>e.call(n,o,i++)&&r.next(o)))})}function Hu(e){return Ue((n,t)=>{let r=!1;n.subscribe(je(t,i=>{r=!0,t.next(i)},()=>{r||t.next(e),t.complete()}))})}function SC(e=WF){return Ue((n,t)=>{let r=!1;n.subscribe(je(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(e())))})}function WF(){return new Bu}function jr(e,n){const t=arguments.length>=2;return r=>r.pipe(e?fr((i,o)=>e(i,o,r)):Jn,qi(1),t?Hu(n):SC(()=>new Bu))}function _s(e,n){return N(n)?Ke(e,n,1):Ke(e,1)}function ut(e,n,t){const r=N(e)||n||t?{next:e,error:n,complete:t}:e;return r?Ue((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(je(o,u=>{var l;null===(l=r.next)||void 0===l||l.call(r,u),o.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),o.complete()},u=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,u),o.error(u)},()=>{var u,l;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):Jn}function Vr(e){return Ue((n,t)=>{let o,r=null,i=!1;r=n.subscribe(je(t,void 0,void 0,s=>{o=xt(e(s,Vr(e)(n))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function th(e){return e<=0?()=>hn:Ue((n,t)=>{let r=[];n.subscribe(je(t,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function nh(e){return Ue((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}const Z="primary",Ds=Symbol("RouteTitle");class XF{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Wi(e){return new XF(e)}function eL(e,n,t){const r=t.path.split("/");if(r.length>e.length||"full"===t.pathMatch&&(n.hasChildren()||r.length<e.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=e[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function Mn(e,n){const t=e?Object.keys(e):void 0,r=n?Object.keys(n):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!MC(e[i],n[i]))return!1;return!0}function MC(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;const t=[...e].sort(),r=[...n].sort();return t.every((i,o)=>r[o]===i)}return e===n}function AC(e){return e.length>0?e[e.length-1]:null}function hr(e){return function FF(e){return!!e&&(e instanceof Le||N(e.lift)&&N(e.subscribe))}(e)?e:ts(e)?We(Promise.resolve(e)):H(e)}const nL={exact:function OC(e,n,t){if(!$r(e.segments,n.segments)||!zu(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!e.children[r]||!OC(e.children[r],n.children[r],t))return!1;return!0},subset:NC},TC={exact:function rL(e,n){return Mn(e,n)},subset:function iL(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>MC(e[t],n[t]))},ignored:()=>!0};function xC(e,n,t){return nL[t.paths](e.root,n.root,t.matrixParams)&&TC[t.queryParams](e.queryParams,n.queryParams)&&!("exact"===t.fragment&&e.fragment!==n.fragment)}function NC(e,n,t){return RC(e,n,n.segments,t)}function RC(e,n,t,r){if(e.segments.length>t.length){const i=e.segments.slice(0,t.length);return!(!$r(i,t)||n.hasChildren()||!zu(i,t,r))}if(e.segments.length===t.length){if(!$r(e.segments,t)||!zu(e.segments,t,r))return!1;for(const i in n.children)if(!e.children[i]||!NC(e.children[i],n.children[i],r))return!1;return!0}{const i=t.slice(0,e.segments.length),o=t.slice(e.segments.length);return!!($r(e.segments,i)&&zu(e.segments,i,r)&&e.children[Z])&&RC(e.children[Z],n,o,r)}}function zu(e,n,t){return n.every((r,i)=>TC[t](e[i].parameters,r.parameters))}class Zi{constructor(n=new pe([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wi(this.queryParams)),this._queryParamMap}toString(){return aL.serialize(this)}}class pe{constructor(n,t){this.segments=n,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Gu(this)}}class ws{constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Wi(this.parameters)),this._parameterMap}toString(){return FC(this)}}function $r(e,n){return e.length===n.length&&e.every((t,r)=>t.path===n[r].path)}let Cs=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=R({token:e,factory:function(){return new rh},providedIn:"root"})}}return e})();class rh{parse(n){const t=new yL(n);return new Zi(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){const t=`/${bs(n.root,!0)}`,r=function cL(e){const n=Object.keys(e).map(t=>{const r=e[t];return Array.isArray(r)?r.map(i=>`${qu(t)}=${qu(i)}`).join("&"):`${qu(t)}=${qu(r)}`}).filter(t=>!!t);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${t}${r}${"string"==typeof n.fragment?`#${function uL(e){return encodeURI(e)}(n.fragment)}`:""}`}}const aL=new rh;function Gu(e){return e.segments.map(n=>FC(n)).join("/")}function bs(e,n){if(!e.hasChildren())return Gu(e);if(n){const t=e.children[Z]?bs(e.children[Z],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==Z&&r.push(`${i}:${bs(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function sL(e,n){let t=[];return Object.entries(e.children).forEach(([r,i])=>{r===Z&&(t=t.concat(n(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==Z&&(t=t.concat(n(i,r)))}),t}(e,(r,i)=>i===Z?[bs(e.children[Z],!1)]:[`${i}:${bs(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Z]?`${Gu(e)}/${t[0]}`:`${Gu(e)}/(${t.join("//")})`}}function PC(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qu(e){return PC(e).replace(/%3B/gi,";")}function ih(e){return PC(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Wu(e){return decodeURIComponent(e)}function kC(e){return Wu(e.replace(/\+/g,"%20"))}function FC(e){return`${ih(e.path)}${function lL(e){return Object.keys(e).map(n=>`;${ih(n)}=${ih(e[n])}`).join("")}(e.parameters)}`}const dL=/^[^\/()?;#]+/;function oh(e){const n=e.match(dL);return n?n[0]:""}const fL=/^[^\/()?;=#]+/,pL=/^[^=?&#]+/,mL=/^[^&#]+/;class yL{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new pe([],{}):new pe([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[Z]=new pe(n,t)),r}parseSegment(){const n=oh(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new b(4009,!1);return this.capture(n),new ws(Wu(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const t=function hL(e){const n=e.match(fL);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=oh(this.remaining);i&&(r=i,this.capture(r))}n[Wu(t)]=Wu(r)}parseQueryParam(n){const t=function gL(e){const n=e.match(pL);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function vL(e){const n=e.match(mL);return n?n[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=kC(t),o=kC(r);if(n.hasOwnProperty(i)){let s=n[i];Array.isArray(s)||(s=[s],n[i]=s),s.push(o)}else n[i]=o}parseParens(n){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=oh(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new b(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=Z);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[Z]:new pe([],s),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new b(4011,!1)}}function LC(e){return e.segments.length>0?new pe([],{[Z]:e}):e}function jC(e){const n={};for(const r of Object.keys(e.children)){const o=jC(e.children[r]);if(r===Z&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[r]=o)}return function _L(e){if(1===e.numberOfChildren&&e.children[Z]){const n=e.children[Z];return new pe(e.segments.concat(n.segments),n.children)}return e}(new pe(e.segments,n))}function Ur(e){return e instanceof Zi}function VC(e){let n;const i=LC(function t(o){const s={};for(const u of o.children){const l=t(u);s[u.outlet]=l}const a=new pe(o.url,s);return o===e&&(n=a),a}(e.root));return n??i}function $C(e,n,t,r){let i=e;for(;i.parent;)i=i.parent;if(0===n.length)return sh(i,i,i,t,r);const o=function wL(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new BC(!0,0,e);let n=0,t=!1;const r=e.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?n++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new BC(t,n,r)}(n);if(o.toRoot())return sh(i,i,new pe([],{}),t,r);const s=function CL(e,n,t){if(e.isAbsolute)return new Yu(n,!0,0);if(!t)return new Yu(n,!1,NaN);if(null===t.parent)return new Yu(t,!0,0);const r=Zu(e.commands[0])?0:1;return function bL(e,n,t){let r=e,i=n,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new b(4005,!1);i=r.segments.length}return new Yu(r,!1,i-o)}(t,t.segments.length-1+r,e.numberOfDoubleDots)}(o,i,e),a=s.processChildren?Is(s.segmentGroup,s.index,o.commands):HC(s.segmentGroup,s.index,o.commands);return sh(i,s.segmentGroup,a,t,r)}function Zu(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Es(e){return"object"==typeof e&&null!=e&&e.outlets}function sh(e,n,t,r,i){let s,o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(c=>`${c}`):`${l}`}),s=e===n?t:UC(e,n,t);const a=LC(jC(s));return new Zi(a,o,i)}function UC(e,n,t){const r={};return Object.entries(e.children).forEach(([i,o])=>{r[i]=o===n?t:UC(o,n,t)}),new pe(e.segments,r)}class BC{constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&Zu(r[0]))throw new b(4003,!1);const i=r.find(Es);if(i&&i!==AC(r))throw new b(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Yu{constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}}function HC(e,n,t){if(e||(e=new pe([],{})),0===e.segments.length&&e.hasChildren())return Is(e,n,t);const r=function IL(e,n,t){let r=0,i=n;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=t.length)return o;const s=e.segments[i],a=t[r];if(Es(a))break;const u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&void 0===u)break;if(u&&l&&"object"==typeof l&&void 0===l.outlets){if(!GC(u,l,s))return o;r+=2}else{if(!GC(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,n,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const o=new pe(e.segments.slice(0,r.pathIndex),{});return o.children[Z]=new pe(e.segments.slice(r.pathIndex),e.children),Is(o,0,i)}return r.match&&0===i.length?new pe(e.segments,{}):r.match&&!e.hasChildren()?ah(e,n,t):r.match?Is(e,0,i):ah(e,n,t)}function Is(e,n,t){if(0===t.length)return new pe(e.segments,{});{const r=function EL(e){return Es(e[0])?e[0].outlets:{[Z]:e}}(t),i={};if(Object.keys(r).some(o=>o!==Z)&&e.children[Z]&&1===e.numberOfChildren&&0===e.children[Z].segments.length){const o=Is(e.children[Z],n,t);return new pe(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=HC(e.children[o],n,s))}),Object.entries(e.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new pe(e.segments,i)}}function ah(e,n,t){const r=e.segments.slice(0,n);let i=0;for(;i<t.length;){const o=t[i];if(Es(o)){const u=SL(o.outlets);return new pe(r,u)}if(0===i&&Zu(t[0])){r.push(new ws(e.segments[n].path,zC(t[0]))),i++;continue}const s=Es(o)?o.outlets[Z]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Zu(a)?(r.push(new ws(s,zC(a))),i+=2):(r.push(new ws(s,{})),i++)}return new pe(r,{})}function SL(e){const n={};return Object.entries(e).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(n[t]=ah(new pe([],{}),0,r))}),n}function zC(e){const n={};return Object.entries(e).forEach(([t,r])=>n[t]=`${r}`),n}function GC(e,n,t){return e==t.path&&Mn(n,t.parameters)}const Ss="imperative";class An{constructor(n,t){this.id=n,this.url=t}}class Qu extends An{constructor(n,t,r="imperative",i=null){super(n,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class pr extends An{constructor(n,t,r){super(n,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ms extends An{constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Yi extends An{constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i,this.type=16}}class Ku extends An{constructor(n,t,r,i){super(n,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class qC extends An{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ML extends An{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class AL extends An{constructor(n,t,r,i,o){super(n,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class TL extends An{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xL extends An{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class OL{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class NL{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class RL{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class PL{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kL{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class FL{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class WC{constructor(n,t,r){this.routerEvent=n,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class uh{}class lh{constructor(n){this.url=n}}class LL{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new As,this.attachRef=null}}let As=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new LL,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();class ZC{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){const t=ch(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){const t=ch(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){const t=dh(n,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return dh(n,this._root).map(t=>t.value)}}function ch(e,n){if(e===n.value)return n;for(const t of n.children){const r=ch(e,t);if(r)return r}return null}function dh(e,n){if(e===n.value)return[n];for(const t of n.children){const r=dh(e,t);if(r.length)return r.unshift(n),r}return[]}class Yn{constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}}function Qi(e){const n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}class YC extends ZC{constructor(n,t){super(n),this.snapshot=t,fh(this,n)}toString(){return this.snapshot.toString()}}function QC(e,n){const t=function jL(e,n){const s=new Ju([],{},{},"",{},Z,n,null,{});return new JC("",new Yn(s,[]))}(0,n),r=new Ut([new ws("",{})]),i=new Ut({}),o=new Ut({}),s=new Ut({}),a=new Ut(""),u=new Ki(r,i,s,a,o,Z,n,t.root);return u.snapshot=t.root,new YC(new Yn(u,[]),t)}class Ki{constructor(n,t,r,i,o,s,a,u){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(me(l=>l[Ds]))??H(void 0),this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(me(n=>Wi(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(me(n=>Wi(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function KC(e,n="emptyOnly"){const t=e.pathFromRoot;let r=0;if("always"!==n)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function VL(e){return e.reduce((n,t)=>({params:{...n.params,...t.params},data:{...n.data,...t.data},resolve:{...t.data,...n.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Ju{get title(){return this.data?.[Ds]}constructor(n,t,r,i,o,s,a,u,l){this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Wi(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wi(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class JC extends ZC{constructor(n,t){super(t),this.url=n,fh(this,t)}toString(){return XC(this._root)}}function fh(e,n){n.value._routerState=e,n.children.forEach(t=>fh(e,t))}function XC(e){const n=e.children.length>0?` { ${e.children.map(XC).join(", ")} } `:"";return`${e.value}${n}`}function hh(e){if(e.snapshot){const n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,Mn(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),Mn(n.params,t.params)||e.paramsSubject.next(t.params),function tL(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!Mn(e[t],n[t]))return!1;return!0}(n.url,t.url)||e.urlSubject.next(t.url),Mn(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function ph(e,n){const t=Mn(e.params,n.params)&&function oL(e,n){return $r(e,n)&&e.every((t,r)=>Mn(t.parameters,n[r].parameters))}(e.url,n.url);return t&&!(!e.parent!=!n.parent)&&(!e.parent||ph(e.parent,n.parent))}let eb=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Z,this.activateEvents=new Ne,this.deactivateEvents=new Ne,this.attachEvents=new Ne,this.detachEvents=new Ne,this.parentContexts=M(As),this.location=M(an),this.changeDetector=M(bu),this.environmentInjector=M(qt),this.inputBinder=M(Xu,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new b(4013,!1);this._activatedRoute=t;const i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new $L(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=U({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[zt]})}}return e})();class $L{constructor(n,t,r){this.route=n,this.childContexts=t,this.parent=r}get(n,t){return n===Ki?this.route:n===As?this.childContexts:this.parent.get(n,t)}}const Xu=new x("");let tb=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=Jf([r.queryParams,r.params,r.data]).pipe(pn(([o,s,a],u)=>(a={...o,...s,...a},0===u?H(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const s=function ck(e){const n=te(e);if(!n)return null;const t=new Qo(n);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac})}}return e})();function Ts(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=n.value;const i=function BL(e,n,t){return n.children.map(r=>{for(const i of t.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Ts(e,r,i);return Ts(e,r)})}(e,n,t);return new Yn(r,i)}{if(e.shouldAttach(n.value)){const o=e.retrieve(n.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>Ts(e,a)),s}}const r=function HL(e){return new Ki(new Ut(e.url),new Ut(e.params),new Ut(e.queryParams),new Ut(e.fragment),new Ut(e.data),e.outlet,e.component,e)}(n.value),i=n.children.map(o=>Ts(e,o));return new Yn(r,i)}}const gh="ngNavigationCancelingError";function nb(e,n){const{redirectTo:t,navigationBehaviorOptions:r}=Ur(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=rb(!1,0,n);return i.url=t,i.navigationBehaviorOptions=r,i}function rb(e,n,t){const r=new Error("NavigationCancelingError: "+(e||""));return r[gh]=!0,r.cancellationCode=n,t&&(r.url=t),r}function ib(e){return e&&e[gh]}let ob=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=mo({type:e,selectors:[["ng-component"]],standalone:!0,features:[iD],decls:1,vars:0,template:function(r,i){1&r&&su(0,"router-outlet")},dependencies:[eb],encapsulation:2})}}return e})();function mh(e){const n=e.children&&e.children.map(mh),t=n?{...e,children:n}:{...e};return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==Z&&(t.component=ob),t}function cn(e){return e.outlet||Z}function xs(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){const t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class KL{constructor(n,t,r,i,o){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(n){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),hh(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){const i=Qi(t);n.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(n,t,r){const i=n.value,o=t?t.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(n,t,s.children)}else this.deactivateChildRoutes(n,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){const r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=Qi(n);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,t){const r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=Qi(n);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,t,r){const i=Qi(t);n.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new FL(o.value.snapshot))}),n.children.length&&this.forwardEvent(new PL(n.value.snapshot))}activateRoutes(n,t,r){const i=n.value,o=t?t.value:null;if(hh(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,t,s.children)}else this.activateChildRoutes(n,t,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),hh(a.route.value),this.activateChildRoutes(n,null,s.children)}else{const a=xs(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(n,null,s.children)}}else this.activateChildRoutes(n,null,r)}}class sb{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class el{constructor(n,t){this.component=n,this.route=t}}function JL(e,n,t){const r=e._root;return Os(r,n?n._root:null,t,[r.value])}function Ji(e,n){const t=Symbol(),r=n.get(e,t);return r===t?"function"!=typeof e||function gI(e){return null!==Qs(e)}(e)?n.get(e):e:r}function Os(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Qi(n);return e.children.forEach(s=>{(function ej(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,s=n?n.value:null,a=t?t.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function tj(e,n,t){if("function"==typeof t)return t(e,n);switch(t){case"pathParamsChange":return!$r(e.url,n.url);case"pathParamsOrQueryParamsChange":return!$r(e.url,n.url)||!Mn(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ph(e,n)||!Mn(e.queryParams,n.queryParams);default:return!ph(e,n)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new sb(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Os(e,n,o.component?a?a.children:null:t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new el(a.outlet.component,s))}else s&&Ns(n,a,i),i.canActivateChecks.push(new sb(r)),Os(e,null,o.component?a?a.children:null:t,r,i)})(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ns(a,t.getContext(s),i)),i}function Ns(e,n,t){const r=Qi(e),i=e.value;Object.entries(r).forEach(([o,s])=>{Ns(s,i.component?n?n.children.getContext(o):null:n,t)}),t.canDeactivateChecks.push(new el(i.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,i))}function Rs(e){return"function"==typeof e}function ab(e){return e instanceof Bu||"EmptyError"===e?.name}const tl=Symbol("INITIAL_VALUE");function Xi(){return pn(e=>Jf(e.map(n=>n.pipe(qi(1),function qF(...e){const n=co(e);return Ue((t,r)=>{(n?Xf(e,t,n):Xf(e,t)).subscribe(r)})}(tl)))).pipe(me(n=>{for(const t of n)if(!0!==t){if(t===tl)return tl;if(!1===t||t instanceof Zi)return t}return!0}),fr(n=>n!==tl),qi(1)))}function ub(e){return function f0(...e){return gp(e)}(ut(n=>{if(Ur(n))throw nb(0,n)}),me(n=>!0===n))}class nl{constructor(n){this.segmentGroup=n||null}}class lb{constructor(n){this.urlTree=n}}function eo(e){return ys(new nl(e))}function cb(e){return ys(new lb(e))}class wj{constructor(n,t){this.urlSerializer=n,this.urlTree=t}noMatchError(n){return new b(4002,!1)}lineralizeSegments(n,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return H(r);if(i.numberOfChildren>1||!i.children[Z])return ys(new b(4e3,!1));i=i.children[Z]}}applyRedirectCommands(n,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,r)}applyRedirectCreateUrlTree(n,t,r,i){const o=this.createSegmentGroup(n,t.root,r,i);return new Zi(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){const r={};return Object.entries(n).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(n,t,r,i){const o=this.createSegments(n,t.segments,r,i);let s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(n,u,r,i)}),new pe(o,s)}createSegments(n,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(n,o,i):this.findOrReturn(o,r))}findPosParam(n,t,r){const i=r[t.path.substring(1)];if(!i)throw new b(4001,!1);return i}findOrReturn(n,t){let r=0;for(const i of t){if(i.path===n.path)return t.splice(r),i;r++}return n}}const vh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Cj(e,n,t,r,i){const o=yh(e,n,t);return o.matched?(r=function GL(e,n){return e.providers&&!e._injector&&(e._injector=qd(e.providers,n,`Route: ${e.path}`)),e._injector??n}(n,r),function yj(e,n,t,r){const i=n.canMatch;return i&&0!==i.length?H(i.map(s=>{const a=Ji(s,e);return hr(function aj(e){return e&&Rs(e.canMatch)}(a)?a.canMatch(n,t):e.runInContext(()=>a(n,t)))})).pipe(Xi(),ub()):H(!0)}(r,n,t).pipe(me(s=>!0===s?o:{...vh}))):H(o)}function yh(e,n,t){if(""===n.path)return"full"===n.pathMatch&&(e.hasChildren()||t.length>0)?{...vh}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(n.matcher||eL)(t,e,n);if(!i)return{...vh};const o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function db(e,n,t,r){return t.length>0&&function Ij(e,n,t){return t.some(r=>rl(e,n,r)&&cn(r)!==Z)}(e,t,r)?{segmentGroup:new pe(n,Ej(r,new pe(t,e.children))),slicedSegments:[]}:0===t.length&&function Sj(e,n,t){return t.some(r=>rl(e,n,r))}(e,t,r)?{segmentGroup:new pe(e.segments,bj(e,0,t,r,e.children)),slicedSegments:t}:{segmentGroup:new pe(e.segments,e.children),slicedSegments:t}}function bj(e,n,t,r,i){const o={};for(const s of r)if(rl(e,t,s)&&!i[cn(s)]){const a=new pe([],{});o[cn(s)]=a}return{...i,...o}}function Ej(e,n){const t={};t[Z]=n;for(const r of e)if(""===r.path&&cn(r)!==Z){const i=new pe([],{});t[cn(r)]=i}return t}function rl(e,n,t){return(!(e.hasChildren()||n.length>0)||"full"!==t.pathMatch)&&""===t.path}class xj{constructor(n,t,r,i,o,s,a){this.injector=n,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new wj(this.urlSerializer,this.urlTree)}noMatchError(n){return new b(4002,!1)}recognize(){const n=db(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,Z).pipe(Vr(t=>{if(t instanceof lb)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof nl?this.noMatchError(t):t}),me(t=>{const r=new Ju([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Z,this.rootComponentType,null,{}),i=new Yn(r,t),o=new JC("",i),s=function DL(e,n,t=null,r=null){return $C(VC(e),n,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n.root,Z).pipe(Vr(r=>{throw r instanceof nl?this.noMatchError(r):r}))}inheritParamsAndData(n){const t=n.value,r=KC(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),n.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(n,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,t,r):this.processSegment(n,t,r,r.segments,i,!0)}processChildren(n,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return We(i).pipe(_s(o=>{const s=r.children[o],a=function YL(e,n){const t=e.filter(r=>cn(r)===n);return t.push(...e.filter(r=>cn(r)!==n)),t}(t,o);return this.processSegmentGroup(n,a,s,o)}),function YF(e,n){return Ue(function ZF(e,n,t,r,i){return(o,s)=>{let a=t,u=n,l=0;o.subscribe(je(s,c=>{const d=l++;u=a?e(u,c,d):(a=!0,c),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}(e,n,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),Hu(null),function QF(e,n){const t=arguments.length>=2;return r=>r.pipe(e?fr((i,o)=>e(i,o,r)):Jn,th(1),t?Hu(n):SC(()=>new Bu))}(),Ke(o=>{if(null===o)return eo(r);const s=fb(o);return function Oj(e){e.sort((n,t)=>n.value.outlet===Z?-1:t.value.outlet===Z?1:n.value.outlet.localeCompare(t.value.outlet))}(s),H(s)}))}processSegment(n,t,r,i,o,s){return We(t).pipe(_s(a=>this.processSegmentAgainstRoute(a._injector??n,t,a,r,i,o,s).pipe(Vr(u=>{if(u instanceof nl)return H(null);throw u}))),jr(a=>!!a),Vr(a=>{if(ab(a))return function Aj(e,n,t){return 0===n.length&&!e.children[t]}(r,i,o)?H([]):eo(r);throw a}))}processSegmentAgainstRoute(n,t,r,i,o,s,a){return function Mj(e,n,t,r){return!!(cn(e)===r||r!==Z&&rl(n,t,e))&&("**"===e.path||yh(n,e,t).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(n,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,i,t,r,o,s):eo(i):eo(i)}expandSegmentAgainstRouteUsingRedirect(n,t,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(n,t,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,t,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?cb(o):this.applyRedirects.lineralizeSegments(r,o).pipe(Ke(s=>{const a=new pe(s,{});return this.processSegment(n,t,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,t,r,i,o,s){const{matched:a,consumedSegments:u,remainingSegments:l,positionalParamSegments:c}=yh(t,i,o);if(!a)return eo(t);const d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,c);return i.redirectTo.startsWith("/")?cb(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Ke(f=>this.processSegment(n,r,t,f.concat(l),s,!1)))}matchSegmentAgainstRoute(n,t,r,i,o,s){let a;if("**"===r.path){const u=i.length>0?AC(i).parameters:{};a=H({snapshot:new Ju(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,hb(r),cn(r),r.component??r._loadedComponent??null,r,pb(r)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=Cj(t,r,i,n).pipe(me(({matched:u,consumedSegments:l,remainingSegments:c,parameters:d})=>u?{snapshot:new Ju(l,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,hb(r),cn(r),r.component??r._loadedComponent??null,r,pb(r)),consumedSegments:l,remainingSegments:c}:null));return a.pipe(pn(u=>null===u?eo(t):this.getChildConfig(n=r._injector??n,r,i).pipe(pn(({routes:l})=>{const c=r._loadedInjector??n,{snapshot:d,consumedSegments:f,remainingSegments:h}=u,{segmentGroup:p,slicedSegments:g}=db(t,f,h,l);if(0===g.length&&p.hasChildren())return this.processChildren(c,l,p).pipe(me(C=>null===C?null:[new Yn(d,C)]));if(0===l.length&&0===g.length)return H([new Yn(d,[])]);const y=cn(r)===o;return this.processSegment(c,l,p,g,y?Z:o,!0).pipe(me(C=>[new Yn(d,C)]))}))))}getChildConfig(n,t,r){return t.children?H({routes:t.children,injector:n}):t.loadChildren?void 0!==t._loadedRoutes?H({routes:t._loadedRoutes,injector:t._loadedInjector}):function vj(e,n,t,r){const i=n.canLoad;return void 0===i||0===i.length?H(!0):H(i.map(s=>{const a=Ji(s,e);return hr(function rj(e){return e&&Rs(e.canLoad)}(a)?a.canLoad(n,t):e.runInContext(()=>a(n,t)))})).pipe(Xi(),ub())}(n,t,r).pipe(Ke(i=>i?this.configLoader.loadChildren(n,t).pipe(ut(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function Dj(e){return ys(rb(!1,3))}())):H({routes:[],injector:n})}}function Nj(e){const n=e.value.routeConfig;return n&&""===n.path}function fb(e){const n=[],t=new Set;for(const r of e){if(!Nj(r)){n.push(r);continue}const i=n.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):n.push(r)}for(const r of t){const i=fb(r.children);n.push(new Yn(r.value,i))}return n.filter(r=>!t.has(r))}function hb(e){return e.data||{}}function pb(e){return e.resolve||{}}function gb(e){return"string"==typeof e.title||null===e.title}function _h(e){return pn(n=>{const t=e(n);return t?We(t).pipe(me(()=>n)):H(n)})}const to=new x("ROUTES");let Dh=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=M(KD)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return H(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=hr(t.loadComponent()).pipe(me(mb),ut(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),nh(()=>{this.componentLoaders.delete(t)})),i=new IC(r,()=>new Jt).pipe(eh());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return H({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function Vj(e,n,t,r){return hr(e.loadChildren()).pipe(me(mb),Ke(i=>i instanceof nD||Array.isArray(i)?H(i):We(n.compileModuleAsync(i))),me(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(t).injector,s=o.get(to,[],{optional:!0,self:!0}).flat()),{routes:s.map(mh),injector:o}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(nh(()=>{this.childrenLoaders.delete(r)})),s=new IC(o,()=>new Jt).pipe(eh());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function mb(e){return function $j(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let il=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Jt,this.transitionAbortSubject=new Jt,this.configLoader=M(Dh),this.environmentInjector=M(qt),this.urlSerializer=M(Cs),this.rootContexts=M(As),this.inputBindingEnabled=null!==M(Xu,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>H(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new NL(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new OL(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new Ut({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:t.urlHandlingStrategy.extract(r),urlAfterRedirects:t.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ss,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(fr(o=>0!==o.id),me(o=>({...o,extractedUrl:t.urlHandlingStrategy.extract(o.rawUrl)})),pn(o=>{this.currentTransition=o;let s=!1,a=!1;return H(o).pipe(ut(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),pn(u=>{const l=u.currentBrowserUrl.toString(),c=!t.navigated||u.extractedUrl.toString()!==l||l!==u.currentUrlTree.toString();if(!c&&"reload"!==(u.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const f="";return this.events.next(new Yi(u.id,this.urlSerializer.serialize(u.rawUrl),f,0)),u.resolve(null),hn}if(t.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return H(u).pipe(pn(f=>{const h=this.transitions?.getValue();return this.events.next(new Qu(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),h!==this.transitions?.getValue()?hn:Promise.resolve(f)}),function Rj(e,n,t,r,i,o){return Ke(s=>function Tj(e,n,t,r,i,o,s="emptyOnly"){return new xj(e,n,t,r,i,s,o).recognize()}(e,n,t,r,s.extractedUrl,i,o).pipe(me(({state:a,tree:u})=>({...s,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),ut(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:f.urlAfterRedirects};const h=new qC(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}));if(c&&t.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:f,extractedUrl:h,source:p,restoredState:g,extras:y}=u,C=new Qu(f,this.urlSerializer.serialize(h),p,g);this.events.next(C);const v=QC(0,this.rootComponentType).snapshot;return this.currentTransition=o={...u,targetSnapshot:v,urlAfterRedirects:h,extras:{...y,skipLocationChange:!1,replaceUrl:!1}},H(o)}{const f="";return this.events.next(new Yi(u.id,this.urlSerializer.serialize(u.extractedUrl),f,1)),u.resolve(null),hn}}),ut(u=>{const l=new ML(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),me(u=>(this.currentTransition=o={...u,guards:JL(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},o)),function lj(e,n){return Ke(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?H({...t,guardsResult:!0}):function cj(e,n,t,r){return We(e).pipe(Ke(i=>function mj(e,n,t,r,i){const o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return o&&0!==o.length?H(o.map(a=>{const u=xs(n)??i,l=Ji(a,u);return hr(function sj(e){return e&&Rs(e.canDeactivate)}(l)?l.canDeactivate(e,n,t,r):u.runInContext(()=>l(e,n,t,r))).pipe(jr())})).pipe(Xi()):H(!0)}(i.component,i.route,t,n,r)),jr(i=>!0!==i,!0))}(s,r,i,e).pipe(Ke(a=>a&&function nj(e){return"boolean"==typeof e}(a)?function dj(e,n,t,r){return We(n).pipe(_s(i=>Xf(function hj(e,n){return null!==e&&n&&n(new RL(e)),H(!0)}(i.route.parent,r),function fj(e,n){return null!==e&&n&&n(new kL(e)),H(!0)}(i.route,r),function gj(e,n,t){const r=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>function XL(e){const n=e.routeConfig?e.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:e,guards:n}:null}(s)).filter(s=>null!==s).map(s=>EC(()=>H(s.guards.map(u=>{const l=xs(s.node)??t,c=Ji(u,l);return hr(function oj(e){return e&&Rs(e.canActivateChild)}(c)?c.canActivateChild(r,e):l.runInContext(()=>c(r,e))).pipe(jr())})).pipe(Xi())));return H(o).pipe(Xi())}(e,i.path,t),function pj(e,n,t){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return H(!0);const i=r.map(o=>EC(()=>{const s=xs(n)??t,a=Ji(o,s);return hr(function ij(e){return e&&Rs(e.canActivate)}(a)?a.canActivate(n,e):s.runInContext(()=>a(n,e))).pipe(jr())}));return H(i).pipe(Xi())}(e,i.route,t))),jr(i=>!0!==i,!0))}(r,o,e,n):H(a)),me(a=>({...t,guardsResult:a})))})}(this.environmentInjector,u=>this.events.next(u)),ut(u=>{if(o.guardsResult=u.guardsResult,Ur(u.guardsResult))throw nb(0,u.guardsResult);const l=new AL(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),fr(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",3),!1)),_h(u=>{if(u.guards.canActivateChecks.length)return H(u).pipe(ut(l=>{const c=new TL(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),pn(l=>{let c=!1;return H(l).pipe(function Pj(e,n){return Ke(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return H(t);let o=0;return We(i).pipe(_s(s=>function kj(e,n,t,r){const i=e.routeConfig,o=e._resolve;return void 0!==i?.title&&!gb(i)&&(o[Ds]=i.title),function Fj(e,n,t,r){const i=function Lj(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===i.length)return H({});const o={};return We(i).pipe(Ke(s=>function jj(e,n,t,r){const i=xs(n)??r,o=Ji(e,i);return hr(o.resolve?o.resolve(n,t):i.runInContext(()=>o(n,t)))}(e[s],n,t,r).pipe(jr(),ut(a=>{o[s]=a}))),th(1),function KF(e){return me(()=>e)}(o),Vr(s=>ab(s)?hn:ys(s)))}(o,e,n,r).pipe(me(s=>(e._resolvedData=s,e.data=KC(e,t).resolve,i&&gb(i)&&(e.data[Ds]=i.title),null)))}(s.route,r,e,n)),ut(()=>o++),th(1),Ke(s=>o===i.length?H(t):hn))})}(t.paramsInheritanceStrategy,this.environmentInjector),ut({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(l,"",2)}}))}),ut(l=>{const c=new xL(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}))}),_h(u=>{const l=c=>{const d=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(c.routeConfig).pipe(ut(f=>{c.component=f}),me(()=>{})));for(const f of c.children)d.push(...l(f));return d};return Jf(l(u.targetSnapshot.root)).pipe(Hu(),qi(1))}),_h(()=>this.afterPreactivation()),me(u=>{const l=function UL(e,n,t){const r=Ts(e,n._root,t?t._root:void 0);return new YC(r,n)}(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o={...u,targetRouterState:l},o}),ut(()=>{this.events.next(new uh)}),((e,n,t,r)=>me(i=>(new KL(n,i.targetRouterState,i.currentRouterState,t,r).activate(e),i)))(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),qi(1),ut({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new pr(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),t.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),function JF(e){return Ue((n,t)=>{xt(e).subscribe(je(t,()=>t.complete(),ie)),!t.closed&&n.subscribe(t)})}(this.transitionAbortSubject.pipe(ut(u=>{throw u}))),nh(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Vr(u=>{if(a=!0,ib(u))this.events.next(new Ms(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),function zL(e){return ib(e)&&Ur(e.url)}(u)?this.events.next(new lh(u.url)):o.resolve(!1);else{this.events.next(new Ku(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(u))}catch(l){o.reject(l)}}return hn}))}))}cancelNavigationTransition(t,r,i){const o=new Ms(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function vb(e){return e!==Ss}let yb=(()=>{class e{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Z);return r}getResolvedTitleForRoute(t){return t.data[Ds]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=R({token:e,factory:function(){return M(Uj)},providedIn:"root"})}}return e})(),Uj=(()=>{class e extends yb{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||e)(P(mC))}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Bj=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=R({token:e,factory:function(){return M(zj)},providedIn:"root"})}}return e})();class Hj{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}}let zj=(()=>{class e extends Hj{static{this.\u0275fac=function(){let t;return function(i){return(t||(t=nt(e)))(i||e)}}()}static{this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const ol=new x("",{providedIn:"root",factory:()=>({})});let Gj=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=R({token:e,factory:function(){return M(qj)},providedIn:"root"})}}return e})(),qj=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Ps=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Ps||{});function _b(e,n){e.events.pipe(fr(t=>t instanceof pr||t instanceof Ms||t instanceof Ku||t instanceof Yi),me(t=>t instanceof pr||t instanceof Yi?Ps.COMPLETE:t instanceof Ms&&(0===t.code||1===t.code)?Ps.REDIRECTING:Ps.FAILED),fr(t=>t!==Ps.REDIRECTING),qi(1)).subscribe(()=>{n()})}function Wj(e){throw e}function Zj(e,n,t){return n.parse("/")}const Yj={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Qj={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let At=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=M(YD),this.isNgZoneEnabled=!1,this._events=new Jt,this.options=M(ol,{optional:!0})||{},this.pendingTasks=M(QD),this.errorHandler=this.options.errorHandler||Wj,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Zj,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=M(Gj),this.routeReuseStrategy=M(Bj),this.titleStrategy=M(yb),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=M(to,{optional:!0})?.flat()??[],this.navigationTransitions=M(il),this.urlSerializer=M(Cs),this.location=M(Sf),this.componentInputBindingEnabled=!!M(Xu,{optional:!0}),this.eventsSubscription=new _,this.isNgZoneEnabled=M(we)instanceof we&&we.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Zi,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=QC(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(Db(r)&&this._events.next(r));if(r instanceof Qu)vb(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof Yi)this.rawUrlTree=i.rawUrl;else if(r instanceof qC){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(o,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof uh)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Ms)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof lh){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),s={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||vb(i.source)};this.scheduleNavigation(o,Ss,null,s,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof Ku&&this.restoreHistory(i,!0),r instanceof pr&&(this.navigated=!0),Db(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ss,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(o.state=u)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(mh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s;let d,c=null;switch(a){case"merge":c={...this.currentUrlTree.queryParams,...o};break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=o||null}null!==c&&(c=this.removeEmptyProps(c));try{d=VC(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),d=this.currentUrlTree.root}return $C(d,t,c,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Ur(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Ss,null,r)}navigate(t,r={skipLocationChange:!1}){return function Kj(e){for(let n=0;n<e.length;n++)if(null==e[n])throw new b(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...Yj}:!1===r?{...Qj}:r,Ur(t))return xC(this.currentUrlTree,t,i);const o=this.parseUrl(t);return xC(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((d,f)=>{a=d,u=f});const c=this.pendingTasks.add();return _b(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(c))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Db(e){return!(e instanceof uh||e instanceof lh)}class wb{}let eV=(()=>{class e{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(fr(t=>t instanceof pr),_s(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=qd(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return We(i).pipe(Zr())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):H(null);const o=i.pipe(Ke(s=>null===s?H(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return r.loadComponent&&!r._loadedComponent?We([o,this.loader.loadComponent(r)]).pipe(Zr()):o})}static{this.\u0275fac=function(r){return new(r||e)(P(At),P(KD),P(qt),P(wb),P(Dh))}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const Ch=new x("");let Cb=(()=>{class e{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Qu?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof pr?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Yi&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof WC&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new WC(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){!function zv(){throw new Error("invalid")}()}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac})}}return e})();function Qn(e,n){return{\u0275kind:e,\u0275providers:n}}function Eb(){const e=M(Ft);return n=>{const t=e.get(Hi);if(n!==t.components[0])return;const r=e.get(At),i=e.get(Ib);1===e.get(bh)&&r.initialNavigation(),e.get(Sb,null,K.Optional)?.setUpPreloading(),e.get(Ch,null,K.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const Ib=new x("",{factory:()=>new Jt}),bh=new x("",{providedIn:"root",factory:()=>1}),Sb=new x("");function iV(e){return Qn(0,[{provide:Sb,useExisting:eV},{provide:wb,useExisting:e}])}const Mb=new x("ROUTER_FORROOT_GUARD"),sV=[Sf,{provide:Cs,useClass:rh},At,As,{provide:Ki,useFactory:function bb(e){return e.routerState.root},deps:[At]},Dh,[]];function aV(){return new iw("Router",At)}let Ab=(()=>{class e{constructor(t){}static forRoot(t,r){return{ngModule:e,providers:[sV,[],{provide:to,multi:!0,useValue:t},{provide:Mb,useFactory:dV,deps:[[At,new Da,new wa]]},{provide:ol,useValue:r||{}},r?.useHash?{provide:Lr,useClass:gk}:{provide:Lr,useClass:kw},{provide:Ch,useFactory:()=>{const e=M(k1),n=M(we),t=M(ol),r=M(il),i=M(Cs);return t.scrollOffset&&e.setOffset(t.scrollOffset),new Cb(i,r,e,n,t)}},r?.preloadingStrategy?iV(r.preloadingStrategy).\u0275providers:[],{provide:iw,multi:!0,useFactory:aV},r?.initialNavigation?fV(r):[],r?.bindToComponentInputs?Qn(8,[tb,{provide:Xu,useExisting:tb}]).\u0275providers:[],[{provide:Tb,useFactory:Eb},{provide:mf,multi:!0,useExisting:Tb}]]}}static forChild(t){return{ngModule:e,providers:[{provide:to,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||e)(P(Mb,8))}}static{this.\u0275mod=mn({type:e})}static{this.\u0275inj=Xt({})}}return e})();function dV(e){return"guarded"}function fV(e){return["disabled"===e.initialNavigation?Qn(3,[{provide:uf,multi:!0,useFactory:()=>{const n=M(At);return()=>{n.setUpLocationChangeListener()}}},{provide:bh,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?Qn(2,[{provide:bh,useValue:0},{provide:uf,multi:!0,deps:[Ft],useFactory:n=>{const t=n.get(hk,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=n.get(At),o=n.get(Ib);_b(i,()=>{r(!0)}),n.get(il).afterPreactivation=()=>(r(!0),o.closed?H(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const Tb=new x("");let Eh=(()=>{class e{constructor(t){this.router=t,this.users=[{id:1,name:"Alice",chosen:!1},{id:2,name:"Bob",chosen:!1},{id:3,name:"Lily",chosen:!1}],this.loggedInUser=null}login(t){const r=this.users.find(i=>i.name.toLowerCase()===t.toLowerCase());return!!r&&(this.loggedInUser=r,this.router.navigate(["/dashboard"]),!0)}getLoggedInUser(){return this.loggedInUser}getAvailableUsers(){return this.users.filter(t=>t!==this.loggedInUser&&!t.chosen)}markUserAsChosen(t){const r=this.users.find(i=>i.id===t);r&&(r.chosen=!0)}static{this.\u0275fac=function(r){return new(r||e)(P(At))}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),xb=(()=>{class e{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||e)(E($n),E(kt))}}static{this.\u0275dir=U({type:e})}}return e})(),Br=(()=>{class e extends xb{static{this.\u0275fac=function(){let t;return function(i){return(t||(t=nt(e)))(i||e)}}()}static{this.\u0275dir=U({type:e,features:[fe]})}}return e})();const Tn=new x("NgValueAccessor"),mV={provide:Tn,useExisting:ye(()=>sl),multi:!0},yV=new x("CompositionEventMode");let sl=(()=>{class e extends xb{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function vV(){const e=cr()?cr().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||e)(E($n),E(kt),E(yV,8))}}static{this.\u0275dir=U({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Ze("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Me([mV]),fe]})}}return e})();const lt=new x("NgValidators"),mr=new x("NgAsyncValidators");function kb(e){return function gr(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}(e.value)?{required:!0}:null}function al(e){return null}function Ub(e){return null!=e}function Bb(e){return ts(e)?We(e):e}function Hb(e){let n={};return e.forEach(t=>{n=null!=t?{...n,...t}:n}),0===Object.keys(n).length?null:n}function zb(e,n){return n.map(t=>t(e))}function Gb(e){return e.map(n=>function DV(e){return!e.validate}(n)?n:t=>n.validate(t))}function Ih(e){return null!=e?function qb(e){if(!e)return null;const n=e.filter(Ub);return 0==n.length?null:function(t){return Hb(zb(t,n))}}(Gb(e)):null}function Sh(e){return null!=e?function Wb(e){if(!e)return null;const n=e.filter(Ub);return 0==n.length?null:function(t){return function pV(...e){const n=Rp(e),{args:t,keys:r}=DC(e),i=new Le(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let u=s,l=s;for(let c=0;c<s;c++){let d=!1;xt(t[c]).subscribe(je(o,f=>{d||(d=!0,l--),a[c]=f},()=>u--,void 0,()=>{(!u||!d)&&(l||o.next(r?CC(r,a):a),o.complete())}))}});return n?i.pipe(wC(n)):i}(zb(t,n).map(Bb)).pipe(me(Hb))}}(Gb(e)):null}function Zb(e,n){return null===e?[n]:Array.isArray(e)?[...e,n]:[e,n]}function Mh(e){return e?Array.isArray(e)?e:[e]:[]}function ul(e,n){return Array.isArray(e)?e.includes(n):e===n}function Kb(e,n){const t=Mh(n);return Mh(e).forEach(i=>{ul(t,i)||t.push(i)}),t}function Jb(e,n){return Mh(n).filter(t=>!ul(e,t))}class Xb{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=Ih(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=Sh(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return!!this.control&&this.control.hasError(n,t)}getError(n,t){return this.control?this.control.getError(n,t):null}}class Dt extends Xb{get formDirective(){return null}get path(){return null}}class vr extends Xb{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class eE{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Ah=(()=>{class e extends eE{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||e)(E(vr,2))}}static{this.\u0275dir=U({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&ns("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[fe]})}}return e})(),Th=(()=>{class e extends eE{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||e)(E(Dt,10))}}static{this.\u0275dir=U({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&ns("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[fe]})}}return e})();const ks="VALID",cl="INVALID",no="PENDING",Fs="DISABLED";function Nh(e){return(dl(e)?e.validators:e)||null}function Rh(e,n){return(dl(n)?n.asyncValidators:e)||null}function dl(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class Ph{constructor(n,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===ks}get invalid(){return this.status===cl}get pending(){return this.status==no}get disabled(){return this.status===Fs}get enabled(){return this.status!==Fs}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(Kb(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(Kb(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(Jb(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(Jb(n,this._rawAsyncValidators))}hasValidator(n){return ul(this._rawValidators,n)}hasAsyncValidator(n){return ul(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=no,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=Fs,this.errors=null,this._forEachChild(r=>{r.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=ks,this._forEachChild(r=>{r.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ks||this.status===no)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Fs:ks}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=no,this._hasOwnPendingAsyncValidator=!0;const t=Bb(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(!1!==t.emitEvent)}get(n){let t=n;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(n,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new Ne,this.statusChanges=new Ne}_calculateStatus(){return this._allControlsDisabled()?Fs:this.errors?cl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(no)?no:this._anyControlsHaveStatus(cl)?cl:ks}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){dl(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function EV(e){return Array.isArray(e)?Ih(e):e||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function IV(e){return Array.isArray(e)?Sh(e):e||null}(this._rawAsyncValidators)}}class kh extends Ph{constructor(n,t,r){super(Nh(t),Rh(r,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,t){return this.controls[n]?this.controls[n]:(this.controls[n]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(n,t,r={}){this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(n,t,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],t&&this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,t={}){(function rE(e,n,t){e._forEachChild((r,i)=>{if(void 0===t[i])throw new b(1002,"")})})(this,0,n),Object.keys(n).forEach(r=>{(function nE(e,n,t){const r=e.controls;if(!(n?Object.keys(r):r).length)throw new b(1e3,"");if(!r[t])throw new b(1001,"")})(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){null!=n&&(Object.keys(n).forEach(r=>{const i=this.controls[r];i&&i.patchValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n={},t={}){this._forEachChild((r,i)=>{r.reset(n?n[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(n,t,r)=>(n[r]=t.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&n(r,t)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&n(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(n,t){let r=n;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}const ro=new x("CallSetDisabledState",{providedIn:"root",factory:()=>fl}),fl="always";function Ls(e,n,t=fl){Fh(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||"always"===t)&&n.valueAccessor.setDisabledState?.(e.disabled),function AV(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&iE(e,n)})}(e,n),function xV(e,n){const t=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}(e,n),function TV(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&iE(e,n),"submit"!==e.updateOn&&e.markAsTouched()})}(e,n),function MV(e,n){if(n.valueAccessor.setDisabledState){const t=r=>{n.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}(e,n)}function gl(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function Fh(e,n){const t=function Yb(e){return e._rawValidators}(e);null!==n.validator?e.setValidators(Zb(t,n.validator)):"function"==typeof t&&e.setValidators([t]);const r=function Qb(e){return e._rawAsyncValidators}(e);null!==n.asyncValidator?e.setAsyncValidators(Zb(r,n.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();gl(n._rawValidators,i),gl(n._rawAsyncValidators,i)}function iE(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}const kV={provide:Dt,useExisting:ye(()=>Vs)},js=(()=>Promise.resolve())();let Vs=(()=>{class e extends Dt{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Ne,this.form=new kh({},Ih(t),Sh(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){js.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Ls(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){js.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){js.then(()=>{const r=this._findContainer(t.path),i=new kh({});(function oE(e,n){Fh(e,n)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){js.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){js.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function sE(e,n){e._syncPendingControls(),n.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||e)(E(lt,10),E(mr,10),E(ro,8))}}static{this.\u0275dir=U({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&Ze("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Me([kV]),fe]})}}return e})();function aE(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}function uE(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const lE=class extends Ph{constructor(n=null,t,r){super(Nh(t),Rh(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),dl(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=uE(n)?n.value:n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){aE(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){aE(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){uE(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},jV={provide:vr,useExisting:ye(()=>vl)},fE=(()=>Promise.resolve())();let vl=(()=>{class e extends vr{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new lE,this._registered=!1,this.name="",this.update=new Ne,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Vh(e,n){if(!n)return null;let t,r,i;return Array.isArray(n),n.forEach(o=>{o.constructor===sl?t=o:function RV(e){return Object.getPrototypeOf(e.constructor)===Br}(o)?r=o:i=o}),i||r||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function jh(e,n){if(!e.hasOwnProperty("model"))return!1;const t=e.model;return!!t.isFirstChange()||!Object.is(n,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ls(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){fE.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&zi(r);fE.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function hl(e,n){return[...n.path,e]}(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||e)(E(Dt,9),E(lt,10),E(mr,10),E(Tn,10),E(bu,8),E(ro,8))}}static{this.\u0275dir=U({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Me([jV]),fe,zt]})}}return e})(),$h=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=U({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return e})(),pE=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=mn({type:e})}static{this.\u0275inj=Xt({})}}return e})();const ZV={provide:Tn,useExisting:ye(()=>yl),multi:!0};function wE(e,n){return null==e?`${n}`:(n&&"object"==typeof n&&(n="Object"),`${e}: ${n}`.slice(0,50))}let yl=(()=>{class e extends Br{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=wE(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function YV(e){return e.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=function(){let t;return function(i){return(t||(t=nt(e)))(i||e)}}()}static{this.\u0275dir=U({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&Ze("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Me([ZV]),fe]})}}return e})(),CE=(()=>{class e{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(wE(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||e)(E(kt),E($n),E(yl,9))}}static{this.\u0275dir=U({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return e})();const QV={provide:Tn,useExisting:ye(()=>zh),multi:!0};function bE(e,n){return null==e?`${n}`:("string"==typeof n&&(n=`'${n}'`),n&&"object"==typeof n&&(n="Object"),`${e}: ${n}`.slice(0,50))}let zh=(()=>{class e extends Br{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],o=r.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const l=this._getOptionValue(s[a].value);i.push(l)}}else{const s=r.options;for(let a=0;a<s.length;a++){const u=s[a];if(u.selected){const l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function KV(e){return e.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=function(){let t;return function(i){return(t||(t=nt(e)))(i||e)}}()}static{this.\u0275dir=U({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&Ze("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Me([QV]),fe]})}}return e})(),EE=(()=>{class e{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(bE(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(bE(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||e)(E(kt),E($n),E(zh,9))}}static{this.\u0275dir=U({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return e})(),Hr=(()=>{class e{constructor(){this._validator=al}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):al,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=U({type:e,features:[zt]})}}return e})();const e$={provide:lt,useExisting:ye(()=>$s),multi:!0};let $s=(()=>{class e extends Hr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=zi,this.createValidator=t=>kb}enabled(t){return t}static{this.\u0275fac=function(){let t;return function(i){return(t||(t=nt(e)))(i||e)}}()}static{this.\u0275dir=U({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&En("required",i._enabled?"":null)},inputs:{required:"required"},features:[Me([e$]),fe]})}}return e})(),s$=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=mn({type:e})}static{this.\u0275inj=Xt({imports:[pE]})}}return e})(),u$=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:ro,useValue:t.callSetDisabledState??fl}]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=mn({type:e})}static{this.\u0275inj=Xt({imports:[s$]})}}return e})();function l$(e,n){1&e&&(he(0,"div",4),Ye(1,"Login failed. Please try again."),ge())}function d$(e,n){if(1&e&&(he(0,"span"),Ye(1),ge()),2&e){const t=mt().$implicit;Te(1),fu(t.userName)}}function f$(e,n){1&e&&(he(0,"span"),Ye(1,"?"),ge())}function h$(e,n){if(1&e){const t=lu();he(0,"div",3),Ze("click",function(){const o=Io(t).$implicit;return So(mt().revealBox(o))}),gt(1,d$,2,1,"span",4),gt(2,f$,2,0,"span",4),ge()}if(2&e){const t=n.$implicit;Fd("background-color",t.color),Te(1),Ve("ngIf",t.revealed),Te(1),Ve("ngIf",!t.revealed)}}function p$(e,n){if(1&e&&(he(0,"div",5)(1,"p"),Ye(2),ge()()),2&e){const t=mt();Te(2),Rr("Your secret santa is ",t.selectedUserName,"")}}const g$=[{path:"",component:(()=>{class e{constructor(t){this.userService=t,this.name="",this.loginFailed=!1}login(){this.userService.login(this.name)||(this.loginFailed=!0)}static{this.\u0275fac=function(r){return new(r||e)(E(Eh))}}static{this.\u0275cmp=mo({type:e,selectors:[["app-login"]],decls:7,vars:2,consts:[[3,"ngSubmit"],["type","text","placeholder","Enter your name","name","name","required","",3,"ngModel","ngModelChange"],["type","submit"],["class","error",4,"ngIf"],[1,"error"]],template:function(r,i){1&r&&(he(0,"h2"),Ye(1,"Login"),ge(),he(2,"form",0),Ze("ngSubmit",function(){return i.login()}),he(3,"input",1),Ze("ngModelChange",function(s){return i.name=s}),ge(),he(4,"button",2),Ye(5,"Login"),ge()(),gt(6,l$,2,0,"div",3)),2&r&&(Te(3),Ve("ngModel",i.name),Te(3),Ve("ngIf",i.loginFailed))},dependencies:[ju,$h,sl,Ah,Th,$s,vl,Vs]})}}return e})()},{path:"dashboard",component:(()=>{class e{constructor(t){this.userService=t,this.boxes=[],this.selectedUserName=null,this.colors=["#ffadad","#ffd6a5","#fdffb6","#caffbf","#9bf6ff","#a0c4ff","#bdb2ff","#ffc6ff"]}ngOnInit(){this.generateBoxes()}generateBoxes(){const t=this.userService.getAvailableUsers();this.boxes=t.map((r,i)=>({id:r.id,color:this.colors[i%this.colors.length],userName:r.name,revealed:!1}))}revealBox(t){this.selectedUserName||(t.revealed=!0,this.selectedUserName=t.userName,this.userService.markUserAsChosen(t.id))}static{this.\u0275fac=function(r){return new(r||e)(E(Eh))}}static{this.\u0275cmp=mo({type:e,selectors:[["app-dashboard"]],decls:5,vars:2,consts:[[1,"box-container"],["class","box",3,"backgroundColor","click",4,"ngFor","ngForOf"],["class","selection-message",4,"ngIf"],[1,"box",3,"click"],[4,"ngIf"],[1,"selection-message"]],template:function(r,i){1&r&&(he(0,"h2"),Ye(1,"Choose a Secret Santa"),ge(),he(2,"div",0),gt(3,h$,3,4,"div",1),ge(),gt(4,p$,3,1,"div",2)),2&r&&(Te(3),Ve("ngForOf",i.boxes),Te(1),Ve("ngIf",i.selectedUserName))},dependencies:[Lf,ju],styles:[".box-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}.box[_ngcontent-%COMP%]{width:100px;height:100px;display:flex;align-items:center;justify-content:center;font-size:1.5em;cursor:pointer;color:#fff;font-weight:700}.selection-message[_ngcontent-%COMP%]{margin-top:20px;font-size:1.2em;color:#333}"]})}}return e})(),canActivate:[(()=>{class e{constructor(t,r){this.userService=t,this.router=r}canActivate(){return!!this.userService.getLoggedInUser()||(this.router.navigate(["/"]),!1)}static{this.\u0275fac=function(r){return new(r||e)(P(Eh),P(At))}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})()]}];let m$=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=mn({type:e})}static{this.\u0275inj=Xt({imports:[Ab.forRoot(g$),Ab]})}}return e})();function PE(e,n,t,r,i,o,s){try{var a=e[o](s),u=a.value}catch(l){return void t(l)}a.done?n(u):Promise.resolve(u).then(r,i)}function m(e){return function(){var n=this,t=arguments;return new Promise(function(r,i){var o=e.apply(n,t);function s(u){PE(o,r,i,s,a,"next",u)}function a(u){PE(o,r,i,s,a,"throw",u)}s(void 0)})}}class Gh extends Error{constructor(n,t="FunctionsError",r){super(n),this.name=t,this.context=r}}class y$ extends Gh{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class _$ extends Gh{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class D$ extends Gh{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var kE=function(e){return e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2",e}(kE||{});class C${constructor(n,{headers:t={},customFetch:r,region:i=kE.Any}={}){this.url=n,this.headers=t,this.region=i,this.fetch=(e=>{let n;return n=e||(typeof fetch>"u"?(...t)=>Promise.resolve().then(B.bind(B,286)).then(({default:r})=>r(...t)):fetch),(...t)=>n(...t)})(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,t={}){var r;return function(e,n,t,r){return new(t||(t=Promise))(function(o,s){function a(c){try{l(r.next(c))}catch(d){s(d)}}function u(c){try{l(r.throw(c))}catch(d){s(d)}}function l(c){c.done?o(c.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(c.value).then(a,u)}l((r=r.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){try{const{headers:i,method:o,body:s}=t;let l,a={},{region:u}=t;u||(u=this.region),u&&"any"!==u&&(a["x-region"]=u),s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",l=s):"string"==typeof s?(a["Content-Type"]="text/plain",l=s):typeof FormData<"u"&&s instanceof FormData?l=s:(a["Content-Type"]="application/json",l=JSON.stringify(s)));const c=yield this.fetch(`${this.url}/${n}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:l}).catch(p=>{throw new y$(p)}),d=c.headers.get("x-relay-error");if(d&&"true"===d)throw new _$(c);if(!c.ok)throw new D$(c);let h,f=(null!==(r=c.headers.get("Content-Type"))&&void 0!==r?r:"text/plain").split(";")[0].trim();return h="application/json"===f?yield c.json():"application/octet-stream"===f?yield c.blob():"text/event-stream"===f?c:"multipart/form-data"===f?yield c.formData():yield c.text(),{data:h,error:null}}catch(i){return{data:null,error:i}}})}}var b$=B(60);const{PostgrestClient:FE}=b$,A$={"X-Client-Info":"realtime-js/2.10.7"};var Us=function(e){return e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed",e}(Us||{}),Kt=function(e){return e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving",e}(Kt||{}),xn=function(e){return e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token",e}(xn||{}),jE=function(e){return e.websocket="websocket",e}(jE||{}),io=function(e){return e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed",e}(io||{});class O${constructor(){this.HEADER_LENGTH=1}decode(n,t){return n.constructor===ArrayBuffer?t(this._binaryDecode(n)):t("string"==typeof n?JSON.parse(n):{})}_binaryDecode(n){const t=new DataView(n),r=new TextDecoder;return this._decodeBroadcast(n,t,r)}_decodeBroadcast(n,t,r){const i=t.getUint8(1),o=t.getUint8(2);let s=this.HEADER_LENGTH+2;const a=r.decode(n.slice(s,s+i));s+=i;const u=r.decode(n.slice(s,s+o));return s+=o,{ref:null,topic:a,event:u,payload:JSON.parse(r.decode(n.slice(s,n.byteLength)))}}}class VE{constructor(n,t){this.callback=n,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ee=function(e){return e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange",e}(Ee||{});const $E=(e,n,t={})=>{var r;const i=null!==(r=t.skipTypes)&&void 0!==r?r:[];return Object.keys(n).reduce((o,s)=>(o[s]=N$(s,e,n,i),o),{})},N$=(e,n,t,r)=>{const i=n.find(a=>a.name===e),o=i?.type,s=t[e];return o&&!r.includes(o)?UE(o,s):qh(s)},UE=(e,n)=>{if("_"===e.charAt(0)){const t=e.slice(1,e.length);return F$(n,t)}switch(e){case Ee.bool:return R$(n);case Ee.float4:case Ee.float8:case Ee.int2:case Ee.int4:case Ee.int8:case Ee.numeric:case Ee.oid:return P$(n);case Ee.json:case Ee.jsonb:return k$(n);case Ee.timestamp:return L$(n);default:return qh(n)}},qh=e=>e,R$=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},P$=e=>{if("string"==typeof e){const n=parseFloat(e);if(!Number.isNaN(n))return n}return e},k$=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(n){return console.log(`JSON parse error: ${n}`),e}return e},F$=(e,n)=>{if("string"!=typeof e)return e;const t=e.length-1;if("{"===e[0]&&"}"===e[t]){let o;const s=e.slice(1,t);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>UE(n,a))}return e},L$=e=>"string"==typeof e?e.replace(" ","T"):e,BE=e=>{let n=e;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")};class Wh{constructor(n,t,r={},i=1e4){this.channel=n,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,t){var r;return this._hasReceived(n)&&t(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:n,callback:t}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref),this.channel._on(this.refEvent,{},t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout))}trigger(n,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:t}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(t))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}class Bs{constructor(n,t){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Bs.syncState(this.state,i,o,s),this.pendingDiffs.forEach(u=>{this.state=Bs.syncDiff(this.state,u,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Bs.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,t,r,i){const o=this.cloneDeep(n),s=this.transformState(t),a={},u={};return this.map(o,(l,c)=>{s[l]||(u[l]=c)}),this.map(s,(l,c)=>{const d=o[l];if(d){const f=c.map(y=>y.presence_ref),h=d.map(y=>y.presence_ref),p=c.filter(y=>h.indexOf(y.presence_ref)<0),g=d.filter(y=>f.indexOf(y.presence_ref)<0);p.length>0&&(a[l]=p),g.length>0&&(u[l]=g)}else a[l]=c}),this.syncDiff(o,{joins:a,leaves:u},r,i)}static syncDiff(n,t,r,i){const{joins:o,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,u)=>{var l;const c=null!==(l=n[a])&&void 0!==l?l:[];if(n[a]=this.cloneDeep(u),c.length>0){const d=n[a].map(h=>h.presence_ref),f=c.filter(h=>d.indexOf(h.presence_ref)<0);n[a].unshift(...f)}r(a,c,u)}),this.map(s,(a,u)=>{let l=n[a];if(!l)return;const c=u.map(d=>d.presence_ref);l=l.filter(d=>c.indexOf(d.presence_ref)<0),n[a]=l,i(a,l,u),0===l.length&&delete n[a]}),n}static map(n,t){return Object.getOwnPropertyNames(n).map(r=>t(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((t,r)=>{const i=n[r];return t[r]="metas"in i?i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):i,t},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}class Zh{constructor(n,t={config:{}},r){this.topic=n,this.params=t,this.socket=r,this.bindings={},this.state=Kt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Wh(this,xn.join,this.params,this.timeout),this.rejoinTimer=new VE(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Kt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Kt.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Kt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Kt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(xn.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new Bs(this),this.broadcastEndpointURL=BE(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(n,t=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:s,private:a}}=this.params;this._onError(c=>n&&n("CHANNEL_ERROR",c)),this._onClose(()=>n&&n("CLOSED"));const u={},l={broadcast:o,presence:s,postgres_changes:null!==(i=null===(r=this.bindings.postgres_changes)||void 0===r?void 0:r.map(c=>c.filter))&&void 0!==i?i:[],private:a};this.socket.accessToken&&(u.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:l},u)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",({postgres_changes:c})=>{var d;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),void 0!==c){const f=this.bindings.postgres_changes,h=null!==(d=f?.length)&&void 0!==d?d:0,p=[];for(let g=0;g<h;g++){const y=f[g],{filter:{event:C,schema:v,table:A,filter:O}}=y,F=c&&c[g];if(!F||F.event!==C||F.schema!==v||F.table!==A||F.filter!==O)return this.unsubscribe(),void(n&&n("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes")));p.push(Object.assign(Object.assign({},y),{id:F.id}))}return this.bindings.postgres_changes=p,void(n&&n("SUBSCRIBED"))}n&&n("SUBSCRIBED")}).receive("error",c=>{n&&n("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{n&&n("TIMED_OUT")})}return this}presenceState(){return this.presence.state}track(n,t={}){var r=this;return m(function*(){return yield r.send({type:"presence",event:"track",payload:n},t.timeout||r.timeout)})()}untrack(n={}){var t=this;return m(function*(){return yield t.send({type:"presence",event:"untrack"},n)})()}on(n,t,r){return this._on(n,t,r)}send(n,t={}){var r=this;return m(function*(){var i,o;if(r._canPush()||"broadcast"!==n.type)return new Promise(s=>{var a,u,l;const c=r._push(n.type,n,t.timeout||r.timeout);"broadcast"===n.type&&!(null!==(l=null===(u=null===(a=r.params)||void 0===a?void 0:a.config)||void 0===u?void 0:u.broadcast)&&void 0!==l&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))});{const{event:s,payload:a}=n,u={method:"POST",headers:{Authorization:r.socket.accessToken?`Bearer ${r.socket.accessToken}`:"",apikey:r.socket.apiKey?r.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:r.subTopic,event:s,payload:a,private:r.private}]})};try{const l=yield r._fetchWithTimeout(r.broadcastEndpointURL,u,null!==(i=t.timeout)&&void 0!==i?i:r.timeout);return yield null===(o=l.body)||void 0===o?void 0:o.cancel(),l.ok?"ok":"error"}catch(l){return"AbortError"===l.name?"timed out":"error"}}})()}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Kt.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(xn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new Wh(this,xn.leave,{},n);i.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}_fetchWithTimeout(n,t,r){var i=this;return m(function*(){const o=new AbortController,s=setTimeout(()=>o.abort(),r),a=yield i.socket.fetch(n,Object.assign(Object.assign({},t),{signal:o.signal}));return clearTimeout(s),a})()}_push(n,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Wh(this,n,t,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(n,t,r){return t}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,t,r){var i,o;const s=n.toLocaleLowerCase(),{close:a,error:u,leave:l,join:c}=xn;if(r&&[a,u,l,c].indexOf(s)>=0&&r!==this._joinRef())return;let f=this._onMessage(s,t,r);if(t&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?null===(i=this.bindings.postgres_changes)||void 0===i||i.filter(h=>{var p,g,y;return"*"===(null===(p=h.filter)||void 0===p?void 0:p.event)||(null===(y=null===(g=h.filter)||void 0===g?void 0:g.event)||void 0===y?void 0:y.toLocaleLowerCase())===s}).map(h=>h.callback(f,r)):null===(o=this.bindings[s])||void 0===o||o.filter(h=>{var p,g,y,C,v,A;if(["broadcast","presence","postgres_changes"].includes(s)){if("id"in h){const O=h.id,F=null===(p=h.filter)||void 0===p?void 0:p.event;return O&&(null===(g=t.ids)||void 0===g?void 0:g.includes(O))&&("*"===F||F?.toLocaleLowerCase()===(null===(y=t.data)||void 0===y?void 0:y.type.toLocaleLowerCase()))}{const O=null===(v=null===(C=h?.filter)||void 0===C?void 0:C.event)||void 0===v?void 0:v.toLocaleLowerCase();return"*"===O||O===(null===(A=t?.event)||void 0===A?void 0:A.toLocaleLowerCase())}}return h.type.toLocaleLowerCase()===s}).map(h=>{if("object"==typeof f&&"ids"in f){const p=f.data,{schema:g,table:y,commit_timestamp:C,type:v,errors:A}=p;f=Object.assign(Object.assign({},{schema:g,table:y,commit_timestamp:C,eventType:v,new:{},old:{},errors:A}),this._getPayloadRecords(p))}h.callback(f,r)})}_isClosed(){return this.state===Kt.closed}_isJoined(){return this.state===Kt.joined}_isJoining(){return this.state===Kt.joining}_isLeaving(){return this.state===Kt.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,t,r){const i=n.toLocaleLowerCase(),o={type:i,filter:t,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(n,t){const r=n.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var o;return!((null===(o=i.type)||void 0===o?void 0:o.toLocaleLowerCase())===r&&Zh.isEqual(i.filter,t))}),this}static isEqual(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(const r in n)if(n[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(xn.close,{},n)}_onError(n){this._on(xn.error,{},t=>n(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Kt.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const t={new:{},old:{}};return("INSERT"===n.type||"UPDATE"===n.type)&&(t.new=$E(n.columns,n.record)),("UPDATE"===n.type||"DELETE"===n.type)&&(t.old=$E(n.columns,n.old_record)),t}}const B$=()=>{},H$=typeof WebSocket<"u";class G${constructor(n,t){var i,r=this;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=A$,this.params={},this.timeout=1e4,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=B$,this.conn=null,this.sendBuffer=[],this.serializer=new O$,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=s=>{let a;return a=s||(typeof fetch>"u"?(...u)=>Promise.resolve().then(B.bind(B,286)).then(({default:l})=>l(...u)):fetch),(...u)=>a(...u)},this.endPoint=`${n}/${jE.websocket}`,this.httpEndpoint=BE(n),this.transport=t?.transport?t.transport:null,t?.params&&(this.params=t.params),t?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t?.timeout&&(this.timeout=t.timeout),t?.logger&&(this.logger=t.logger),t?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const o=null===(i=t?.params)||void 0===i?void 0:i.apikey;if(o&&(this.accessToken=o,this.apiKey=o),this.reconnectAfterMs=t?.reconnectAfterMs?t.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=t?.encode?t.encode:(s,a)=>a(JSON.stringify(s)),this.decode=t?.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new VE(m(function*(){r.disconnect(),r.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(t?.fetch),t?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=t?.worker||!1,this.workerUrl=t?.workerUrl}}connect(){if(!this.conn){if(this.transport)return void(this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers}));if(H$)return this.conn=new WebSocket(this._endPointURL()),void this.setupConnection();this.conn=new q$(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),B.e(8).then(B.t.bind(B,8,23)).then(({default:n})=>{this.conn=new n(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(n,t){this.conn&&(this.conn.onclose=function(){},n?this.conn.close(n,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(n){var t=this;return m(function*(){const r=yield n.unsubscribe();return 0===t.channels.length&&t.disconnect(),r})()}removeAllChannels(){var n=this;return m(function*(){const t=yield Promise.all(n.channels.map(r=>r.unsubscribe()));return n.disconnect(),t})()}log(n,t,r){this.logger(n,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Us.connecting:return io.Connecting;case Us.open:return io.Open;case Us.closing:return io.Closing;default:return io.Closed}}isConnected(){return this.connectionState()===io.Open}channel(n,t={config:{}}){const r=new Zh(`realtime:${n}`,t,this);return this.channels.push(r),r}push(n){const{topic:t,event:r,payload:i,ref:o}=n,s=()=>{this.encode(n,a=>{var u;null===(u=this.conn)||void 0===u||u.send(a)})};this.log("push",`${t} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(n){this.accessToken=n,this.channels.forEach(t=>{n&&t.updateJoinPayload({access_token:n}),t.joinedOnce&&t._isJoined()&&t._push(xn.access_token,{access_token:n})})}_makeRef(){let n=this.ref+1;return this.ref=n===this.ref?0:n,this.ref.toString()}_leaveOpenTopic(n){let t=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${n}"`),t.unsubscribe())}_remove(n){this.channels=this.channels.filter(t=>t._joinRef()!==n._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}_onConnMessage(n){this.decode(n.data,t=>{let{topic:r,event:i,payload:o,ref:s}=t;(s&&s===this.pendingHeartbeatRef||i===o?.type)&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${i} ${s&&"("+s+")"||""}`,o),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,o,s)),this.stateChangeCallbacks.message.forEach(a=>a(t))})}_onConnOpen(){var n=this;return m(function*(){if(n.log("transport",`connected to ${n._endPointURL()}`),n._flushSendBuffer(),n.reconnectTimer.reset(),n.worker){n.log("worker",n.workerUrl?`starting worker for from ${n.workerUrl}`:"starting default worker");const t=n._workerObjectUrl(n.workerUrl);n.workerRef=new Worker(t),n.workerRef.onerror=r=>{n.log("worker","worker error",r.message),n.workerRef.terminate()},n.workerRef.onmessage=r=>{"keepAlive"===r.data.event&&n._sendHeartbeat()},n.workerRef.postMessage({event:"start",interval:n.heartbeatIntervalMs})}else n.heartbeatTimer&&clearInterval(n.heartbeatTimer),n.heartbeatTimer=setInterval(()=>n._sendHeartbeat(),n.heartbeatIntervalMs);n.stateChangeCallbacks.open.forEach(t=>t())})()}_onConnClose(n){this.log("transport","close",n),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(n))}_onConnError(n){this.log("transport",n.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(n))}_triggerChanError(){this.channels.forEach(n=>n._trigger(xn.error))}_appendParams(n,t){if(0===Object.keys(t).length)return n;const r=n.match(/\?/)?"&":"?";return`${n}${r}${new URLSearchParams(t)}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_sendHeartbeat(){var n;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void(null===(n=this.conn)||void 0===n||n.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_workerObjectUrl(n){let t;if(n)t=n;else{const r=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}}class q${constructor(n,t,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Us.connecting,this.send=()=>{},this.url=null,this.url=n,this.close=r.close}}class Yh extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function Qe(e){return"object"==typeof e&&null!==e&&"__isStorageError"in e}class W$ extends Yh{constructor(n,t){super(n),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Qh extends Yh{constructor(n,t){super(n),this.name="StorageUnknownError",this.originalError=t}}const HE=e=>{let n;return n=e||(typeof fetch>"u"?(...t)=>Promise.resolve().then(B.bind(B,286)).then(({default:r})=>r(...t)):fetch),(...t)=>n(...t)},Kh=e=>{if(Array.isArray(e))return e.map(t=>Kh(t));if("function"==typeof e||e!==Object(e))return e;const n={};return Object.entries(e).forEach(([t,r])=>{const i=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));n[i]=Kh(r)}),n};var zr=function(e,n,t,r){return new(t||(t=Promise))(function(o,s){function a(c){try{l(r.next(c))}catch(d){s(d)}}function u(c){try{l(r.throw(c))}catch(d){s(d)}}function l(c){c.done?o(c.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(c.value).then(a,u)}l((r=r.apply(e,n||[])).next())})};const Jh=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Q$=(e,n,t)=>zr(void 0,void 0,void 0,function*(){const r=yield function(e,n,t,r){return new(t||(t=Promise))(function(o,s){function a(c){try{l(r.next(c))}catch(d){s(d)}}function u(c){try{l(r.throw(c))}catch(d){s(d)}}function l(c){c.done?o(c.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(c.value).then(a,u)}l((r=r.apply(e,n||[])).next())})}(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Promise.resolve().then(B.bind(B,286))).Response:Response});e instanceof r&&!t?.noResolveJson?e.json().then(i=>{n(new W$(Jh(i),e.status||500))}).catch(i=>{n(new Qh(Jh(i),i))}):n(new Qh(Jh(e),e))}),K$=(e,n,t,r)=>{const i={method:e,headers:n?.headers||{}};return"GET"===e?i:(i.headers=Object.assign({"Content-Type":"application/json"},n?.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),t))};function Hs(e,n,t,r,i,o){return zr(this,void 0,void 0,function*(){return new Promise((s,a)=>{e(t,K$(n,r,i,o)).then(u=>{if(!u.ok)throw u;return r?.noResolveJson?u:u.json()}).then(u=>s(u)).catch(u=>Q$(u,a,r))})})}function _l(e,n,t,r){return zr(this,void 0,void 0,function*(){return Hs(e,"GET",n,t,r)})}function yr(e,n,t,r,i){return zr(this,void 0,void 0,function*(){return Hs(e,"POST",n,r,i,t)})}function J$(e,n,t,r,i){return zr(this,void 0,void 0,function*(){return Hs(e,"PUT",n,r,i,t)})}function zE(e,n,t,r,i){return zr(this,void 0,void 0,function*(){return Hs(e,"DELETE",n,r,i,t)})}var Tt=function(e,n,t,r){return new(t||(t=Promise))(function(o,s){function a(c){try{l(r.next(c))}catch(d){s(d)}}function u(c){try{l(r.throw(c))}catch(d){s(d)}}function l(c){c.done?o(c.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(c.value).then(a,u)}l((r=r.apply(e,n||[])).next())})};const eU={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},GE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class tU{constructor(n,t={},r,i){this.url=n,this.headers=t,this.bucketId=r,this.fetch=HE(i)}uploadOrUpdate(n,t,r,i){return Tt(this,void 0,void 0,function*(){try{let o;const s=Object.assign(Object.assign({},GE),i);let a=Object.assign(Object.assign({},this.headers),"POST"===n&&{"x-upsert":String(s.upsert)});const u=s.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),u&&o.append("metadata",this.encodeMetadata(u)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",s.cacheControl),u&&o.append("metadata",this.encodeMetadata(u))):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,u&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),d=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:n,body:o,headers:a},s?.duplex?{duplex:s.duplex}:{})),f=yield d.json();return d.ok?{data:{path:l,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(o){if(Qe(o))return{data:null,error:o};throw o}})}upload(n,t,r){return Tt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,t,r)})}uploadToSignedUrl(n,t,r,i){return Tt(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(n),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",t);try{let u;const l=Object.assign({upsert:GE.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",l.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",l.cacheControl)):(u=r,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:u,headers:c}),f=yield d.json();return d.ok?{data:{path:o,fullPath:f.Key},error:null}:{data:null,error:f}}catch(u){if(Qe(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(n,t){return Tt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(n);const i=Object.assign({},this.headers);t?.upsert&&(i["x-upsert"]="true");const o=yield yr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new Yh("No token returned by API");return{data:{signedUrl:s.toString(),path:n,token:a},error:null}}catch(r){if(Qe(r))return{data:null,error:r};throw r}})}update(n,t,r){return Tt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,t,r)})}move(n,t,r){return Tt(this,void 0,void 0,function*(){try{return{data:yield yr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Qe(i))return{data:null,error:i};throw i}})}copy(n,t,r){return Tt(this,void 0,void 0,function*(){try{return{data:{path:(yield yr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Qe(i))return{data:null,error:i};throw i}})}createSignedUrl(n,t,r){return Tt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(n),o=yield yr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const s=r?.download?`&download=${!0===r.download?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(Qe(i))return{data:null,error:i};throw i}})}createSignedUrls(n,t,r){return Tt(this,void 0,void 0,function*(){try{const i=yield yr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:n},{headers:this.headers}),o=r?.download?`&download=${!0===r.download?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(Qe(i))return{data:null,error:i};throw i}})}download(n,t){return Tt(this,void 0,void 0,function*(){const i=typeof t?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(t?.transform||{}),s=o?`?${o}`:"";try{const a=this._getFinalPath(n);return{data:yield(yield _l(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Qe(a))return{data:null,error:a};throw a}})}info(n){return Tt(this,void 0,void 0,function*(){const t=this._getFinalPath(n);try{const r=yield _l(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Kh(r),error:null}}catch(r){if(Qe(r))return{data:null,error:r};throw r}})}exists(n){return Tt(this,void 0,void 0,function*(){const t=this._getFinalPath(n);try{return yield function X$(e,n,t,r){return zr(this,void 0,void 0,function*(){return Hs(e,"HEAD",n,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Qe(r)&&r instanceof Qh){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(n,t){const r=this._getFinalPath(n),i=[],o=t?.download?`download=${!0===t.download?"":t.download}`:"";""!==o&&i.push(o);const a=typeof t?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(t?.transform||{});""!==u&&i.push(u);let l=i.join("&");return""!==l&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}remove(n){return Tt(this,void 0,void 0,function*(){try{return{data:yield zE(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(t){if(Qe(t))return{data:null,error:t};throw t}})}list(n,t,r){return Tt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},eU),t),{prefix:n||""});return{data:yield yr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Qe(i))return{data:null,error:i};throw i}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const t=[];return n.width&&t.push(`width=${n.width}`),n.height&&t.push(`height=${n.height}`),n.resize&&t.push(`resize=${n.resize}`),n.format&&t.push(`format=${n.format}`),n.quality&&t.push(`quality=${n.quality}`),t.join("&")}}const nU={"X-Client-Info":"storage-js/2.7.1"};var oo=function(e,n,t,r){return new(t||(t=Promise))(function(o,s){function a(c){try{l(r.next(c))}catch(d){s(d)}}function u(c){try{l(r.throw(c))}catch(d){s(d)}}function l(c){c.done?o(c.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(c.value).then(a,u)}l((r=r.apply(e,n||[])).next())})};class rU{constructor(n,t={},r){this.url=n,this.headers=Object.assign(Object.assign({},nU),t),this.fetch=HE(r)}listBuckets(){return oo(this,void 0,void 0,function*(){try{return{data:yield _l(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(Qe(n))return{data:null,error:n};throw n}})}getBucket(n){return oo(this,void 0,void 0,function*(){try{return{data:yield _l(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(t){if(Qe(t))return{data:null,error:t};throw t}})}createBucket(n,t={public:!1}){return oo(this,void 0,void 0,function*(){try{return{data:yield yr(this.fetch,`${this.url}/bucket`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Qe(r))return{data:null,error:r};throw r}})}updateBucket(n,t){return oo(this,void 0,void 0,function*(){try{return{data:yield J$(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Qe(r))return{data:null,error:r};throw r}})}emptyBucket(n){return oo(this,void 0,void 0,function*(){try{return{data:yield yr(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(Qe(t))return{data:null,error:t};throw t}})}deleteBucket(n){return oo(this,void 0,void 0,function*(){try{return{data:yield zE(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(t){if(Qe(t))return{data:null,error:t};throw t}})}}class iU extends rU{constructor(n,t={},r){super(n,t,r)}from(n){return new tU(this.url,this.headers,n,this.fetch)}}let zs="";zs=typeof Deno<"u"?"deno":typeof document<"u"?"web":typeof navigator<"u"&&"ReactNative"===navigator.product?"react-native":"node";const sU={headers:{"X-Client-Info":`supabase-js-${zs}/2.46.1`}},aU={schema:"public"},uU={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},lU={};var qE=B(286);const hU=(e,n,t)=>{const r=(e=>{let n;return n=e||(typeof fetch>"u"?qE.default:fetch),(...t)=>n(...t)})(t),i=typeof Headers>"u"?qE.Headers:Headers;return(o,s)=>function(e,n,t,r){return new(t||(t=Promise))(function(o,s){function a(c){try{l(r.next(c))}catch(d){s(d)}}function u(c){try{l(r.throw(c))}catch(d){s(d)}}function l(c){c.done?o(c.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(c.value).then(a,u)}l((r=r.apply(e,n||[])).next())})}(void 0,void 0,void 0,function*(){var a;const u=null!==(a=yield n())&&void 0!==a?a:e;let l=new i(s?.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${u}`),r(o,Object.assign(Object.assign({},s),{headers:l}))})};const Xh="X-Supabase-Api-Version",YE={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},dn=()=>typeof document<"u",Gr={tested:!1,writable:!1},Gs=()=>{if(!dn())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch{return!1}if(Gr.tested)return Gr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Gr.tested=!0,Gr.writable=!0}catch{Gr.tested=!0,Gr.writable=!1}return Gr.writable};function ep(e){const n={},t=new URL(e);if(t.hash&&"#"===t.hash[0])try{new URLSearchParams(t.hash.substring(1)).forEach((i,o)=>{n[o]=i})}catch{}return t.searchParams.forEach((r,i)=>{n[i]=r}),n}const QE=e=>{let n;return n=e||(typeof fetch>"u"?(...t)=>Promise.resolve().then(B.bind(B,286)).then(({default:r})=>r(...t)):fetch),(...t)=>n(...t)},CU=e=>"object"==typeof e&&null!==e&&"status"in e&&"ok"in e&&"json"in e&&"function"==typeof e.json,KE=function(){var e=m(function*(n,t,r){yield n.setItem(t,JSON.stringify(r))});return function(t,r,i){return e.apply(this,arguments)}}(),Dl=function(){var e=m(function*(n,t){const r=yield n.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}});return function(t,r){return e.apply(this,arguments)}}(),wl=function(){var e=m(function*(n,t){yield n.removeItem(t)});return function(t,r){return e.apply(this,arguments)}}();class Cl{constructor(){this.promise=new Cl.promiseConstructor((n,t)=>{this.resolve=n,this.reject=t})}}function JE(e){const t=e.split(".");if(3!==t.length)throw new Error("JWT is not valid: not a JWT structure");if(!/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");return JSON.parse(function bU(e){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r,i,o,s,a,u,l,t="",c=0;for(e=e.replace("-","+").replace("_","/");c<e.length;)s=n.indexOf(e.charAt(c++)),a=n.indexOf(e.charAt(c++)),u=n.indexOf(e.charAt(c++)),l=n.indexOf(e.charAt(c++)),r=s<<2|a>>4,i=(15&a)<<4|u>>2,o=(3&u)<<6|l,t+=String.fromCharCode(r),64!=u&&0!=i&&(t+=String.fromCharCode(i)),64!=l&&0!=o&&(t+=String.fromCharCode(o));return t}(t[1]))}function tp(){return(tp=m(function*(e){return yield new Promise(n=>{setTimeout(()=>n(null),e)})})).apply(this,arguments)}function SU(e){return("0"+e.toString(16)).substr(-2)}function np(){return(np=m(function*(e){const t=(new TextEncoder).encode(e),r=yield crypto.subtle.digest("SHA-256",t),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")})).apply(this,arguments)}function rp(){return rp=m(function*(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=yield function AU(e){return np.apply(this,arguments)}(e);return function TU(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}(t)}),rp.apply(this,arguments)}function so(e,n){return ip.apply(this,arguments)}function ip(){return ip=m(function*(e,n,t=!1){const r=function MU(){const n=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let i="";for(let o=0;o<56;o++)i+=t.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(n),Array.from(n,SU).join("")}();let i=r;t&&(i+="/PASSWORD_RECOVERY"),yield KE(e,`${n}-code-verifier`,i);const o=yield function xU(e){return rp.apply(this,arguments)}(r);return[o,r===o?"plain":"s256"]}),ip.apply(this,arguments)}Cl.promiseConstructor=Promise;const OU=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;class op extends Error{constructor(n,t,r){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function Y(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}class RU extends op{constructor(n,t,r){super(n,t,r),this.name="AuthApiError",this.status=t,this.code=r}}class XE extends op{constructor(n,t){super(n),this.name="AuthUnknownError",this.originalError=t}}class qr extends op{constructor(n,t,r,i){super(n,r,i),this.name=t,this.status=r}}class _r extends qr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class sp extends qr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class bl extends qr{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class El extends qr{constructor(n,t=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class e0 extends qr{constructor(n,t=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ap extends qr{constructor(n,t){super(n,"AuthRetryableFetchError",t,void 0)}}function up(e){return Y(e)&&"AuthRetryableFetchError"===e.name}class t0 extends qr{constructor(n,t,r){super(n,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}const Wr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),LU=[502,503,504];function n0(e){return lp.apply(this,arguments)}function lp(){return(lp=m(function*(e){var n;if(!CU(e))throw new ap(Wr(e),0);if(LU.includes(e.status))throw new ap(Wr(e),e.status);let t,r;try{t=yield e.json()}catch(o){throw new XE(Wr(o),o)}const i=function NU(e){const n=e.headers.get(Xh);if(!n||!n.match(OU))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}(e);if(i&&i.getTime()>=YE["2024-01-01"].timestamp&&"object"==typeof t&&t&&"string"==typeof t.code?r=t.code:"object"==typeof t&&t&&"string"==typeof t.error_code&&(r=t.error_code),r){if("weak_password"===r)throw new t0(Wr(t),e.status,(null===(n=t.weak_password)||void 0===n?void 0:n.reasons)||[]);if("session_not_found"===r)throw new _r}else if("object"==typeof t&&t&&"object"==typeof t.weak_password&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((o,s)=>o&&"string"==typeof s,!0))throw new t0(Wr(t),e.status,t.weak_password.reasons);throw new RU(Wr(t),e.status||500,r)})).apply(this,arguments)}const jU=(e,n,t,r)=>{const i={method:e,headers:n?.headers||{}};return"GET"===e?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};function ee(e,n,t,r){return cp.apply(this,arguments)}function cp(){return cp=m(function*(e,n,t,r){var i;const o=Object.assign({},r?.headers);o[Xh]||(o[Xh]=YE["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const s=null!==(i=r?.query)&&void 0!==i?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);const a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",u=yield function VU(e,n,t,r,i,o){return dp.apply(this,arguments)}(e,n,t+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(u):{data:Object.assign({},u),error:null}}),cp.apply(this,arguments)}function dp(){return(dp=m(function*(e,n,t,r,i,o){const s=jU(n,r,i,o);let a;try{a=yield e(t,Object.assign({},s))}catch(u){throw console.error(u),new ap(Wr(u),0)}if(a.ok||(yield n0(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(u){yield n0(u)}})).apply(this,arguments)}function Dr(e){var n;let t=null;return function HU(e){return e.access_token&&e.refresh_token&&e.expires_in}(e)&&(t=Object.assign({},e),e.expires_at||(t.expires_at=function DU(e){return Math.round(Date.now()/1e3)+e}(e.expires_in))),{data:{session:t,user:null!==(n=e.user)&&void 0!==n?n:e},error:null}}function r0(e){const n=Dr(e);return!n.error&&e.weak_password&&"object"==typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"==typeof e.weak_password.message&&e.weak_password.reasons.reduce((t,r)=>t&&"string"==typeof r,!0)&&(n.data.weak_password=e.weak_password),n}function wr(e){var n;return{data:{user:null!==(n=e.user)&&void 0!==n?n:e},error:null}}function $U(e){return{data:e,error:null}}function UU(e){const{action_link:n,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o}=e,s=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]])}return t}(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:n,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o},user:Object.assign({},s)},error:null}}function BU(e){return e}class GU{constructor({url:n="",headers:t={},fetch:r}){this.url=n,this.headers=t,this.fetch=QE(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(n,t="global"){var r=this;return m(function*(){try{return yield ee(r.fetch,"POST",`${r.url}/logout?scope=${t}`,{headers:r.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Y(i))return{data:null,error:i};throw i}})()}inviteUserByEmail(n,t={}){var r=this;return m(function*(){try{return yield ee(r.fetch,"POST",`${r.url}/invite`,{body:{email:n,data:t.data},headers:r.headers,redirectTo:t.redirectTo,xform:wr})}catch(i){if(Y(i))return{data:{user:null},error:i};throw i}})()}generateLink(n){var t=this;return m(function*(){try{const{options:r}=n,i=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]])}return t}(n,["options"]),o=Object.assign(Object.assign({},i),r);return"newEmail"in i&&(o.new_email=i?.newEmail,delete o.newEmail),yield ee(t.fetch,"POST",`${t.url}/admin/generate_link`,{body:o,headers:t.headers,xform:UU,redirectTo:r?.redirectTo})}catch(r){if(Y(r))return{data:{properties:null,user:null},error:r};throw r}})()}createUser(n){var t=this;return m(function*(){try{return yield ee(t.fetch,"POST",`${t.url}/admin/users`,{body:n,headers:t.headers,xform:wr})}catch(r){if(Y(r))return{data:{user:null},error:r};throw r}})()}listUsers(n){var t=this;return m(function*(){var r,i,o,s,a,u,l;try{const c={nextPage:null,lastPage:0,total:0},d=yield ee(t.fetch,"GET",`${t.url}/admin/users`,{headers:t.headers,noResolveJson:!0,query:{page:null!==(i=null===(r=n?.page)||void 0===r?void 0:r.toString())&&void 0!==i?i:"",per_page:null!==(s=null===(o=n?.perPage)||void 0===o?void 0:o.toString())&&void 0!==s?s:""},xform:BU});if(d.error)throw d.error;const f=yield d.json(),h=null!==(a=d.headers.get("x-total-count"))&&void 0!==a?a:0,p=null!==(l=null===(u=d.headers.get("link"))||void 0===u?void 0:u.split(","))&&void 0!==l?l:[];return p.length>0&&(p.forEach(g=>{const y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(g.split(";")[1].split("=")[1]);c[`${C}Page`]=y}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(Y(c))return{data:{users:[]},error:c};throw c}})()}getUserById(n){var t=this;return m(function*(){try{return yield ee(t.fetch,"GET",`${t.url}/admin/users/${n}`,{headers:t.headers,xform:wr})}catch(r){if(Y(r))return{data:{user:null},error:r};throw r}})()}updateUserById(n,t){var r=this;return m(function*(){try{return yield ee(r.fetch,"PUT",`${r.url}/admin/users/${n}`,{body:t,headers:r.headers,xform:wr})}catch(i){if(Y(i))return{data:{user:null},error:i};throw i}})()}deleteUser(n,t=!1){var r=this;return m(function*(){try{return yield ee(r.fetch,"DELETE",`${r.url}/admin/users/${n}`,{headers:r.headers,body:{should_soft_delete:t},xform:wr})}catch(i){if(Y(i))return{data:{user:null},error:i};throw i}})()}_listFactors(n){var t=this;return m(function*(){try{const{data:r,error:i}=yield ee(t.fetch,"GET",`${t.url}/admin/users/${n.userId}/factors`,{headers:t.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:i}}catch(r){if(Y(r))return{data:null,error:r};throw r}})()}_deleteFactor(n){var t=this;return m(function*(){try{return{data:yield ee(t.fetch,"DELETE",`${t.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:t.headers}),error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}})()}}const qU={getItem:e=>Gs()?globalThis.localStorage.getItem(e):null,setItem:(e,n)=>{Gs()&&globalThis.localStorage.setItem(e,n)},removeItem:e=>{Gs()&&globalThis.localStorage.removeItem(e)}};function o0(e={}){return{getItem:n=>e[n]||null,setItem:(n,t)=>{e[n]=t},removeItem:n=>{delete e[n]}}}const ao={debug:!!(globalThis&&Gs()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"))};class s0 extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class ZU extends s0{}function YU(e,n,t){return fp.apply(this,arguments)}function fp(){return fp=m(function*(e,n,t){ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,n);const r=new globalThis.AbortController;return n>0&&setTimeout(()=>{r.abort(),ao.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},n),yield globalThis.navigator.locks.request(e,0===n?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},function(){var i=m(function*(o){if(!o){if(0===n)throw ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new ZU(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ao.debug)try{const s=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield t()}ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return yield t()}finally{ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}});return function(o){return i.apply(this,arguments)}}())}),fp.apply(this,arguments)}!function WU(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}();const QU={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:{"X-Client-Info":"gotrue-js/2.65.1"},flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},qs=3e4;function u0(e,n,t){return hp.apply(this,arguments)}function hp(){return(hp=m(function*(e,n,t){return yield t()})).apply(this,arguments)}const JU=(()=>{class e{constructor(t){var i,o,r=this;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=e.nextInstanceID,e.nextInstanceID+=1,this.instanceID>0&&dn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},QU),t);if(this.logDebugMessages=!!s.debug,"function"==typeof s.debug&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new GU({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=QE(s.fetch),this.lock=s.lock||u0,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.lock=s.lock?s.lock:dn()&&null!==(i=globalThis?.navigator)&&void 0!==i&&i.locks?YU:u0,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Gs()?this.storage=qU:(this.memoryStorage={},this.storage=o0(this.memoryStorage)):(this.memoryStorage={},this.storage=o0(this.memoryStorage)),dn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}null===(o=this.broadcastChannel)||void 0===o||o.addEventListener("message",function(){var a=m(function*(u){r._debug("received broadcast notification from other tab or client",u),yield r._notifyAllSubscribers(u.data.event,u.data.session,!1)});return function(u){return a.apply(this,arguments)}}())}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (2.65.1) ${(new Date).toISOString()}`,...t),this}initialize(){var t=this;return m(function*(){return t.initializePromise||(t.initializePromise=m(function*(){return yield t._acquireLock(-1,m(function*(){return yield t._initialize()}))})()),yield t.initializePromise})()}_initialize(){var t=this;return m(function*(){try{const r=!!dn()&&(yield t._isPKCEFlow());if(t._debug("#_initialize()","begin","is PKCE flow",r),r||t.detectSessionInUrl&&t._isImplicitGrantFlow()){const{data:i,error:o}=yield t._getSessionFromURL(r);if(o)return t._debug("#_initialize()","error detecting session from URL",o),"identity_already_exists"===o?.code||(yield t._removeSession()),{error:o};const{session:s,redirectType:a}=i;return t._debug("#_initialize()","detected session in URL",s,"redirect type",a),yield t._saveSession(s),setTimeout(m(function*(){"recovery"===a?yield t._notifyAllSubscribers("PASSWORD_RECOVERY",s):yield t._notifyAllSubscribers("SIGNED_IN",s)}),0),{error:null}}return yield t._recoverAndRefresh(),{error:null}}catch(r){return Y(r)?{error:r}:{error:new XE("Unexpected error during initialization",r)}}finally{yield t._handleVisibilityChange(),t._debug("#_initialize()","end")}})()}signInAnonymously(t){var r=this;return m(function*(){var i,o,s;try{const a=yield ee(r.fetch,"POST",`${r.url}/signup`,{headers:r.headers,body:{data:null!==(o=null===(i=t?.options)||void 0===i?void 0:i.data)&&void 0!==o?o:{},gotrue_meta_security:{captcha_token:null===(s=t?.options)||void 0===s?void 0:s.captchaToken}},xform:Dr}),{data:u,error:l}=a;if(l||!u)return{data:{user:null,session:null},error:l};const c=u.session,d=u.user;return u.session&&(yield r._saveSession(u.session),yield r._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(Y(a))return{data:{user:null,session:null},error:a};throw a}})()}signUp(t){var r=this;return m(function*(){var i,o,s;try{let a;if("email"in t){const{email:f,password:h,options:p}=t;let g=null,y=null;"pkce"===r.flowType&&([g,y]=yield so(r.storage,r.storageKey)),a=yield ee(r.fetch,"POST",`${r.url}/signup`,{headers:r.headers,redirectTo:p?.emailRedirectTo,body:{email:f,password:h,data:null!==(i=p?.data)&&void 0!==i?i:{},gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:g,code_challenge_method:y},xform:Dr})}else{if(!("phone"in t))throw new bl("You must provide either an email or phone number and a password");{const{phone:f,password:h,options:p}=t;a=yield ee(r.fetch,"POST",`${r.url}/signup`,{headers:r.headers,body:{phone:f,password:h,data:null!==(o=p?.data)&&void 0!==o?o:{},channel:null!==(s=p?.channel)&&void 0!==s?s:"sms",gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Dr})}}const{data:u,error:l}=a;if(l||!u)return{data:{user:null,session:null},error:l};const c=u.session,d=u.user;return u.session&&(yield r._saveSession(u.session),yield r._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(Y(a))return{data:{user:null,session:null},error:a};throw a}})()}signInWithPassword(t){var r=this;return m(function*(){try{let i;if("email"in t){const{email:a,password:u,options:l}=t;i=yield ee(r.fetch,"POST",`${r.url}/token?grant_type=password`,{headers:r.headers,body:{email:a,password:u,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:r0})}else{if(!("phone"in t))throw new bl("You must provide either an email or phone number and a password");{const{phone:a,password:u,options:l}=t;i=yield ee(r.fetch,"POST",`${r.url}/token?grant_type=password`,{headers:r.headers,body:{phone:a,password:u,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:r0})}}const{data:o,error:s}=i;return s?{data:{user:null,session:null},error:s}:o&&o.session&&o.user?(o.session&&(yield r._saveSession(o.session),yield r._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:s}):{data:{user:null,session:null},error:new sp}}catch(i){if(Y(i))return{data:{user:null,session:null},error:i};throw i}})()}signInWithOAuth(t){var r=this;return m(function*(){var i,o,s,a;return yield r._handleProviderSignIn(t.provider,{redirectTo:null===(i=t.options)||void 0===i?void 0:i.redirectTo,scopes:null===(o=t.options)||void 0===o?void 0:o.scopes,queryParams:null===(s=t.options)||void 0===s?void 0:s.queryParams,skipBrowserRedirect:null===(a=t.options)||void 0===a?void 0:a.skipBrowserRedirect})})()}exchangeCodeForSession(t){var r=this;return m(function*(){return yield r.initializePromise,r._acquireLock(-1,m(function*(){return r._exchangeCodeForSession(t)}))})()}_exchangeCodeForSession(t){var r=this;return m(function*(){const i=yield Dl(r.storage,`${r.storageKey}-code-verifier`),[o,s]=(i??"").split("/");try{const{data:a,error:u}=yield ee(r.fetch,"POST",`${r.url}/token?grant_type=pkce`,{headers:r.headers,body:{auth_code:t,code_verifier:o},xform:Dr});if(yield wl(r.storage,`${r.storageKey}-code-verifier`),u)throw u;return a&&a.session&&a.user?(a.session&&(yield r._saveSession(a.session),yield r._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:u}):{data:{user:null,session:null,redirectType:null},error:new sp}}catch(a){if(Y(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}})()}signInWithIdToken(t){var r=this;return m(function*(){try{const{options:i,provider:o,token:s,access_token:a,nonce:u}=t,l=yield ee(r.fetch,"POST",`${r.url}/token?grant_type=id_token`,{headers:r.headers,body:{provider:o,id_token:s,access_token:a,nonce:u,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:Dr}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:c&&c.session&&c.user?(c.session&&(yield r._saveSession(c.session),yield r._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d}):{data:{user:null,session:null},error:new sp}}catch(i){if(Y(i))return{data:{user:null,session:null},error:i};throw i}})()}signInWithOtp(t){var r=this;return m(function*(){var i,o,s,a,u;try{if("email"in t){const{email:l,options:c}=t;let d=null,f=null;"pkce"===r.flowType&&([d,f]=yield so(r.storage,r.storageKey));const{error:h}=yield ee(r.fetch,"POST",`${r.url}/otp`,{headers:r.headers,body:{email:l,data:null!==(i=c?.data)&&void 0!==i?i:{},create_user:null===(o=c?.shouldCreateUser)||void 0===o||o,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:d,code_challenge_method:f},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:f}=yield ee(r.fetch,"POST",`${r.url}/otp`,{headers:r.headers,body:{phone:l,data:null!==(s=c?.data)&&void 0!==s?s:{},create_user:null===(a=c?.shouldCreateUser)||void 0===a||a,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:null!==(u=c?.channel)&&void 0!==u?u:"sms"}});return{data:{user:null,session:null,messageId:d?.message_id},error:f}}throw new bl("You must provide either an email or phone number.")}catch(l){if(Y(l))return{data:{user:null,session:null},error:l};throw l}})()}verifyOtp(t){var r=this;return m(function*(){var i,o;try{let s,a;"options"in t&&(s=null===(i=t.options)||void 0===i?void 0:i.redirectTo,a=null===(o=t.options)||void 0===o?void 0:o.captchaToken);const{data:u,error:l}=yield ee(r.fetch,"POST",`${r.url}/verify`,{headers:r.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:Dr});if(l)throw l;if(!u)throw new Error("An error occurred on token verification.");const c=u.session,d=u.user;return c?.access_token&&(yield r._saveSession(c),yield r._notifyAllSubscribers("recovery"==t.type?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(s){if(Y(s))return{data:{user:null,session:null},error:s};throw s}})()}signInWithSSO(t){var r=this;return m(function*(){var i,o,s;try{let a=null,u=null;return"pkce"===r.flowType&&([a,u]=yield so(r.storage,r.storageKey)),yield ee(r.fetch,"POST",`${r.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:null!==(o=null===(i=t.options)||void 0===i?void 0:i.redirectTo)&&void 0!==o?o:void 0}),null!==(s=t?.options)&&void 0!==s&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:u}),headers:r.headers,xform:$U})}catch(a){if(Y(a))return{data:null,error:a};throw a}})()}reauthenticate(){var t=this;return m(function*(){return yield t.initializePromise,yield t._acquireLock(-1,m(function*(){return yield t._reauthenticate()}))})()}_reauthenticate(){var t=this;return m(function*(){try{return yield t._useSession(function(){var r=m(function*(i){const{data:{session:o},error:s}=i;if(s)throw s;if(!o)throw new _r;const{error:a}=yield ee(t.fetch,"GET",`${t.url}/reauthenticate`,{headers:t.headers,jwt:o.access_token});return{data:{user:null,session:null},error:a}});return function(i){return r.apply(this,arguments)}}())}catch(r){if(Y(r))return{data:{user:null,session:null},error:r};throw r}})()}resend(t){var r=this;return m(function*(){try{const i=`${r.url}/resend`;if("email"in t){const{email:o,type:s,options:a}=t,{error:u}=yield ee(r.fetch,"POST",i,{headers:r.headers,body:{email:o,type:s,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return{data:{user:null,session:null},error:u}}if("phone"in t){const{phone:o,type:s,options:a}=t,{data:u,error:l}=yield ee(r.fetch,"POST",i,{headers:r.headers,body:{phone:o,type:s,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return{data:{user:null,session:null,messageId:u?.message_id},error:l}}throw new bl("You must provide either an email or phone number and a type")}catch(i){if(Y(i))return{data:{user:null,session:null},error:i};throw i}})()}getSession(){var t=this;return m(function*(){return yield t.initializePromise,yield t._acquireLock(-1,m(function*(){return t._useSession(function(){var i=m(function*(o){return o});return function(o){return i.apply(this,arguments)}}())}))})()}_acquireLock(t,r){var i=this;return m(function*(){i._debug("#_acquireLock","begin",t);try{if(i.lockAcquired){const o=i.pendingInLock.length?i.pendingInLock[i.pendingInLock.length-1]:Promise.resolve(),s=m(function*(){return yield o,yield r()})();return i.pendingInLock.push(m(function*(){try{yield s}catch{}})()),s}return yield i.lock(`lock:${i.storageKey}`,t,m(function*(){i._debug("#_acquireLock","lock acquired for storage key",i.storageKey);try{i.lockAcquired=!0;const o=r();for(i.pendingInLock.push(m(function*(){try{yield o}catch{}})()),yield o;i.pendingInLock.length;){const s=[...i.pendingInLock];yield Promise.all(s),i.pendingInLock.splice(0,s.length)}return yield o}finally{i._debug("#_acquireLock","lock released for storage key",i.storageKey),i.lockAcquired=!1}}))}finally{i._debug("#_acquireLock","end")}})()}_useSession(t){var r=this;return m(function*(){r._debug("#_useSession","begin");try{const i=yield r.__loadSession();return yield t(i)}finally{r._debug("#_useSession","end")}})()}__loadSession(){var t=this;return m(function*(){t._debug("#__loadSession()","begin"),t.lockAcquired||t._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let r=null;const i=yield Dl(t.storage,t.storageKey);if(t._debug("#getSession()","session from storage",i),null!==i&&(t._isValidSession(i)?r=i:(t._debug("#getSession()","session from storage is not valid"),yield t._removeSession())),!r)return{data:{session:null},error:null};const o=!!r.expires_at&&r.expires_at<=Date.now()/1e3;if(t._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",r.expires_at),!o){if(t.storage.isServer){let u=t.suppressGetSessionWarning;r=new Proxy(r,{get:(c,d,f)=>(!u&&"user"===d&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,t.suppressGetSessionWarning=!0),Reflect.get(c,d,f))})}return{data:{session:r},error:null}}const{session:s,error:a}=yield t._callRefreshToken(r.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{t._debug("#__loadSession()","end")}})()}getUser(t){var r=this;return m(function*(){return t?yield r._getUser(t):(yield r.initializePromise,yield r._acquireLock(-1,m(function*(){return yield r._getUser()})))})()}_getUser(t){var r=this;return m(function*(){try{return t?yield ee(r.fetch,"GET",`${r.url}/user`,{headers:r.headers,jwt:t,xform:wr}):yield r._useSession(function(){var i=m(function*(o){var s,a,u;const{data:l,error:c}=o;if(c)throw c;return null!==(s=l.session)&&void 0!==s&&s.access_token||r.hasCustomAuthorizationHeader?yield ee(r.fetch,"GET",`${r.url}/user`,{headers:r.headers,jwt:null!==(u=null===(a=l.session)||void 0===a?void 0:a.access_token)&&void 0!==u?u:void 0,xform:wr}):{data:{user:null},error:new _r}});return function(o){return i.apply(this,arguments)}}())}catch(i){if(Y(i))return function kU(e){return Y(e)&&"AuthSessionMissingError"===e.name}(i)&&(yield r._removeSession(),yield wl(r.storage,`${r.storageKey}-code-verifier`)),{data:{user:null},error:i};throw i}})()}updateUser(t,r={}){var i=this;return m(function*(){return yield i.initializePromise,yield i._acquireLock(-1,m(function*(){return yield i._updateUser(t,r)}))})()}_updateUser(t,r={}){var i=this;return m(function*(){try{return yield i._useSession(function(){var o=m(function*(s){const{data:a,error:u}=s;if(u)throw u;if(!a.session)throw new _r;const l=a.session;let c=null,d=null;"pkce"===i.flowType&&null!=t.email&&([c,d]=yield so(i.storage,i.storageKey));const{data:f,error:h}=yield ee(i.fetch,"PUT",`${i.url}/user`,{headers:i.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:d}),jwt:l.access_token,xform:wr});if(h)throw h;return l.user=f.user,yield i._saveSession(l),yield i._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}});return function(s){return o.apply(this,arguments)}}())}catch(o){if(Y(o))return{data:{user:null},error:o};throw o}})()}_decodeJWT(t){return JE(t)}setSession(t){var r=this;return m(function*(){return yield r.initializePromise,yield r._acquireLock(-1,m(function*(){return yield r._setSession(t)}))})()}_setSession(t){var r=this;return m(function*(){try{if(!t.access_token||!t.refresh_token)throw new _r;const i=Date.now()/1e3;let o=i,s=!0,a=null;const u=JE(t.access_token);if(u.exp&&(o=u.exp,s=o<=i),s){const{session:l,error:c}=yield r._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=yield r._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:o-i,expires_at:o},yield r._saveSession(a),yield r._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(i){if(Y(i))return{data:{session:null,user:null},error:i};throw i}})()}refreshSession(t){var r=this;return m(function*(){return yield r.initializePromise,yield r._acquireLock(-1,m(function*(){return yield r._refreshSession(t)}))})()}_refreshSession(t){var r=this;return m(function*(){try{return yield r._useSession(function(){var i=m(function*(o){var s;if(!t){const{data:l,error:c}=o;if(c)throw c;t=null!==(s=l.session)&&void 0!==s?s:void 0}if(!t?.refresh_token)throw new _r;const{session:a,error:u}=yield r._callRefreshToken(t.refresh_token);return u?{data:{user:null,session:null},error:u}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}});return function(o){return i.apply(this,arguments)}}())}catch(i){if(Y(i))return{data:{user:null,session:null},error:i};throw i}})()}_getSessionFromURL(t){var r=this;return m(function*(){try{if(!dn())throw new El("No browser detected.");if("implicit"===r.flowType&&!r._isImplicitGrantFlow())throw new El("Not a valid implicit grant flow url.");if("pkce"==r.flowType&&!t)throw new e0("Not a valid PKCE flow url.");const i=ep(window.location.href);if(t){if(!i.code)throw new e0("No code detected.");const{data:O,error:F}=yield r._exchangeCodeForSession(i.code);if(F)throw F;const rt=new URL(window.location.href);return rt.searchParams.delete("code"),window.history.replaceState(window.history.state,"",rt.toString()),{data:{session:O.session,redirectType:null},error:null}}if(i.error||i.error_description||i.error_code)throw new El(i.error_description||"Error in URL with unspecified error_description",{error:i.error||"unspecified_error",code:i.error_code||"unspecified_code"});const{provider_token:o,provider_refresh_token:s,access_token:a,refresh_token:u,expires_in:l,expires_at:c,token_type:d}=i;if(!(a&&l&&u&&d))throw new El("No session defined in URL");const f=Math.round(Date.now()/1e3),h=parseInt(l);let p=f+h;c&&(p=parseInt(c));const g=p-f;1e3*g<=qs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const y=p-h;f-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,p,f):f-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,p,f);const{data:C,error:v}=yield r._getUser(a);if(v)throw v;const A={provider_token:o,provider_refresh_token:s,access_token:a,expires_in:h,expires_at:p,refresh_token:u,token_type:d,user:C.user};return window.location.hash="",r._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:A,redirectType:i.type},error:null}}catch(i){if(Y(i))return{data:{session:null,redirectType:null},error:i};throw i}})()}_isImplicitGrantFlow(){const t=ep(window.location.href);return!(!dn()||!t.access_token&&!t.error_description)}_isPKCEFlow(){var t=this;return m(function*(){const r=ep(window.location.href),i=yield Dl(t.storage,`${t.storageKey}-code-verifier`);return!(!r.code||!i)})()}signOut(t={scope:"global"}){var r=this;return m(function*(){return yield r.initializePromise,yield r._acquireLock(-1,m(function*(){return yield r._signOut(t)}))})()}_signOut({scope:t}={scope:"global"}){var r=this;return m(function*(){return yield r._useSession(function(){var i=m(function*(o){var s;const{data:a,error:u}=o;if(u)return{error:u};const l=null===(s=a.session)||void 0===s?void 0:s.access_token;if(l){const{error:c}=yield r.admin.signOut(l,t);if(c&&(!function PU(e){return Y(e)&&"AuthApiError"===e.name}(c)||404!==c.status&&401!==c.status&&403!==c.status))return{error:c}}return"others"!==t&&(yield r._removeSession(),yield wl(r.storage,`${r.storageKey}-code-verifier`)),{error:null}});return function(o){return i.apply(this,arguments)}}())})()}onAuthStateChange(t){var r=this;const i=function wU(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const n=16*Math.random()|0;return("x"==e?n:3&n|8).toString(16)})}(),o={id:i,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,o),m(function*(){yield r.initializePromise,yield r._acquireLock(-1,m(function*(){r._emitInitialSession(i)}))})(),{data:{subscription:o}}}_emitInitialSession(t){var r=this;return m(function*(){return yield r._useSession(function(){var i=m(function*(o){var s,a;try{const{data:{session:u},error:l}=o;if(l)throw l;yield null===(s=r.stateChangeEmitters.get(t))||void 0===s?void 0:s.callback("INITIAL_SESSION",u),r._debug("INITIAL_SESSION","callback id",t,"session",u)}catch(u){yield null===(a=r.stateChangeEmitters.get(t))||void 0===a?void 0:a.callback("INITIAL_SESSION",null),r._debug("INITIAL_SESSION","callback id",t,"error",u),console.error(u)}});return function(o){return i.apply(this,arguments)}}())})()}resetPasswordForEmail(t,r={}){var i=this;return m(function*(){let o=null,s=null;"pkce"===i.flowType&&([o,s]=yield so(i.storage,i.storageKey,!0));try{return yield ee(i.fetch,"POST",`${i.url}/recover`,{body:{email:t,code_challenge:o,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:i.headers,redirectTo:r.redirectTo})}catch(a){if(Y(a))return{data:null,error:a};throw a}})()}getUserIdentities(){var t=this;return m(function*(){var r;try{const{data:i,error:o}=yield t.getUser();if(o)throw o;return{data:{identities:null!==(r=i.user.identities)&&void 0!==r?r:[]},error:null}}catch(i){if(Y(i))return{data:null,error:i};throw i}})()}linkIdentity(t){var r=this;return m(function*(){var i;try{const{data:o,error:s}=yield r._useSession(function(){var a=m(function*(u){var l,c,d,f,h;const{data:p,error:g}=u;if(g)throw g;const y=yield r._getUrlForProvider(`${r.url}/user/identities/authorize`,t.provider,{redirectTo:null===(l=t.options)||void 0===l?void 0:l.redirectTo,scopes:null===(c=t.options)||void 0===c?void 0:c.scopes,queryParams:null===(d=t.options)||void 0===d?void 0:d.queryParams,skipBrowserRedirect:!0});return yield ee(r.fetch,"GET",y,{headers:r.headers,jwt:null!==(h=null===(f=p.session)||void 0===f?void 0:f.access_token)&&void 0!==h?h:void 0})});return function(u){return a.apply(this,arguments)}}());if(s)throw s;return dn()&&!(null!==(i=t.options)&&void 0!==i&&i.skipBrowserRedirect)&&window.location.assign(o?.url),{data:{provider:t.provider,url:o?.url},error:null}}catch(o){if(Y(o))return{data:{provider:t.provider,url:null},error:o};throw o}})()}unlinkIdentity(t){var r=this;return m(function*(){try{return yield r._useSession(function(){var i=m(function*(o){var s,a;const{data:u,error:l}=o;if(l)throw l;return yield ee(r.fetch,"DELETE",`${r.url}/user/identities/${t.identity_id}`,{headers:r.headers,jwt:null!==(a=null===(s=u.session)||void 0===s?void 0:s.access_token)&&void 0!==a?a:void 0})});return function(o){return i.apply(this,arguments)}}())}catch(i){if(Y(i))return{data:null,error:i};throw i}})()}_refreshAccessToken(t){var r=this;return m(function*(){const i=`#_refreshAccessToken(${t.substring(0,5)}...)`;r._debug(i,"begin");try{const o=Date.now();return yield function IU(e,n){return new Promise((r,i)=>{m(function*(){for(let o=0;o<1/0;o++)try{const s=yield e(o);if(!n(o,null,s))return void r(s)}catch(s){if(!n(o,s))return void i(s)}})()})}(function(){var s=m(function*(a){return a>0&&(yield function EU(e){return tp.apply(this,arguments)}(200*Math.pow(2,a-1))),r._debug(i,"refreshing attempt",a),yield ee(r.fetch,"POST",`${r.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:r.headers,xform:Dr})});return function(a){return s.apply(this,arguments)}}(),(s,a)=>{const u=200*Math.pow(2,s);return a&&up(a)&&Date.now()+u-o<qs})}catch(o){if(r._debug(i,"error",o),Y(o))return{data:{session:null,user:null},error:o};throw o}finally{r._debug(i,"end")}})()}_isValidSession(t){return"object"==typeof t&&null!==t&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}_handleProviderSignIn(t,r){var i=this;return m(function*(){const o=yield i._getUrlForProvider(`${i.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return i._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",o),dn()&&!r.skipBrowserRedirect&&window.location.assign(o),{data:{provider:t,url:o},error:null}})()}_recoverAndRefresh(){var t=this;return m(function*(){var r;const i="#_recoverAndRefresh()";t._debug(i,"begin");try{const o=yield Dl(t.storage,t.storageKey);if(t._debug(i,"session from storage",o),!t._isValidSession(o))return t._debug(i,"session is not valid"),void(null!==o&&(yield t._removeSession()));const s=Math.round(Date.now()/1e3),a=(null!==(r=o.expires_at)&&void 0!==r?r:1/0)<s+10;if(t._debug(i,`session has${a?"":" not"} expired with margin of 10s`),a){if(t.autoRefreshToken&&o.refresh_token){const{error:u}=yield t._callRefreshToken(o.refresh_token);u&&(console.error(u),up(u)||(t._debug(i,"refresh failed with a non-retryable error, removing the session",u),yield t._removeSession()))}}else yield t._notifyAllSubscribers("SIGNED_IN",o)}catch(o){return t._debug(i,"error",o),void console.error(o)}finally{t._debug(i,"end")}})()}_callRefreshToken(t){var r=this;return m(function*(){var i,o;if(!t)throw new _r;if(r.refreshingDeferred)return r.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;r._debug(s,"begin");try{r.refreshingDeferred=new Cl;const{data:a,error:u}=yield r._refreshAccessToken(t);if(u)throw u;if(!a.session)throw new _r;yield r._saveSession(a.session),yield r._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return r.refreshingDeferred.resolve(l),l}catch(a){if(r._debug(s,"error",a),Y(a)){const u={session:null,error:a};return up(a)||(yield r._removeSession()),null===(i=r.refreshingDeferred)||void 0===i||i.resolve(u),u}throw null===(o=r.refreshingDeferred)||void 0===o||o.reject(a),a}finally{r.refreshingDeferred=null,r._debug(s,"end")}})()}_notifyAllSubscribers(t,r,i=!0){var o=this;return m(function*(){const s=`#_notifyAllSubscribers(${t})`;o._debug(s,"begin",r,`broadcast = ${i}`);try{o.broadcastChannel&&i&&o.broadcastChannel.postMessage({event:t,session:r});const a=[],u=Array.from(o.stateChangeEmitters.values()).map(function(){var l=m(function*(c){try{yield c.callback(t,r)}catch(d){a.push(d)}});return function(c){return l.apply(this,arguments)}}());if(yield Promise.all(u),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{o._debug(s,"end")}})()}_saveSession(t){var r=this;return m(function*(){r._debug("#_saveSession()",t),r.suppressGetSessionWarning=!0,yield KE(r.storage,r.storageKey,t)})()}_removeSession(){var t=this;return m(function*(){t._debug("#_removeSession()"),yield wl(t.storage,t.storageKey),yield t._notifyAllSubscribers("SIGNED_OUT",null)})()}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&dn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){var t=this;return m(function*(){yield t._stopAutoRefresh(),t._debug("#_startAutoRefresh()");const r=setInterval(()=>t._autoRefreshTokenTick(),qs);t.autoRefreshTicker=r,r&&"object"==typeof r&&"function"==typeof r.unref?r.unref():typeof Deno<"u"&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(r),setTimeout(m(function*(){yield t.initializePromise,yield t._autoRefreshTokenTick()}),0)})()}_stopAutoRefresh(){var t=this;return m(function*(){t._debug("#_stopAutoRefresh()");const r=t.autoRefreshTicker;t.autoRefreshTicker=null,r&&clearInterval(r)})()}startAutoRefresh(){var t=this;return m(function*(){t._removeVisibilityChangedCallback(),yield t._startAutoRefresh()})()}stopAutoRefresh(){var t=this;return m(function*(){t._removeVisibilityChangedCallback(),yield t._stopAutoRefresh()})()}_autoRefreshTokenTick(){var t=this;return m(function*(){t._debug("#_autoRefreshTokenTick()","begin");try{yield t._acquireLock(0,m(function*(){try{const r=Date.now();try{return yield t._useSession(function(){var i=m(function*(o){const{data:{session:s}}=o;if(!s||!s.refresh_token||!s.expires_at)return void t._debug("#_autoRefreshTokenTick()","no session");const a=Math.floor((1e3*s.expires_at-r)/qs);t._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),a<=3&&(yield t._callRefreshToken(s.refresh_token))});return function(o){return i.apply(this,arguments)}}())}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{t._debug("#_autoRefreshTokenTick()","end")}}))}catch(r){if(!(r.isAcquireTimeout||r instanceof s0))throw r;t._debug("auto refresh token tick lock not available")}})()}_handleVisibilityChange(){var t=this;return m(function*(){if(t._debug("#_handleVisibilityChange()"),!dn()||!window?.addEventListener)return t.autoRefreshToken&&t.startAutoRefresh(),!1;try{t.visibilityChangedCallback=m(function*(){return yield t._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",t.visibilityChangedCallback),yield t._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}})()}_onVisibilityChanged(t){var r=this;return m(function*(){const i=`#_onVisibilityChanged(${t})`;r._debug(i,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(r.autoRefreshToken&&r._startAutoRefresh(),t||(yield r.initializePromise,yield r._acquireLock(-1,m(function*(){"visible"===document.visibilityState?yield r._recoverAndRefresh():r._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&r.autoRefreshToken&&r._stopAutoRefresh()})()}_getUrlForProvider(t,r,i){var o=this;return m(function*(){const s=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&s.push(`scopes=${encodeURIComponent(i.scopes)}`),"pkce"===o.flowType){const[a,u]=yield so(o.storage,o.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(u)}`});s.push(l.toString())}if(i?.queryParams){const a=new URLSearchParams(i.queryParams);s.push(a.toString())}return i?.skipBrowserRedirect&&s.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${s.join("&")}`})()}_unenroll(t){var r=this;return m(function*(){try{return yield r._useSession(function(){var i=m(function*(o){var s;const{data:a,error:u}=o;return u?{data:null,error:u}:yield ee(r.fetch,"DELETE",`${r.url}/factors/${t.factorId}`,{headers:r.headers,jwt:null===(s=a?.session)||void 0===s?void 0:s.access_token})});return function(o){return i.apply(this,arguments)}}())}catch(i){if(Y(i))return{data:null,error:i};throw i}})()}_enroll(t){var r=this;return m(function*(){try{return yield r._useSession(function(){var i=m(function*(o){var s,a;const{data:u,error:l}=o;if(l)return{data:null,error:l};const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},"phone"===t.factorType?{phone:t.phone}:{issuer:t.issuer}),{data:d,error:f}=yield ee(r.fetch,"POST",`${r.url}/factors`,{body:c,headers:r.headers,jwt:null===(s=u?.session)||void 0===s?void 0:s.access_token});return f?{data:null,error:f}:("totp"===t.factorType&&!(null===(a=d?.totp)||void 0===a)&&a.qr_code&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})});return function(o){return i.apply(this,arguments)}}())}catch(i){if(Y(i))return{data:null,error:i};throw i}})()}_verify(t){var r=this;return m(function*(){return r._acquireLock(-1,m(function*(){try{return yield r._useSession(function(){var i=m(function*(o){var s;const{data:a,error:u}=o;if(u)return{data:null,error:u};const{data:l,error:c}=yield ee(r.fetch,"POST",`${r.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:r.headers,jwt:null===(s=a?.session)||void 0===s?void 0:s.access_token});return c?{data:null,error:c}:(yield r._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),yield r._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})});return function(o){return i.apply(this,arguments)}}())}catch(i){if(Y(i))return{data:null,error:i};throw i}}))})()}_challenge(t){var r=this;return m(function*(){return r._acquireLock(-1,m(function*(){try{return yield r._useSession(function(){var i=m(function*(o){var s;const{data:a,error:u}=o;return u?{data:null,error:u}:yield ee(r.fetch,"POST",`${r.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:r.headers,jwt:null===(s=a?.session)||void 0===s?void 0:s.access_token})});return function(o){return i.apply(this,arguments)}}())}catch(i){if(Y(i))return{data:null,error:i};throw i}}))})()}_challengeAndVerify(t){var r=this;return m(function*(){const{data:i,error:o}=yield r._challenge({factorId:t.factorId});return o?{data:null,error:o}:yield r._verify({factorId:t.factorId,challengeId:i.id,code:t.code})})()}_listFactors(){var t=this;return m(function*(){const{data:{user:r},error:i}=yield t.getUser();if(i)return{data:null,error:i};const o=r?.factors||[],s=o.filter(u=>"totp"===u.factor_type&&"verified"===u.status),a=o.filter(u=>"phone"===u.factor_type&&"verified"===u.status);return{data:{all:o,totp:s,phone:a},error:null}})()}_getAuthenticatorAssuranceLevel(){var t=this;return m(function*(){return t._acquireLock(-1,m(function*(){return yield t._useSession(function(){var r=m(function*(i){var o,s;const{data:{session:a},error:u}=i;if(u)return{data:null,error:u};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const l=t._decodeJWT(a.access_token);let c=null;l.aal&&(c=l.aal);let d=c;return(null!==(s=null===(o=a.user.factors)||void 0===o?void 0:o.filter(p=>"verified"===p.status))&&void 0!==s?s:[]).length>0&&(d="aal2"),{data:{currentLevel:c,nextLevel:d,currentAuthenticationMethods:l.amr||[]},error:null}});return function(i){return r.apply(this,arguments)}}())}))})()}}return e.nextInstanceID=0,e})();class XU extends JU{constructor(n){super(n)}}class t2{constructor(n,t,r){var i,o,s;if(this.supabaseUrl=n,this.supabaseKey=t,!n)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const a=function gU(e){return e.replace(/\/$/,"")}(n);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const u=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c=function mU(e,n){const{db:t,auth:r,realtime:i,global:o}=e,{db:s,auth:a,realtime:u,global:l}=n,c={db:Object.assign(Object.assign({},s),t),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},u),i),global:Object.assign(Object.assign({},l),o),accessToken:()=>function(e,n,t,r){return new(t||(t=Promise))(function(o,s){function a(c){try{l(r.next(c))}catch(d){s(d)}}function u(c){try{l(r.throw(c))}catch(d){s(d)}}function l(c){c.done?o(c.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(c.value).then(a,u)}l((r=r.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){return""})};return e.accessToken?c.accessToken=e.accessToken:delete c.accessToken,c}(r??{},{db:aU,realtime:lU,auth:Object.assign(Object.assign({},uU),{storageKey:u}),global:sU});this.storageKey=null!==(i=c.auth.storageKey)&&void 0!==i?i:"",this.headers=null!==(o=c.global.headers)&&void 0!==o?o:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(s=c.auth)&&void 0!==s?s:{},this.headers,c.global.fetch),this.fetch=hU(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},c.realtime)),this.rest=new FE(`${a}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new C$(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new iU(this.storageUrl,this.headers,this.fetch)}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,t={},r={}){return this.rest.rpc(n,t,r)}channel(n,t={config:{}}){return this.realtime.channel(n,t)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,t;return function(e,n,t,r){return new(t||(t=Promise))(function(o,s){function a(c){try{l(r.next(c))}catch(d){s(d)}}function u(c){try{l(r.throw(c))}catch(d){s(d)}}function l(c){c.done?o(c.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(c.value).then(a,u)}l((r=r.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return null!==(t=null===(n=r.session)||void 0===n?void 0:n.access_token)&&void 0!==t?t:null})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:t,detectSessionInUrl:r,storage:i,storageKey:o,flowType:s,lock:a,debug:u},l,c){var d;return new XU({url:this.authUrl,headers:Object.assign(Object.assign({},{Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`}),l),storageKey:o,autoRefreshToken:n,persistSession:t,detectSessionInUrl:r,storage:i,flowType:s,lock:a,debug:u,fetch:c,hasCustomAuthorizationHeader:null!==(d="Authorization"in this.headers)&&void 0!==d&&d})}_initRealtimeClient(n){return new G$(this.realtimeUrl,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r?.access_token)})}_handleTokenChanged(n,t,r){"TOKEN_REFRESHED"!==n&&"SIGNED_IN"!==n||this.changedAccessToken===r?"SIGNED_OUT"===n&&(this.realtime.setAuth(this.supabaseKey),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):(this.realtime.setAuth(r??null),this.changedAccessToken=r)}}let r2=(()=>{class e{constructor(){this.supabase=((e,n,t)=>new t2(e,n,void 0))("https://yscutlkarcjnnmgrviko.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlzY3V0bGthcmNqbm5tZ3J2aWtvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzA4MjQ0NDIsImV4cCI6MjA0NjQwMDQ0Mn0.aIMNs_H9bLlTwmFTrjD-QVqwJCTMBHkgwgTRTJ4bAt4")}login(t){var r=this;return m(function*(){try{const{data:i,error:o,status:s}=yield r.supabase.from("participants").select("*").eq("name",t);return 406===s?(console.error("406 Not Acceptable - No matching user or multiple users found with the same name."),!1):o?(console.error("Error during login:",o.message),!1):!!i||(console.warn("No user found for username:",t),!1)}catch(i){return console.error("Unexpected error during login:",i),!1}})()}getAllParticipants(){var t=this;return m(function*(){const{data:r,error:i}=yield t.supabase.from("participants").select("*");return{data:r,error:i}})()}getParticipantNames(){var t=this;return m(function*(){const{data:r,error:i}=yield t.supabase.from("participants").select("name");return{data:r?.map(o=>o.name)??null,error:i}})()}getAvailableParticipants(){var t=this;return m(function*(){const{data:r,error:i}=yield t.supabase.from("participants").select("*").eq("chosen",!1);return{data:r,error:i}})()}subscribeToParticipants(t){return this.supabase.channel("participants").on("postgres_changes",{event:"*",schema:"public",table:"participants"},t).subscribe()}chooseParticipant(t){var r=this;return m(function*(){const{error:i}=yield r.supabase.from("participants").update({chosen:!0}).eq("id",t);return!i})()}updateSelectedSanta(t,r){var i=this;return m(function*(){const{error:o}=yield i.supabase.from("participants").update({selected_santa:r}).eq("id",t);return{error:o}})()}updateChosenStatus(t,r){var i=this;return m(function*(){const{error:o}=yield i.supabase.from("participants").update({chosen:r}).eq("id",t);return{error:o}})()}getParticipantByName(t){var r=this;return m(function*(){const{data:i,error:o}=yield r.supabase.from("participants").select("*").eq("name",t).single();return{data:i,error:o}})()}getParticipantById(t){var r=this;return m(function*(){const{data:i,error:o}=yield r.supabase.from("participants").select("*").eq("id",t).single();return{data:i,error:o}})()}unsubscribe(t){this.supabase.removeChannel(t)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function i2(e,n){1&e&&(he(0,"option",8),Ye(1,"Loading participants..."),ge())}function o2(e,n){if(1&e&&(he(0,"option",9),Ye(1),ge()),2&e){const t=n.$implicit;Ve("value",t.name),Te(1),Rr(" ",t.name," ")}}function s2(e,n){if(1&e){const t=lu();he(0,"div")(1,"h1"),Ye(2,"Secret Santa"),ge(),he(3,"form",1),Ze("ngSubmit",function(){return Io(t),So(mt().login())}),he(4,"label",2),Ye(5,"Select Your Name:"),ge(),he(6,"select",3),Ze("ngModelChange",function(i){return Io(t),So(mt().username=i)}),gt(7,i2,2,0,"option",4),gt(8,o2,2,2,"option",5),ge(),he(9,"button",6),Ye(10,"Login"),ge()(),su(11,"img",7),ge()}if(2&e){const t=mt();Te(6),Ve("ngModel",t.username),Te(1),Ve("ngIf",0===t.participants.length),Te(1),Ve("ngForOf",t.participants),Te(1),Ve("disabled",0===t.participants.length)}}function a2(e,n){if(1&e&&(he(0,"p"),Ye(1),ge()),2&e){const t=mt(2).$implicit;Te(1),fu(t.name)}}function u2(e,n){1&e&&(he(0,"p"),Ye(1,"Selected"),ge())}function l2(e,n){if(1&e){const t=lu();he(0,"div",13),Ze("click",function(){Io(t);const i=mt().$implicit;return So(mt(2).chooseParticipant(i))}),he(1,"div",14),gt(2,a2,2,1,"p",0),gt(3,u2,2,0,"p",0),ge()()}if(2&e){const t=mt().$implicit,r=mt(2);ns("disabled",r.selectedParticipant||t.name===(null==r.loggedInParticipant?null:r.loggedInParticipant.name)||t.chosen),Te(2),Ve("ngIf",!t.chosen),Te(1),Ve("ngIf",t.chosen)}}function c2(e,n){if(1&e&&(au(0),gt(1,l2,4,4,"div",12),uu()),2&e){const t=n.$implicit,r=mt(2);Te(1),Ve("ngIf",t.name!==(null==r.loggedInParticipant?null:r.loggedInParticipant.name))}}function d2(e,n){if(1&e&&(he(0,"div")(1,"p"),Ye(2),ge()()),2&e){const t=mt(2);Te(2),Rr("You selected: ",t.selectedParticipant.name,"")}}function f2(e,n){if(1&e&&(he(0,"div")(1,"h1"),Ye(2),ge(),he(3,"p"),Ye(4,"Select a participant for your Secret Santa:"),ge(),he(5,"div",10),gt(6,c2,2,1,"ng-container",11),ge(),gt(7,d2,3,1,"div",0),ge()),2&e){const t=mt();Te(2),Rr("Hello, ",t.username,""),Te(4),Ve("ngForOf",t.participants),Te(1),Ve("ngIf",t.selectedParticipant)}}let h2=(()=>{class e{constructor(t){this.supabaseService=t,this.username="",this.isLoggedIn=!1,this.participants=[],this.selectedParticipant=null,this.loggedInParticipant=null}ngOnInit(){this.fetchLoginParticipants(),this.subscribeToParticipantChanges()}fetchLoggedInParticipant(){var t=this;return m(function*(){const{data:r,error:i}=yield t.supabaseService.getParticipantByName(t.username);if(i)console.error("Error fetching logged-in participant:",i);else if(t.loggedInParticipant=r,t.loggedInParticipant&&null!==t.loggedInParticipant.selected_santa){const{data:o,error:s}=yield t.supabaseService.getParticipantById(t.loggedInParticipant.selected_santa);s?console.error("Error fetching selected Santa:",s):t.selectedParticipant=o}})()}fetchLoginParticipants(){var t=this;return m(function*(){console.log("Fetching all participants for login...");const{data:r,error:i}=yield t.supabaseService.getAllParticipants();i?console.error("Error fetching participants for login:",i):t.participants=r??[]})()}login(){var t=this;return m(function*(){console.log("Logging in as:",t.username);const r=yield t.supabaseService.login(t.username);t.isLoggedIn=r,r?(console.log("Login successful!"),yield t.fetchLoggedInParticipant(),t.fetchAvailableParticipants(),t.subscribeToParticipantChanges()):alert("Login failed: user not found.")})()}fetchAvailableParticipants(){var t=this;return m(function*(){const{data:r,error:i}=yield t.supabaseService.getAvailableParticipants();i?console.error("Error fetching participants:",i):t.participants=r??[]})()}chooseParticipant(t){var r=this;return m(function*(){if(!r.loggedInParticipant)return void console.error("No logged-in participant found");const i=r.loggedInParticipant.id,o=t.id,{error:s}=yield r.supabaseService.updateSelectedSanta(i,o);if(s)return console.error("Error updating selected_santa:",s),void alert("Failed to select participant");const{error:a}=yield r.supabaseService.updateChosenStatus(o,!0);if(a)return console.error("Error updating chosen status:",a),void alert("Failed to select participant");r.selectedParticipant=t,r.fetchAvailableParticipants(),alert(`You selected ${t.name} as your Secret Santa!`)})()}subscribeToParticipantChanges(){this.participantSubscription=this.supabaseService.subscribeToParticipants(t=>{console.log("Change received!",t),this.fetchAvailableParticipants()})}ngOnDestroy(){this.participantSubscription&&this.supabaseService.unsubscribe(this.participantSubscription)}static{this.\u0275fac=function(r){return new(r||e)(E(r2))}}static{this.\u0275cmp=mo({type:e,selectors:[["app-root"]],decls:2,vars:2,consts:[[4,"ngIf"],[3,"ngSubmit"],["for","username"],["id","username","name","username","required","",3,"ngModel","ngModelChange"],["disabled","",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["type","submit",3,"disabled"],["src","https://i.pinimg.com/736x/7a/94/39/7a9439c541c8e9909208e5272885cb81.jpg","alt","Grinch"],["disabled",""],[3,"value"],[1,"participants-grid"],[4,"ngFor","ngForOf"],["class","participant-box",3,"disabled","click",4,"ngIf"],[1,"participant-box",3,"click"],[1,"box-content"]],template:function(r,i){1&r&&(gt(0,s2,12,4,"div",0),gt(1,f2,8,3,"div",0)),2&r&&(Ve("ngIf",!i.isLoggedIn),Te(1),Ve("ngIf",i.isLoggedIn))},dependencies:[Lf,ju,$h,CE,EE,yl,Ah,Th,$s,vl,Vs],styles:['form[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-width:300px;margin:auto}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:8px;font-weight:700}form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{margin-bottom:16px;padding:8px;font-size:16px}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px;background-color:green;color:#fff;border:none;cursor:pointer;font-size:16px;border-radius:4px}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#006400}.participants-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:16px;padding:20px 0;justify-items:center}.participant-box[_ngcontent-%COMP%]{width:120px;height:120px;background-color:#de0707;border-radius:8px;cursor:pointer;perspective:1000px;transition:transform .6s;position:relative}.participant-box.disabled[_ngcontent-%COMP%]{pointer-events:none;opacity:.6}.participant-box[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:50px;height:50px;background-image:url(https://static.vecteezy.com/system/resources/previews/033/888/891/non_2x/gold-star-gift-bow-ribbon-with-ai-generated-free-png.png);background-size:cover;background-position:center}.participant-box[_ngcontent-%COMP%]   .box-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%;width:100%;text-align:center;backface-visibility:hidden;transform:rotateY(180deg);transition:transform .6s;font-size:16px;font-weight:700;color:#fff}.participant-box[_ngcontent-%COMP%]:hover   .box-content[_ngcontent-%COMP%]{transform:rotateY(0)}.participant-box[_ngcontent-%COMP%]   .box-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#fff}.participant-box[_ngcontent-%COMP%] > .box-content[_ngcontent-%COMP%]:first-child{transform:rotateY(0)}.participant-box[_ngcontent-%COMP%] > .box-content[_ngcontent-%COMP%]:last-child{transform:rotateY(180deg)}img[_ngcontent-%COMP%]{display:block;margin:0 auto;padding:10px;width:80%;object-fit:cover;border-radius:8px}']})}}return e})(),p2=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=mn({type:e,bootstrap:[h2]})}static{this.\u0275inj=Xt({imports:[TF,m$,u$]})}}return e})();MF().bootstrapModule(p2).catch(e=>console.error(e))},286:(Ge,L,B)=>{"use strict";B.r(L),B.d(L,{Headers:()=>_,Request:()=>D,Response:()=>I,default:()=>X,fetch:()=>xe});var Q=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}();const xe=Q.fetch,X=Q.fetch.bind(Q),_=Q.Headers,D=Q.Request,I=Q.Response},958:function(Ge,L,B){"use strict";var N=B(293).default,Q=this&&this.__importDefault||function(D){return D&&D.__esModule?D:{default:D}};Object.defineProperty(L,"__esModule",{value:!0});const xe=Q(B(286)),X=Q(B(659));L.default=class _{constructor(I){this.shouldThrowOnError=!1,this.method=I.method,this.url=I.url,this.headers=I.headers,this.schema=I.schema,this.body=I.body,this.shouldThrowOnError=I.shouldThrowOnError,this.signal=I.signal,this.isMaybeSingle=I.isMaybeSingle,this.fetch=I.fetch?I.fetch:typeof fetch>"u"?xe.default:fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(I,T){return this.headers=Object.assign({},this.headers),this.headers[I]=T,this}then(I,T){var k=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let le=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(function(){var ie=N(function*(Ie){var it,Vt,$t;let ce=null,qe=null,lo=null,On=Ie.status,Cr=Ie.statusText;if(Ie.ok){if("HEAD"!==k.method){const Nn=yield Ie.text();""===Nn||(qe="text/csv"===k.headers.Accept||k.headers.Accept&&k.headers.Accept.includes("application/vnd.pgrst.plan+text")?Nn:JSON.parse(Nn))}const br=null===(it=k.headers.Prefer)||void 0===it?void 0:it.match(/count=(exact|planned|estimated)/),fn=null===(Vt=Ie.headers.get("content-range"))||void 0===Vt?void 0:Vt.split("/");br&&fn&&fn.length>1&&(lo=parseInt(fn[1])),k.isMaybeSingle&&"GET"===k.method&&Array.isArray(qe)&&(qe.length>1?(ce={code:"PGRST116",details:`Results contain ${qe.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},qe=null,lo=null,On=406,Cr="Not Acceptable"):qe=1===qe.length?qe[0]:null)}else{const br=yield Ie.text();try{ce=JSON.parse(br),Array.isArray(ce)&&404===Ie.status&&(qe=[],ce=null,On=200,Cr="OK")}catch{404===Ie.status&&""===br?(On=204,Cr="No Content"):ce={message:br}}if(ce&&k.isMaybeSingle&&!(null===($t=ce?.details)||void 0===$t)&&$t.includes("0 rows")&&(ce=null,On=200,Cr="OK"),ce&&k.shouldThrowOnError)throw new X.default(ce)}return{error:ce,data:qe,count:lo,status:On,statusText:Cr}});return function(Ie){return ie.apply(this,arguments)}}());return this.shouldThrowOnError||(le=le.catch(ie=>{var Ie,it,Vt;return{error:{message:`${null!==(Ie=ie?.name)&&void 0!==Ie?Ie:"FetchError"}: ${ie?.message}`,details:`${null!==(it=ie?.stack)&&void 0!==it?it:""}`,hint:"",code:`${null!==(Vt=ie?.code)&&void 0!==Vt?Vt:""}`},data:null,count:null,status:0,statusText:""}})),le.then(I,T)}}},242:function(Ge,L,B){"use strict";var N=this&&this.__importDefault||function(D){return D&&D.__esModule?D:{default:D}};Object.defineProperty(L,"__esModule",{value:!0});const Q=N(B(666)),xe=N(B(608)),X=B(57);class _{constructor(I,{headers:T={},schema:k,fetch:ue}={}){this.url=I,this.headers=Object.assign(Object.assign({},X.DEFAULT_HEADERS),T),this.schemaName=k,this.fetch=ue}from(I){const T=new URL(`${this.url}/${I}`);return new Q.default(T,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(I){return new _(this.url,{headers:this.headers,schema:I,fetch:this.fetch})}rpc(I,T={},{head:k=!1,get:ue=!1,count:le}={}){let ie;const Ie=new URL(`${this.url}/rpc/${I}`);let it;k||ue?(ie=k?"HEAD":"GET",Object.entries(T).filter(([$t,ce])=>void 0!==ce).map(([$t,ce])=>[$t,Array.isArray(ce)?`{${ce.join(",")}}`:`${ce}`]).forEach(([$t,ce])=>{Ie.searchParams.append($t,ce)})):(ie="POST",it=T);const Vt=Object.assign({},this.headers);return le&&(Vt.Prefer=`count=${le}`),new xe.default({method:ie,url:Ie,headers:Vt,schema:this.schemaName,body:it,fetch:this.fetch,allowEmpty:!1})}}L.default=_},659:(Ge,L)=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});class B extends Error{constructor(Q){super(Q.message),this.name="PostgrestError",this.details=Q.details,this.hint=Q.hint,this.code=Q.code}}L.default=B},608:function(Ge,L,B){"use strict";var N=this&&this.__importDefault||function(X){return X&&X.__esModule?X:{default:X}};Object.defineProperty(L,"__esModule",{value:!0});const Q=N(B(342));L.default=class xe extends Q.default{eq(_,D){return this.url.searchParams.append(_,`eq.${D}`),this}neq(_,D){return this.url.searchParams.append(_,`neq.${D}`),this}gt(_,D){return this.url.searchParams.append(_,`gt.${D}`),this}gte(_,D){return this.url.searchParams.append(_,`gte.${D}`),this}lt(_,D){return this.url.searchParams.append(_,`lt.${D}`),this}lte(_,D){return this.url.searchParams.append(_,`lte.${D}`),this}like(_,D){return this.url.searchParams.append(_,`like.${D}`),this}likeAllOf(_,D){return this.url.searchParams.append(_,`like(all).{${D.join(",")}}`),this}likeAnyOf(_,D){return this.url.searchParams.append(_,`like(any).{${D.join(",")}}`),this}ilike(_,D){return this.url.searchParams.append(_,`ilike.${D}`),this}ilikeAllOf(_,D){return this.url.searchParams.append(_,`ilike(all).{${D.join(",")}}`),this}ilikeAnyOf(_,D){return this.url.searchParams.append(_,`ilike(any).{${D.join(",")}}`),this}is(_,D){return this.url.searchParams.append(_,`is.${D}`),this}in(_,D){const I=Array.from(new Set(D)).map(T=>"string"==typeof T&&new RegExp("[,()]").test(T)?`"${T}"`:`${T}`).join(",");return this.url.searchParams.append(_,`in.(${I})`),this}contains(_,D){return"string"==typeof D?this.url.searchParams.append(_,`cs.${D}`):Array.isArray(D)?this.url.searchParams.append(_,`cs.{${D.join(",")}}`):this.url.searchParams.append(_,`cs.${JSON.stringify(D)}`),this}containedBy(_,D){return"string"==typeof D?this.url.searchParams.append(_,`cd.${D}`):Array.isArray(D)?this.url.searchParams.append(_,`cd.{${D.join(",")}}`):this.url.searchParams.append(_,`cd.${JSON.stringify(D)}`),this}rangeGt(_,D){return this.url.searchParams.append(_,`sr.${D}`),this}rangeGte(_,D){return this.url.searchParams.append(_,`nxl.${D}`),this}rangeLt(_,D){return this.url.searchParams.append(_,`sl.${D}`),this}rangeLte(_,D){return this.url.searchParams.append(_,`nxr.${D}`),this}rangeAdjacent(_,D){return this.url.searchParams.append(_,`adj.${D}`),this}overlaps(_,D){return this.url.searchParams.append(_,"string"==typeof D?`ov.${D}`:`ov.{${D.join(",")}}`),this}textSearch(_,D,{config:I,type:T}={}){let k="";return"plain"===T?k="pl":"phrase"===T?k="ph":"websearch"===T&&(k="w"),this.url.searchParams.append(_,`${k}fts${void 0===I?"":`(${I})`}.${D}`),this}match(_){return Object.entries(_).forEach(([D,I])=>{this.url.searchParams.append(D,`eq.${I}`)}),this}not(_,D,I){return this.url.searchParams.append(_,`not.${D}.${I}`),this}or(_,{foreignTable:D,referencedTable:I=D}={}){return this.url.searchParams.append(I?`${I}.or`:"or",`(${_})`),this}filter(_,D,I){return this.url.searchParams.append(_,`${D}.${I}`),this}}},666:function(Ge,L,B){"use strict";var N=this&&this.__importDefault||function(X){return X&&X.__esModule?X:{default:X}};Object.defineProperty(L,"__esModule",{value:!0});const Q=N(B(608));L.default=class xe{constructor(_,{headers:D={},schema:I,fetch:T}){this.url=_,this.headers=D,this.schema=I,this.fetch=T}select(_,{head:D=!1,count:I}={}){const T=D?"HEAD":"GET";let k=!1;const ue=(_??"*").split("").map(le=>/\s/.test(le)&&!k?"":('"'===le&&(k=!k),le)).join("");return this.url.searchParams.set("select",ue),I&&(this.headers.Prefer=`count=${I}`),new Q.default({method:T,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(_,{count:D,defaultToNull:I=!0}={}){const k=[];if(this.headers.Prefer&&k.push(this.headers.Prefer),D&&k.push(`count=${D}`),I||k.push("missing=default"),this.headers.Prefer=k.join(","),Array.isArray(_)){const ue=_.reduce((le,ie)=>le.concat(Object.keys(ie)),[]);if(ue.length>0){const le=[...new Set(ue)].map(ie=>`"${ie}"`);this.url.searchParams.set("columns",le.join(","))}}return new Q.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:_,fetch:this.fetch,allowEmpty:!1})}upsert(_,{onConflict:D,ignoreDuplicates:I=!1,count:T,defaultToNull:k=!0}={}){const le=[`resolution=${I?"ignore":"merge"}-duplicates`];if(void 0!==D&&this.url.searchParams.set("on_conflict",D),this.headers.Prefer&&le.push(this.headers.Prefer),T&&le.push(`count=${T}`),k||le.push("missing=default"),this.headers.Prefer=le.join(","),Array.isArray(_)){const ie=_.reduce((Ie,it)=>Ie.concat(Object.keys(it)),[]);if(ie.length>0){const Ie=[...new Set(ie)].map(it=>`"${it}"`);this.url.searchParams.set("columns",Ie.join(","))}}return new Q.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:_,fetch:this.fetch,allowEmpty:!1})}update(_,{count:D}={}){const T=[];return this.headers.Prefer&&T.push(this.headers.Prefer),D&&T.push(`count=${D}`),this.headers.Prefer=T.join(","),new Q.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:_,fetch:this.fetch,allowEmpty:!1})}delete({count:_}={}){const I=[];return _&&I.push(`count=${_}`),this.headers.Prefer&&I.unshift(this.headers.Prefer),this.headers.Prefer=I.join(","),new Q.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}},342:function(Ge,L,B){"use strict";var N=this&&this.__importDefault||function(X){return X&&X.__esModule?X:{default:X}};Object.defineProperty(L,"__esModule",{value:!0});const Q=N(B(958));L.default=class xe extends Q.default{select(_){let D=!1;const I=(_??"*").split("").map(T=>/\s/.test(T)&&!D?"":('"'===T&&(D=!D),T)).join("");return this.url.searchParams.set("select",I),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(_,{ascending:D=!0,nullsFirst:I,foreignTable:T,referencedTable:k=T}={}){const ue=k?`${k}.order`:"order",le=this.url.searchParams.get(ue);return this.url.searchParams.set(ue,`${le?`${le},`:""}${_}.${D?"asc":"desc"}${void 0===I?"":I?".nullsfirst":".nullslast"}`),this}limit(_,{foreignTable:D,referencedTable:I=D}={}){return this.url.searchParams.set(typeof I>"u"?"limit":`${I}.limit`,`${_}`),this}range(_,D,{foreignTable:I,referencedTable:T=I}={}){const ue=typeof T>"u"?"limit":`${T}.limit`;return this.url.searchParams.set(typeof T>"u"?"offset":`${T}.offset`,`${_}`),this.url.searchParams.set(ue,""+(D-_+1)),this}abortSignal(_){return this.signal=_,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.headers.Accept="GET"===this.method?"application/json":"application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:_=!1,verbose:D=!1,settings:I=!1,buffers:T=!1,wal:k=!1,format:ue="text"}={}){var le;const ie=[_?"analyze":null,D?"verbose":null,I?"settings":null,T?"buffers":null,k?"wal":null].filter(Boolean).join("|"),Ie=null!==(le=this.headers.Accept)&&void 0!==le?le:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${ue}; for="${Ie}"; options=${ie};`,this}rollback(){var _;return(null!==(_=this.headers.Prefer)&&void 0!==_?_:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}},57:(Ge,L,B)=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.DEFAULT_HEADERS=void 0;const N=B(56);L.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${N.version}`}},60:function(Ge,L,B){"use strict";var N=this&&this.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(L,"__esModule",{value:!0}),L.PostgrestError=L.PostgrestBuilder=L.PostgrestTransformBuilder=L.PostgrestFilterBuilder=L.PostgrestQueryBuilder=L.PostgrestClient=void 0;const Q=N(B(242));L.PostgrestClient=Q.default;const xe=N(B(666));L.PostgrestQueryBuilder=xe.default;const X=N(B(608));L.PostgrestFilterBuilder=X.default;const _=N(B(342));L.PostgrestTransformBuilder=_.default;const D=N(B(958));L.PostgrestBuilder=D.default;const I=N(B(659));L.PostgrestError=I.default,L.default={PostgrestClient:Q.default,PostgrestQueryBuilder:xe.default,PostgrestFilterBuilder:X.default,PostgrestTransformBuilder:_.default,PostgrestBuilder:D.default,PostgrestError:I.default}},56:(Ge,L)=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.version=void 0,L.version="0.0.0-automated"},293:Ge=>{function L(N,Q,xe,X,_,D,I){try{var T=N[D](I),k=T.value}catch(ue){return void xe(ue)}T.done?Q(k):Promise.resolve(k).then(X,_)}Ge.exports=function B(N){return function(){var Q=this,xe=arguments;return new Promise(function(X,_){var D=N.apply(Q,xe);function I(k){L(D,X,_,I,T,"next",k)}function T(k){L(D,X,_,I,T,"throw",k)}I(void 0)})}},Ge.exports.__esModule=!0,Ge.exports.default=Ge.exports}},Ge=>{Ge(Ge.s=408)}]);